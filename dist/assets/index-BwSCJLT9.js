(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function s(u){if(u.ep)return;u.ep=!0;const m=a(u);fetch(u.href,m)}})();function Hh(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ou={exports:{}},Wi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function nx(){if(Om)return Wi;Om=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(s,u,m){var h=null;if(m!==void 0&&(h=""+m),u.key!==void 0&&(h=""+u.key),"key"in u){m={};for(var x in u)x!=="key"&&(m[x]=u[x])}else m=u;return u=m.ref,{$$typeof:l,type:s,key:h,ref:u!==void 0?u:null,props:m}}return Wi.Fragment=n,Wi.jsx=a,Wi.jsxs=a,Wi}var Ym;function lx(){return Ym||(Ym=1,ou.exports=nx()),ou.exports}var r=lx(),ru={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function ix(){if(Jm)return ge;Jm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),C=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=C&&w[C]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,L={};function Y(w,q,ne){this.props=w,this.context=q,this.refs=L,this.updater=ne||E}Y.prototype.isReactComponent={},Y.prototype.setState=function(w,q){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,q,"setState")},Y.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function U(){}U.prototype=Y.prototype;function P(w,q,ne){this.props=w,this.context=q,this.refs=L,this.updater=ne||E}var V=P.prototype=new U;V.constructor=P,D(V,Y.prototype),V.isPureReactComponent=!0;var z=Array.isArray;function W(){}var Z={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function ie(w,q,ne){var le=ne.ref;return{$$typeof:l,type:w,key:q,ref:le!==void 0?le:null,props:ne}}function ce(w,q){return ie(w.type,q,w.props)}function X(w){return typeof w=="object"&&w!==null&&w.$$typeof===l}function ae(w){var q={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ne){return q[ne]})}var re=/\/+/g;function ee(w,q){return typeof w=="object"&&w!==null&&w.key!=null?ae(""+w.key):q.toString(36)}function te(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(W,W):(w.status="pending",w.then(function(q){w.status==="pending"&&(w.status="fulfilled",w.value=q)},function(q){w.status==="pending"&&(w.status="rejected",w.reason=q)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function I(w,q,ne,le,he){var pe=typeof w;(pe==="undefined"||pe==="boolean")&&(w=null);var Me=!1;if(w===null)Me=!0;else switch(pe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(w.$$typeof){case l:case n:Me=!0;break;case v:return Me=w._init,I(Me(w._payload),q,ne,le,he)}}if(Me)return he=he(w),Me=le===""?"."+ee(w,0):le,z(he)?(ne="",Me!=null&&(ne=Me.replace(re,"$&/")+"/"),I(he,q,ne,"",function(si){return si})):he!=null&&(X(he)&&(he=ce(he,ne+(he.key==null||w&&w.key===he.key?"":(""+he.key).replace(re,"$&/")+"/")+Me)),q.push(he)),1;Me=0;var dt=le===""?".":le+":";if(z(w))for(var Be=0;Be<w.length;Be++)le=w[Be],pe=dt+ee(le,Be),Me+=I(le,q,ne,pe,he);else if(Be=b(w),typeof Be=="function")for(w=Be.call(w),Be=0;!(le=w.next()).done;)le=le.value,pe=dt+ee(le,Be++),Me+=I(le,q,ne,pe,he);else if(pe==="object"){if(typeof w.then=="function")return I(te(w),q,ne,le,he);throw q=String(w),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Me}function $(w,q,ne){if(w==null)return w;var le=[],he=0;return I(w,le,"","",function(pe){return q.call(ne,pe,he++)}),le}function J(w){if(w._status===-1){var q=w._result;q=q(),q.then(function(ne){(w._status===0||w._status===-1)&&(w._status=1,w._result=ne)},function(ne){(w._status===0||w._status===-1)&&(w._status=2,w._result=ne)}),w._status===-1&&(w._status=0,w._result=q)}if(w._status===1)return w._result.default;throw w._result}var F=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},B={map:$,forEach:function(w,q,ne){$(w,function(){q.apply(this,arguments)},ne)},count:function(w){var q=0;return $(w,function(){q++}),q},toArray:function(w){return $(w,function(q){return q})||[]},only:function(w){if(!X(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ge.Activity=T,ge.Children=B,ge.Component=Y,ge.Fragment=a,ge.Profiler=u,ge.PureComponent=P,ge.StrictMode=s,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ge.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Z.H.useMemoCache(w)}},ge.cache=function(w){return function(){return w.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(w,q,ne){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var le=D({},w.props),he=w.key;if(q!=null)for(pe in q.key!==void 0&&(he=""+q.key),q)!se.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(le[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)le.children=ne;else if(1<pe){for(var Me=Array(pe),dt=0;dt<pe;dt++)Me[dt]=arguments[dt+2];le.children=Me}return ie(w.type,he,le)},ge.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:m,_context:w},w},ge.createElement=function(w,q,ne){var le,he={},pe=null;if(q!=null)for(le in q.key!==void 0&&(pe=""+q.key),q)se.call(q,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(he[le]=q[le]);var Me=arguments.length-2;if(Me===1)he.children=ne;else if(1<Me){for(var dt=Array(Me),Be=0;Be<Me;Be++)dt[Be]=arguments[Be+2];he.children=dt}if(w&&w.defaultProps)for(le in Me=w.defaultProps,Me)he[le]===void 0&&(he[le]=Me[le]);return ie(w,pe,he)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(w){return{$$typeof:x,render:w}},ge.isValidElement=X,ge.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:J}},ge.memo=function(w,q){return{$$typeof:g,type:w,compare:q===void 0?null:q}},ge.startTransition=function(w){var q=Z.T,ne={};Z.T=ne;try{var le=w(),he=Z.S;he!==null&&he(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(W,F)}catch(pe){F(pe)}finally{q!==null&&ne.types!==null&&(q.types=ne.types),Z.T=q}},ge.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ge.use=function(w){return Z.H.use(w)},ge.useActionState=function(w,q,ne){return Z.H.useActionState(w,q,ne)},ge.useCallback=function(w,q){return Z.H.useCallback(w,q)},ge.useContext=function(w){return Z.H.useContext(w)},ge.useDebugValue=function(){},ge.useDeferredValue=function(w,q){return Z.H.useDeferredValue(w,q)},ge.useEffect=function(w,q){return Z.H.useEffect(w,q)},ge.useEffectEvent=function(w){return Z.H.useEffectEvent(w)},ge.useId=function(){return Z.H.useId()},ge.useImperativeHandle=function(w,q,ne){return Z.H.useImperativeHandle(w,q,ne)},ge.useInsertionEffect=function(w,q){return Z.H.useInsertionEffect(w,q)},ge.useLayoutEffect=function(w,q){return Z.H.useLayoutEffect(w,q)},ge.useMemo=function(w,q){return Z.H.useMemo(w,q)},ge.useOptimistic=function(w,q){return Z.H.useOptimistic(w,q)},ge.useReducer=function(w,q,ne){return Z.H.useReducer(w,q,ne)},ge.useRef=function(w){return Z.H.useRef(w)},ge.useState=function(w){return Z.H.useState(w)},ge.useSyncExternalStore=function(w,q,ne){return Z.H.useSyncExternalStore(w,q,ne)},ge.useTransition=function(){return Z.H.useTransition()},ge.version="19.2.0",ge}var Fm;function Mu(){return Fm||(Fm=1,ru.exports=ix()),ru.exports}var M=Mu();const qh=Hh(M);var uu={exports:{}},ea={},cu={exports:{}},du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function ax(){return Xm||(Xm=1,(function(l){function n(I,$){var J=I.length;I.push($);e:for(;0<J;){var F=J-1>>>1,B=I[F];if(0<u(B,$))I[F]=$,I[J]=B,J=F;else break e}}function a(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var $=I[0],J=I.pop();if(J!==$){I[0]=J;e:for(var F=0,B=I.length,w=B>>>1;F<w;){var q=2*(F+1)-1,ne=I[q],le=q+1,he=I[le];if(0>u(ne,J))le<B&&0>u(he,ne)?(I[F]=he,I[le]=J,F=le):(I[F]=ne,I[q]=J,F=q);else if(le<B&&0>u(he,J))I[F]=he,I[le]=J,F=le;else break e}}return $}function u(I,$){var J=I.sortIndex-$.sortIndex;return J!==0?J:I.id-$.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var h=Date,x=h.now();l.unstable_now=function(){return h.now()-x}}var y=[],g=[],v=1,T=null,C=3,b=!1,E=!1,D=!1,L=!1,Y=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function V(I){for(var $=a(g);$!==null;){if($.callback===null)s(g);else if($.startTime<=I)s(g),$.sortIndex=$.expirationTime,n(y,$);else break;$=a(g)}}function z(I){if(D=!1,V(I),!E)if(a(y)!==null)E=!0,W||(W=!0,ae());else{var $=a(g);$!==null&&te(z,$.startTime-I)}}var W=!1,Z=-1,se=5,ie=-1;function ce(){return L?!0:!(l.unstable_now()-ie<se)}function X(){if(L=!1,W){var I=l.unstable_now();ie=I;var $=!0;try{e:{E=!1,D&&(D=!1,U(Z),Z=-1),b=!0;var J=C;try{t:{for(V(I),T=a(y);T!==null&&!(T.expirationTime>I&&ce());){var F=T.callback;if(typeof F=="function"){T.callback=null,C=T.priorityLevel;var B=F(T.expirationTime<=I);if(I=l.unstable_now(),typeof B=="function"){T.callback=B,V(I),$=!0;break t}T===a(y)&&s(y),V(I)}else s(y);T=a(y)}if(T!==null)$=!0;else{var w=a(g);w!==null&&te(z,w.startTime-I),$=!1}}break e}finally{T=null,C=J,b=!1}$=void 0}}finally{$?ae():W=!1}}}var ae;if(typeof P=="function")ae=function(){P(X)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ee=re.port2;re.port1.onmessage=X,ae=function(){ee.postMessage(null)}}else ae=function(){Y(X,0)};function te(I,$){Z=Y(function(){I(l.unstable_now())},$)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(I){I.callback=null},l.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<I?Math.floor(1e3/I):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_next=function(I){switch(C){case 1:case 2:case 3:var $=3;break;default:$=C}var J=C;C=$;try{return I()}finally{C=J}},l.unstable_requestPaint=function(){L=!0},l.unstable_runWithPriority=function(I,$){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var J=C;C=I;try{return $()}finally{C=J}},l.unstable_scheduleCallback=function(I,$,J){var F=l.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?F+J:F):J=F,I){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,I={id:v++,callback:$,priorityLevel:I,startTime:J,expirationTime:B,sortIndex:-1},J>F?(I.sortIndex=J,n(g,I),a(y)===null&&I===a(g)&&(D?(U(Z),Z=-1):D=!0,te(z,J-F))):(I.sortIndex=B,n(y,I),E||b||(E=!0,W||(W=!0,ae()))),I},l.unstable_shouldYield=ce,l.unstable_wrapCallback=function(I){var $=C;return function(){var J=C;C=$;try{return I.apply(this,arguments)}finally{C=J}}}})(du)),du}var Km;function sx(){return Km||(Km=1,cu.exports=ax()),cu.exports}var fu={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function ox(){if(Qm)return ot;Qm=1;var l=Mu();function n(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function m(y,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:y,containerInfo:g,implementation:v}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ot.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return m(y,g,null,v)},ot.flushSync=function(y){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,y)return y()}finally{h.T=g,s.p=v,s.d.f()}},ot.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},ot.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ot.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,T=x(v,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:b}):v==="script"&&s.d.X(y,{crossOrigin:T,integrity:C,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=x(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},ot.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=x(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=x(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},ot.requestFormReset=function(y){s.d.r(y)},ot.unstable_batchedUpdates=function(y,g){return y(g)},ot.useFormState=function(y,g,v){return h.H.useFormState(y,g,v)},ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},ot.version="19.2.0",ot}var $m;function rx(){if($m)return fu.exports;$m=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),fu.exports=ox(),fu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function ux(){if(Zm)return ea;Zm=1;var l=sx(),n=Mu(),a=rx();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(m(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var f=i.return;if(f===null)break;var p=f.alternate;if(p===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===i)return y(f),e;if(p===o)return y(f),t;p=p.sibling}throw Error(s(188))}if(i.return!==o.return)i=f,o=p;else{for(var S=!1,N=f.child;N;){if(N===i){S=!0,i=f,o=p;break}if(N===o){S=!0,o=f,i=p;break}N=N.sibling}if(!S){for(N=p.child;N;){if(N===i){S=!0,i=p,o=f;break}if(N===o){S=!0,o=p,i=f;break}N=N.sibling}if(!S)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case Y:return"Profiler";case L:return"StrictMode";case z:return"Suspense";case W:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case P:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:ee(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return ee(e(t))}catch{}}return null}var te=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},F=[],B=-1;function w(e){return{current:e}}function q(e){0>B||(e.current=F[B],F[B]=null,B--)}function ne(e,t){B++,F[B]=e.current,e.current=t}var le=w(null),he=w(null),pe=w(null),Me=w(null);function dt(e,t){switch(ne(pe,t),ne(he,e),ne(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mm(t),e=pm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(le),ne(le,e)}function Be(){q(le),q(he),q(pe)}function si(e){e.memoizedState!==null&&ne(Me,e);var t=le.current,i=pm(t,e.type);t!==i&&(ne(he,e),ne(le,i))}function ua(e){he.current===e&&(q(le),q(he)),Me.current===e&&(q(Me),Ki._currentValue=J)}var Vs,Vu;function Bn(e){if(Vs===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Vs=t&&t[1]||"",Vu=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vs+e+Vu}var Bs=!1;function Os(e,t){if(!e||Bs)return"";Bs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var H=G}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(G){H=G}e.call(Q.prototype)}}else{try{throw Error()}catch(G){H=G}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),S=p[0],N=p[1];if(S&&N){var _=S.split(`
`),j=N.split(`
`);for(f=o=0;o<_.length&&!_[o].includes("DetermineComponentFrameRoot");)o++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(o===_.length||f===j.length)for(o=_.length-1,f=j.length-1;1<=o&&0<=f&&_[o]!==j[f];)f--;for(;1<=o&&0<=f;o--,f--)if(_[o]!==j[f]){if(o!==1||f!==1)do if(o--,f--,0>f||_[o]!==j[f]){var O=`
`+_[o].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=o&&0<=f);break}}}finally{Bs=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Bn(i):""}function Ug(e,t){switch(e.tag){case 26:case 27:case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return e.child!==t&&t!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Os(e.type,!1);case 11:return Os(e.type.render,!1);case 1:return Os(e.type,!0);case 31:return Bn("Activity");default:return""}}function Bu(e){try{var t="",i=null;do t+=Ug(e,i),i=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ys=Object.prototype.hasOwnProperty,Js=l.unstable_scheduleCallback,Fs=l.unstable_cancelCallback,kg=l.unstable_shouldYield,Lg=l.unstable_requestPaint,St=l.unstable_now,jg=l.unstable_getCurrentPriorityLevel,Ou=l.unstable_ImmediatePriority,Yu=l.unstable_UserBlockingPriority,ca=l.unstable_NormalPriority,Pg=l.unstable_LowPriority,Ju=l.unstable_IdlePriority,Hg=l.log,qg=l.unstable_setDisableYieldValue,oi=null,Tt=null;function yn(e){if(typeof Hg=="function"&&qg(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(oi,e)}catch{}}var Ct=Math.clz32?Math.clz32:Vg,Gg=Math.log,zg=Math.LN2;function Vg(e){return e>>>=0,e===0?32:31-(Gg(e)/zg|0)|0}var da=256,fa=262144,ma=4194304;function On(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pa(e,t,i){var o=e.pendingLanes;if(o===0)return 0;var f=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var N=o&134217727;return N!==0?(o=N&~p,o!==0?f=On(o):(S&=N,S!==0?f=On(S):i||(i=N&~e,i!==0&&(f=On(i))))):(N=o&~p,N!==0?f=On(N):S!==0?f=On(S):i||(i=o&~e,i!==0&&(f=On(i)))),f===0?0:t!==0&&t!==f&&(t&p)===0&&(p=f&-f,i=t&-t,p>=i||p===32&&(i&4194048)!==0)?t:f}function ri(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Bg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fu(){var e=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),e}function Xs(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ui(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Og(e,t,i,o,f,p){var S=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var N=e.entanglements,_=e.expirationTimes,j=e.hiddenUpdates;for(i=S&~i;0<i;){var O=31-Ct(i),Q=1<<O;N[O]=0,_[O]=-1;var H=j[O];if(H!==null)for(j[O]=null,O=0;O<H.length;O++){var G=H[O];G!==null&&(G.lane&=-536870913)}i&=~Q}o!==0&&Xu(e,o,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~t))}function Xu(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-Ct(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Ku(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Ct(i),f=1<<o;f&t|e[o]&t&&(e[o]|=t),i&=~f}}function Qu(e,t){var i=t&-t;return i=(i&42)!==0?1:Ks(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ks(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $u(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Pm(e.type))}function Zu(e,t){var i=$.p;try{return $.p=e,t()}finally{$.p=i}}var xn=Math.random().toString(36).slice(2),tt="__reactFiber$"+xn,mt="__reactProps$"+xn,dl="__reactContainer$"+xn,$s="__reactEvents$"+xn,Yg="__reactListeners$"+xn,Jg="__reactHandles$"+xn,Wu="__reactResources$"+xn,ci="__reactMarker$"+xn;function Zs(e){delete e[tt],delete e[mt],delete e[$s],delete e[Yg],delete e[Jg]}function fl(e){var t=e[tt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[dl]||i[tt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Tm(e);e!==null;){if(i=e[tt])return i;e=Tm(e)}return t}e=i,i=e.parentNode}return null}function ml(e){if(e=e[tt]||e[dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function di(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function pl(e){var t=e[Wu];return t||(t=e[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[ci]=!0}var ec=new Set,tc={};function Yn(e,t){hl(e,t),hl(e+"Capture",t)}function hl(e,t){for(tc[e]=t,e=0;e<t.length;e++)ec.add(t[e])}var Fg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},lc={};function Xg(e){return Ys.call(lc,e)?!0:Ys.call(nc,e)?!1:Fg.test(e)?lc[e]=!0:(nc[e]=!0,!1)}function ha(e,t,i){if(Xg(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ga(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Qt(e,t,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+o)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ic(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kg(e,t,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(S){i=""+S,p.call(this,S)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(S){i=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ws(e){if(!e._valueTracker){var t=ic(e)?"checked":"value";e._valueTracker=Kg(e,t,""+e[t])}}function ac(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=ic(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qg=/[\n"\\]/g;function Dt(e){return e.replace(Qg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function eo(e,t,i,o,f,p,S,N){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?to(e,S,Rt(t)):i!=null?to(e,S,Rt(i)):o!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+Rt(N):e.removeAttribute("name")}function sc(e,t,i,o,f,p,S,N){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){Ws(e);return}i=i!=null?""+Rt(i):"",t=t!=null?""+Rt(t):i,N||t===e.value||(e.value=t),e.defaultValue=t}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=N?e.checked:!!o,e.defaultChecked=!!o,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Ws(e)}function to(e,t,i){t==="number"&&ya(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function gl(e,t,i,o){if(e=e.options,t){t={};for(var f=0;f<i.length;f++)t["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=t.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Rt(i),t=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function oc(e,t,i){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Rt(i):""}function rc(e,t,i,o){if(t==null){if(o!=null){if(i!=null)throw Error(s(92));if(te(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),t=i}i=Rt(t),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Ws(e)}function yl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var $g=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(e,t,i){var o=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,i):typeof i!="number"||i===0||$g.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function cc(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in t)o=t[f],t.hasOwnProperty(f)&&i[f]!==o&&uc(e,f,o)}else for(var p in t)t.hasOwnProperty(p)&&uc(e,p,t[p])}function no(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(e){return Wg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $t(){}var lo=null;function io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,vl=null;function dc(e){var t=ml(e);if(t&&(e=t.stateNode)){var i=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(eo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var f=o[mt]||null;if(!f)throw Error(s(90));eo(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<i.length;t++)o=i[t],o.form===e.form&&ac(o)}break e;case"textarea":oc(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&gl(e,!!i.multiple,t,!1)}}}var ao=!1;function fc(e,t,i){if(ao)return e(t,i);ao=!0;try{var o=e(t);return o}finally{if(ao=!1,(xl!==null||vl!==null)&&(as(),xl&&(t=xl,e=vl,vl=xl=null,dc(t),e)))for(t=0;t<e.length;t++)dc(e[t])}}function fi(e,t){var i=e.stateNode;if(i===null)return null;var o=i[mt]||null;if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=!1;if(Zt)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){so=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{so=!1}var vn=null,oo=null,va=null;function mc(){if(va)return va;var e,t=oo,i=t.length,o,f="value"in vn?vn.value:vn.textContent,p=f.length;for(e=0;e<i&&t[e]===f[e];e++);var S=i-e;for(o=1;o<=S&&t[i-o]===f[p-o];o++);return va=f.slice(e,1<o?1-o:void 0)}function Sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function pc(){return!1}function pt(e){function t(i,o,f,p,S){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(i=e[N],this[N]=i?i(p):p[N]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ta:pc,this.isPropagationStopped=pc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=pt(Jn),pi=T({},Jn,{view:0,detail:0}),e0=pt(pi),ro,uo,hi,Na=T({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(ro=e.screenX-hi.screenX,uo=e.screenY-hi.screenY):uo=ro=0,hi=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:uo}}),hc=pt(Na),t0=T({},Na,{dataTransfer:0}),n0=pt(t0),l0=T({},pi,{relatedTarget:0}),co=pt(l0),i0=T({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),a0=pt(i0),s0=T({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),o0=pt(s0),r0=T({},Jn,{data:0}),gc=pt(r0),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d0[e])?!!t[e]:!1}function fo(){return f0}var m0=T({},pi,{key:function(e){if(e.key){var t=u0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?c0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(e){return e.type==="keypress"?Sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p0=pt(m0),h0=T({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=pt(h0),g0=T({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),y0=pt(g0),x0=T({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v0=pt(x0),S0=T({},Na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T0=pt(S0),C0=T({},Jn,{newState:0,oldState:0}),N0=pt(C0),b0=[9,13,27,32],mo=Zt&&"CompositionEvent"in window,gi=null;Zt&&"documentMode"in document&&(gi=document.documentMode);var E0=Zt&&"TextEvent"in window&&!gi,xc=Zt&&(!mo||gi&&8<gi&&11>=gi),vc=" ",Sc=!1;function Tc(e,t){switch(e){case"keyup":return b0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sl=!1;function w0(e,t){switch(e){case"compositionend":return Cc(t);case"keypress":return t.which!==32?null:(Sc=!0,vc);case"textInput":return e=t.data,e===vc&&Sc?null:e;default:return null}}function _0(e,t){if(Sl)return e==="compositionend"||!mo&&Tc(e,t)?(e=mc(),va=oo=vn=null,Sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xc&&t.locale!=="ko"?null:t.data;default:return null}}var A0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!A0[e.type]:t==="textarea"}function bc(e,t,i,o){xl?vl?vl.push(o):vl=[o]:xl=o,t=fs(t,"onChange"),0<t.length&&(i=new Ca("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var yi=null,xi=null;function M0(e){om(e,0)}function ba(e){var t=di(e);if(ac(t))return e}function Ec(e,t){if(e==="change")return t}var wc=!1;if(Zt){var po;if(Zt){var ho="oninput"in document;if(!ho){var _c=document.createElement("div");_c.setAttribute("oninput","return;"),ho=typeof _c.oninput=="function"}po=ho}else po=!1;wc=po&&(!document.documentMode||9<document.documentMode)}function Ac(){yi&&(yi.detachEvent("onpropertychange",Mc),xi=yi=null)}function Mc(e){if(e.propertyName==="value"&&ba(xi)){var t=[];bc(t,xi,e,io(e)),fc(M0,t)}}function R0(e,t,i){e==="focusin"?(Ac(),yi=t,xi=i,yi.attachEvent("onpropertychange",Mc)):e==="focusout"&&Ac()}function D0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(xi)}function I0(e,t){if(e==="click")return ba(t)}function U0(e,t){if(e==="input"||e==="change")return ba(t)}function k0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:k0;function vi(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!Ys.call(t,f)||!Nt(e[f],t[f]))return!1}return!0}function Rc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var i=Rc(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Rc(i)}}function Ic(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ic(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ya(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ya(e.document)}return t}function go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var L0=Zt&&"documentMode"in document&&11>=document.documentMode,Tl=null,yo=null,Si=null,xo=!1;function kc(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;xo||Tl==null||Tl!==ya(o)||(o=Tl,"selectionStart"in o&&go(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Si&&vi(Si,o)||(Si=o,o=fs(yo,"onSelect"),0<o.length&&(t=new Ca("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Tl)))}function Fn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Cl={animationend:Fn("Animation","AnimationEnd"),animationiteration:Fn("Animation","AnimationIteration"),animationstart:Fn("Animation","AnimationStart"),transitionrun:Fn("Transition","TransitionRun"),transitionstart:Fn("Transition","TransitionStart"),transitioncancel:Fn("Transition","TransitionCancel"),transitionend:Fn("Transition","TransitionEnd")},vo={},Lc={};Zt&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Xn(e){if(vo[e])return vo[e];if(!Cl[e])return e;var t=Cl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Lc)return vo[e]=t[i];return e}var jc=Xn("animationend"),Pc=Xn("animationiteration"),Hc=Xn("animationstart"),j0=Xn("transitionrun"),P0=Xn("transitionstart"),H0=Xn("transitioncancel"),qc=Xn("transitionend"),Gc=new Map,So="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");So.push("scrollEnd");function zt(e,t){Gc.set(e,t),Yn(t,[e])}var Ea=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Nl=0,To=0;function wa(){for(var e=Nl,t=To=Nl=0;t<e;){var i=It[t];It[t++]=null;var o=It[t];It[t++]=null;var f=It[t];It[t++]=null;var p=It[t];if(It[t++]=null,o!==null&&f!==null){var S=o.pending;S===null?f.next=f:(f.next=S.next,S.next=f),o.pending=f}p!==0&&zc(i,f,p)}}function _a(e,t,i,o){It[Nl++]=e,It[Nl++]=t,It[Nl++]=i,It[Nl++]=o,To|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Co(e,t,i,o){return _a(e,t,i,o),Aa(e)}function Kn(e,t){return _a(e,null,null,t),Aa(e)}function zc(e,t,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var f=!1,p=e.return;p!==null;)p.childLanes|=i,o=p.alternate,o!==null&&(o.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&t!==null&&(f=31-Ct(i),e=p.hiddenUpdates,o=e[f],o===null?e[f]=[t]:o.push(t),t.lane=i|536870912),p):null}function Aa(e){if(50<Vi)throw Vi=0,Dr=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var bl={};function q0(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,i,o){return new q0(e,t,i,o)}function No(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,t){var i=e.alternate;return i===null?(i=bt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Vc(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ma(e,t,i,o,f,p){var S=0;if(o=e,typeof e=="function")No(e)&&(S=1);else if(typeof e=="string")S=Oy(e,i,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=bt(31,i,t,f),e.elementType=ie,e.lanes=p,e;case D:return Qn(i.children,f,p,t);case L:S=8,f|=24;break;case Y:return e=bt(12,i,t,f|2),e.elementType=Y,e.lanes=p,e;case z:return e=bt(13,i,t,f),e.elementType=z,e.lanes=p,e;case W:return e=bt(19,i,t,f),e.elementType=W,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:S=10;break e;case U:S=9;break e;case V:S=11;break e;case Z:S=14;break e;case se:S=16,o=null;break e}S=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return t=bt(S,i,t,f),t.elementType=e,t.type=o,t.lanes=p,t}function Qn(e,t,i,o){return e=bt(7,e,o,t),e.lanes=i,e}function bo(e,t,i){return e=bt(6,e,null,t),e.lanes=i,e}function Bc(e){var t=bt(18,null,null,0);return t.stateNode=e,t}function Eo(e,t,i){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Oc=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var i=Oc.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Bu(t)},Oc.set(e,t),t)}return{value:e,source:t,stack:Bu(t)}}var El=[],wl=0,Ra=null,Ti=0,kt=[],Lt=0,Sn=null,Jt=1,Ft="";function en(e,t){El[wl++]=Ti,El[wl++]=Ra,Ra=e,Ti=t}function Yc(e,t,i){kt[Lt++]=Jt,kt[Lt++]=Ft,kt[Lt++]=Sn,Sn=e;var o=Jt;e=Ft;var f=32-Ct(o)-1;o&=~(1<<f),i+=1;var p=32-Ct(t)+f;if(30<p){var S=f-f%5;p=(o&(1<<S)-1).toString(32),o>>=S,f-=S,Jt=1<<32-Ct(t)+f|i<<f|o,Ft=p+e}else Jt=1<<p|i<<f|o,Ft=e}function wo(e){e.return!==null&&(en(e,1),Yc(e,1,0))}function _o(e){for(;e===Ra;)Ra=El[--wl],El[wl]=null,Ti=El[--wl],El[wl]=null;for(;e===Sn;)Sn=kt[--Lt],kt[Lt]=null,Ft=kt[--Lt],kt[Lt]=null,Jt=kt[--Lt],kt[Lt]=null}function Jc(e,t){kt[Lt++]=Jt,kt[Lt++]=Ft,kt[Lt++]=Sn,Jt=t.id,Ft=t.overflow,Sn=e}var nt=null,je=null,Ne=!1,Tn=null,jt=!1,Ao=Error(s(519));function Cn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ci(Ut(t,e)),Ao}function Fc(e){var t=e.stateNode,i=e.type,o=e.memoizedProps;switch(t[tt]=e,t[mt]=o,i){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(i=0;i<Oi.length;i++)Se(Oi[i],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),sc(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),rc(t,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||o.suppressHydrationWarning===!0||dm(t.textContent,i)?(o.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),o.onScroll!=null&&Se("scroll",t),o.onScrollEnd!=null&&Se("scrollend",t),o.onClick!=null&&(t.onclick=$t),t=!0):t=!1,t||Cn(e,!0)}function Xc(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:jt=!1;return;case 27:case 3:jt=!0;return;default:nt=nt.return}}function _l(e){if(e!==nt)return!1;if(!Ne)return Xc(e),Ne=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Jr(e.type,e.memoizedProps)),i=!i),i&&je&&Cn(e),Xc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));je=Sm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));je=Sm(e)}else t===27?(t=je,jn(e.type)?(e=$r,$r=null,je=e):je=t):je=nt?Ht(e.stateNode.nextSibling):null;return!0}function $n(){je=nt=null,Ne=!1}function Mo(){var e=Tn;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Tn=null),e}function Ci(e){Tn===null?Tn=[e]:Tn.push(e)}var Ro=w(null),Zn=null,tn=null;function Nn(e,t,i){ne(Ro,t._currentValue),t._currentValue=i}function nn(e){e._currentValue=Ro.current,q(Ro)}function Do(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Io(e,t,i,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var S=f.child;p=p.firstContext;e:for(;p!==null;){var N=p;p=f;for(var _=0;_<t.length;_++)if(N.context===t[_]){p.lanes|=i,N=p.alternate,N!==null&&(N.lanes|=i),Do(p.return,i,e),o||(S=null);break e}p=N.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(s(341));S.lanes|=i,p=S.alternate,p!==null&&(p.lanes|=i),Do(S,i,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function Al(e,t,i,o){e=null;for(var f=t,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var N=f.type;Nt(f.pendingProps.value,S.value)||(e!==null?e.push(N):e=[N])}}else if(f===Me.current){if(S=f.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ki):e=[Ki])}f=f.return}e!==null&&Io(t,e,i,o),t.flags|=262144}function Da(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wn(e){Zn=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return Kc(Zn,e)}function Ia(e,t){return Zn===null&&Wn(e),Kc(e,t)}function Kc(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},tn===null){if(e===null)throw Error(s(308));tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tn=tn.next=t;return i}var G0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},z0=l.unstable_scheduleCallback,V0=l.unstable_NormalPriority,Je={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uo(){return{controller:new G0,data:new Map,refCount:0}}function Ni(e){e.refCount--,e.refCount===0&&z0(V0,function(){e.controller.abort()})}var bi=null,ko=0,Ml=0,Rl=null;function B0(e,t){if(bi===null){var i=bi=[];ko=0,Ml=Pr(),Rl={status:"pending",value:void 0,then:function(o){i.push(o)}}}return ko++,t.then(Qc,Qc),t}function Qc(){if(--ko===0&&bi!==null){Rl!==null&&(Rl.status="fulfilled");var e=bi;bi=null,Ml=0,Rl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function O0(e,t){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var f=0;f<i.length;f++)(0,i[f])(t)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var $c=I.S;I.S=function(e,t){Lf=St(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&B0(e,t),$c!==null&&$c(e,t)};var el=w(null);function Lo(){var e=el.current;return e!==null?e:Le.pooledCache}function Ua(e,t){t===null?ne(el,el.current):ne(el,t.pool)}function Zc(){var e=Lo();return e===null?null:{parent:Je._currentValue,pool:e}}var Dl=Error(s(460)),jo=Error(s(474)),ka=Error(s(542)),La={then:function(){}};function Wc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ed(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then($t,$t),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nd(e),e;default:if(typeof t.status=="string")t.then($t,$t);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=o}},function(o){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nd(e),e}throw nl=t,Dl}}function tl(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(nl=i,Dl):i}}var nl=null;function td(){if(nl===null)throw Error(s(459));var e=nl;return nl=null,e}function nd(e){if(e===Dl||e===ka)throw Error(s(483))}var Il=null,Ei=0;function ja(e){var t=Ei;return Ei+=1,Il===null&&(Il=[]),ed(Il,e,t)}function wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Pa(e,t){throw t.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ld(e){function t(R,A){if(e){var k=R.deletions;k===null?(R.deletions=[A],R.flags|=16):k.push(A)}}function i(R,A){if(!e)return null;for(;A!==null;)t(R,A),A=A.sibling;return null}function o(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function f(R,A){return R=Wt(R,A),R.index=0,R.sibling=null,R}function p(R,A,k){return R.index=k,e?(k=R.alternate,k!==null?(k=k.index,k<A?(R.flags|=67108866,A):k):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function N(R,A,k,K){return A===null||A.tag!==6?(A=bo(k,R.mode,K),A.return=R,A):(A=f(A,k),A.return=R,A)}function _(R,A,k,K){var fe=k.type;return fe===D?O(R,A,k.props.children,K,k.key):A!==null&&(A.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===se&&tl(fe)===A.type)?(A=f(A,k.props),wi(A,k),A.return=R,A):(A=Ma(k.type,k.key,k.props,null,R.mode,K),wi(A,k),A.return=R,A)}function j(R,A,k,K){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=Eo(k,R.mode,K),A.return=R,A):(A=f(A,k.children||[]),A.return=R,A)}function O(R,A,k,K,fe){return A===null||A.tag!==7?(A=Qn(k,R.mode,K,fe),A.return=R,A):(A=f(A,k),A.return=R,A)}function Q(R,A,k){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=bo(""+A,R.mode,k),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return k=Ma(A.type,A.key,A.props,null,R.mode,k),wi(k,A),k.return=R,k;case E:return A=Eo(A,R.mode,k),A.return=R,A;case se:return A=tl(A),Q(R,A,k)}if(te(A)||ae(A))return A=Qn(A,R.mode,k,null),A.return=R,A;if(typeof A.then=="function")return Q(R,ja(A),k);if(A.$$typeof===P)return Q(R,Ia(R,A),k);Pa(R,A)}return null}function H(R,A,k,K){var fe=A!==null?A.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return fe!==null?null:N(R,A,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return k.key===fe?_(R,A,k,K):null;case E:return k.key===fe?j(R,A,k,K):null;case se:return k=tl(k),H(R,A,k,K)}if(te(k)||ae(k))return fe!==null?null:O(R,A,k,K,null);if(typeof k.then=="function")return H(R,A,ja(k),K);if(k.$$typeof===P)return H(R,A,Ia(R,k),K);Pa(R,k)}return null}function G(R,A,k,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return R=R.get(k)||null,N(A,R,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return R=R.get(K.key===null?k:K.key)||null,_(A,R,K,fe);case E:return R=R.get(K.key===null?k:K.key)||null,j(A,R,K,fe);case se:return K=tl(K),G(R,A,k,K,fe)}if(te(K)||ae(K))return R=R.get(k)||null,O(A,R,K,fe,null);if(typeof K.then=="function")return G(R,A,k,ja(K),fe);if(K.$$typeof===P)return G(R,A,k,Ia(A,K),fe);Pa(A,K)}return null}function oe(R,A,k,K){for(var fe=null,be=null,de=A,xe=A=0,Ce=null;de!==null&&xe<k.length;xe++){de.index>xe?(Ce=de,de=null):Ce=de.sibling;var Ee=H(R,de,k[xe],K);if(Ee===null){de===null&&(de=Ce);break}e&&de&&Ee.alternate===null&&t(R,de),A=p(Ee,A,xe),be===null?fe=Ee:be.sibling=Ee,be=Ee,de=Ce}if(xe===k.length)return i(R,de),Ne&&en(R,xe),fe;if(de===null){for(;xe<k.length;xe++)de=Q(R,k[xe],K),de!==null&&(A=p(de,A,xe),be===null?fe=de:be.sibling=de,be=de);return Ne&&en(R,xe),fe}for(de=o(de);xe<k.length;xe++)Ce=G(de,R,xe,k[xe],K),Ce!==null&&(e&&Ce.alternate!==null&&de.delete(Ce.key===null?xe:Ce.key),A=p(Ce,A,xe),be===null?fe=Ce:be.sibling=Ce,be=Ce);return e&&de.forEach(function(zn){return t(R,zn)}),Ne&&en(R,xe),fe}function me(R,A,k,K){if(k==null)throw Error(s(151));for(var fe=null,be=null,de=A,xe=A=0,Ce=null,Ee=k.next();de!==null&&!Ee.done;xe++,Ee=k.next()){de.index>xe?(Ce=de,de=null):Ce=de.sibling;var zn=H(R,de,Ee.value,K);if(zn===null){de===null&&(de=Ce);break}e&&de&&zn.alternate===null&&t(R,de),A=p(zn,A,xe),be===null?fe=zn:be.sibling=zn,be=zn,de=Ce}if(Ee.done)return i(R,de),Ne&&en(R,xe),fe;if(de===null){for(;!Ee.done;xe++,Ee=k.next())Ee=Q(R,Ee.value,K),Ee!==null&&(A=p(Ee,A,xe),be===null?fe=Ee:be.sibling=Ee,be=Ee);return Ne&&en(R,xe),fe}for(de=o(de);!Ee.done;xe++,Ee=k.next())Ee=G(de,R,xe,Ee.value,K),Ee!==null&&(e&&Ee.alternate!==null&&de.delete(Ee.key===null?xe:Ee.key),A=p(Ee,A,xe),be===null?fe=Ee:be.sibling=Ee,be=Ee);return e&&de.forEach(function(tx){return t(R,tx)}),Ne&&en(R,xe),fe}function ke(R,A,k,K){if(typeof k=="object"&&k!==null&&k.type===D&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case b:e:{for(var fe=k.key;A!==null;){if(A.key===fe){if(fe=k.type,fe===D){if(A.tag===7){i(R,A.sibling),K=f(A,k.props.children),K.return=R,R=K;break e}}else if(A.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===se&&tl(fe)===A.type){i(R,A.sibling),K=f(A,k.props),wi(K,k),K.return=R,R=K;break e}i(R,A);break}else t(R,A);A=A.sibling}k.type===D?(K=Qn(k.props.children,R.mode,K,k.key),K.return=R,R=K):(K=Ma(k.type,k.key,k.props,null,R.mode,K),wi(K,k),K.return=R,R=K)}return S(R);case E:e:{for(fe=k.key;A!==null;){if(A.key===fe)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){i(R,A.sibling),K=f(A,k.children||[]),K.return=R,R=K;break e}else{i(R,A);break}else t(R,A);A=A.sibling}K=Eo(k,R.mode,K),K.return=R,R=K}return S(R);case se:return k=tl(k),ke(R,A,k,K)}if(te(k))return oe(R,A,k,K);if(ae(k)){if(fe=ae(k),typeof fe!="function")throw Error(s(150));return k=fe.call(k),me(R,A,k,K)}if(typeof k.then=="function")return ke(R,A,ja(k),K);if(k.$$typeof===P)return ke(R,A,Ia(R,k),K);Pa(R,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,A!==null&&A.tag===6?(i(R,A.sibling),K=f(A,k),K.return=R,R=K):(i(R,A),K=bo(k,R.mode,K),K.return=R,R=K),S(R)):i(R,A)}return function(R,A,k,K){try{Ei=0;var fe=ke(R,A,k,K);return Il=null,fe}catch(de){if(de===Dl||de===ka)throw de;var be=bt(29,de,null,R.mode);return be.lanes=K,be.return=R,be}finally{}}}var ll=ld(!0),id=ld(!1),bn=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function En(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wn(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ae&2)!==0){var f=o.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),o.pending=t,t=Aa(e),zc(e,null,i),t}return _a(e,o,t,i),Aa(e)}function _i(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Ku(e,i)}}function qo(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var S={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?f=p=S:p=p.next=S,i=i.next}while(i!==null);p===null?f=p=t:p=p.next=t}else f=p=t;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Go=!1;function Ai(){if(Go){var e=Rl;if(e!==null)throw e}}function Mi(e,t,i,o){Go=!1;var f=e.updateQueue;bn=!1;var p=f.firstBaseUpdate,S=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var _=N,j=_.next;_.next=null,S===null?p=j:S.next=j,S=_;var O=e.alternate;O!==null&&(O=O.updateQueue,N=O.lastBaseUpdate,N!==S&&(N===null?O.firstBaseUpdate=j:N.next=j,O.lastBaseUpdate=_))}if(p!==null){var Q=f.baseState;S=0,O=j=_=null,N=p;do{var H=N.lane&-536870913,G=H!==N.lane;if(G?(Te&H)===H:(o&H)===H){H!==0&&H===Ml&&(Go=!0),O!==null&&(O=O.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var oe=e,me=N;H=t;var ke=i;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){Q=oe.call(ke,Q,H);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,H=typeof oe=="function"?oe.call(ke,Q,H):oe,H==null)break e;Q=T({},Q,H);break e;case 2:bn=!0}}H=N.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:N.tag,payload:N.payload,callback:N.callback,next:null},O===null?(j=O=G,_=Q):O=O.next=G,S|=H;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;G=N,N=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);O===null&&(_=Q),f.baseState=_,f.firstBaseUpdate=j,f.lastBaseUpdate=O,p===null&&(f.shared.lanes=0),Dn|=S,e.lanes=S,e.memoizedState=Q}}function ad(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function sd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ad(i[e],t)}var Ul=w(null),Ha=w(0);function od(e,t){e=fn,ne(Ha,e),ne(Ul,t),fn=e|t.baseLanes}function zo(){ne(Ha,fn),ne(Ul,Ul.current)}function Vo(){fn=Ha.current,q(Ul),q(Ha)}var Et=w(null),Pt=null;function _n(e){var t=e.alternate;ne(Oe,Oe.current&1),ne(Et,e),Pt===null&&(t===null||Ul.current!==null||t.memoizedState!==null)&&(Pt=e)}function Bo(e){ne(Oe,Oe.current),ne(Et,e),Pt===null&&(Pt=e)}function rd(e){e.tag===22?(ne(Oe,Oe.current),ne(Et,e),Pt===null&&(Pt=e)):An()}function An(){ne(Oe,Oe.current),ne(Et,Et.current)}function wt(e){q(Et),Pt===e&&(Pt=null),q(Oe)}var Oe=w(0);function qa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Kr(i)||Qr(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ln=0,ye=null,Ie=null,Fe=null,Ga=!1,kl=!1,il=!1,za=0,Ri=0,Ll=null,Y0=0;function ze(){throw Error(s(321))}function Oo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Nt(e[i],t[i]))return!1;return!0}function Yo(e,t,i,o,f,p){return ln=p,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Yd:sr,il=!1,p=i(o,f),il=!1,kl&&(p=cd(t,i,o,f)),ud(e),p}function ud(e){I.H=Ui;var t=Ie!==null&&Ie.next!==null;if(ln=0,Fe=Ie=ye=null,Ga=!1,Ri=0,Ll=null,t)throw Error(s(300));e===null||Xe||(e=e.dependencies,e!==null&&Da(e)&&(Xe=!0))}function cd(e,t,i,o){ye=e;var f=0;do{if(kl&&(Ll=null),Ri=0,kl=!1,25<=f)throw Error(s(301));if(f+=1,Fe=Ie=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}I.H=Jd,p=t(i,o)}while(kl);return p}function J0(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Di(t):t,e=e.useState()[0],(Ie!==null?Ie.memoizedState:null)!==e&&(ye.flags|=1024),t}function Jo(){var e=za!==0;return za=0,e}function Fo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Xo(e){if(Ga){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ga=!1}ln=0,Fe=Ie=ye=null,kl=!1,Ri=za=0,Ll=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ye.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ye(){if(Ie===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=Fe===null?ye.memoizedState:Fe.next;if(t!==null)Fe=t,Ie=e;else{if(e===null)throw ye.alternate===null?Error(s(467)):Error(s(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Fe===null?ye.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Va(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Di(e){var t=Ri;return Ri+=1,Ll===null&&(Ll=[]),e=ed(Ll,e,t),t=ye,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Yd:sr),e}function Ba(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Di(e);if(e.$$typeof===P)return lt(e)}throw Error(s(438,String(e)))}function Ko(e){var t=null,i=ye.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var o=ye.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Va(),ye.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),o=0;o<e;o++)i[o]=ce;return t.index++,i}function an(e,t){return typeof t=="function"?t(e):t}function Oa(e){var t=Ye();return Qo(t,Ie,e)}function Qo(e,t,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var f=e.baseQueue,p=o.pending;if(p!==null){if(f!==null){var S=f.next;f.next=p.next,p.next=S}t.baseQueue=f=p,o.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{t=f.next;var N=S=null,_=null,j=t,O=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(Te&Q)===Q:(ln&Q)===Q){var H=j.revertLane;if(H===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===Ml&&(O=!0);else if((ln&H)===H){j=j.next,H===Ml&&(O=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},_===null?(N=_=Q,S=p):_=_.next=Q,ye.lanes|=H,Dn|=H;Q=j.action,il&&i(p,Q),p=j.hasEagerState?j.eagerState:i(p,Q)}else H={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},_===null?(N=_=H,S=p):_=_.next=H,ye.lanes|=Q,Dn|=Q;j=j.next}while(j!==null&&j!==t);if(_===null?S=p:_.next=N,!Nt(p,e.memoizedState)&&(Xe=!0,O&&(i=Rl,i!==null)))throw i;e.memoizedState=p,e.baseState=S,e.baseQueue=_,o.lastRenderedState=p}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function $o(e){var t=Ye(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,f=i.pending,p=t.memoizedState;if(f!==null){i.pending=null;var S=f=f.next;do p=e(p,S.action),S=S.next;while(S!==f);Nt(p,t.memoizedState)||(Xe=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),i.lastRenderedState=p}return[p,o]}function dd(e,t,i){var o=ye,f=Ye(),p=Ne;if(p){if(i===void 0)throw Error(s(407));i=i()}else i=t();var S=!Nt((Ie||f).memoizedState,i);if(S&&(f.memoizedState=i,Xe=!0),f=f.queue,er(pd.bind(null,o,f,e),[e]),f.getSnapshot!==t||S||Fe!==null&&Fe.memoizedState.tag&1){if(o.flags|=2048,jl(9,{destroy:void 0},md.bind(null,o,f,i,t),null),Le===null)throw Error(s(349));p||(ln&127)!==0||fd(o,t,i)}return i}function fd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ye.updateQueue,t===null?(t=Va(),ye.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function md(e,t,i,o){t.value=i,t.getSnapshot=o,hd(t)&&gd(e)}function pd(e,t,i){return i(function(){hd(t)&&gd(e)})}function hd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Nt(e,i)}catch{return!0}}function gd(e){var t=Kn(e,2);t!==null&&vt(t,e,2)}function Zo(e){var t=ft();if(typeof e=="function"){var i=e;if(e=i(),il){yn(!0);try{i()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:e},t}function yd(e,t,i,o){return e.baseState=i,Qo(e,Ie,typeof o=="function"?o:an)}function F0(e,t,i,o,f){if(Fa(e))throw Error(s(485));if(e=t.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};I.T!==null?i(!0):p.isTransition=!1,o(p),i=t.pending,i===null?(p.next=t.pending=p,xd(t,p)):(p.next=i.next,t.pending=i.next=p)}}function xd(e,t){var i=t.action,o=t.payload,f=e.state;if(t.isTransition){var p=I.T,S={};I.T=S;try{var N=i(f,o),_=I.S;_!==null&&_(S,N),vd(e,t,N)}catch(j){Wo(e,t,j)}finally{p!==null&&S.types!==null&&(p.types=S.types),I.T=p}}else try{p=i(f,o),vd(e,t,p)}catch(j){Wo(e,t,j)}}function vd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Sd(e,t,o)},function(o){return Wo(e,t,o)}):Sd(e,t,i)}function Sd(e,t,i){t.status="fulfilled",t.value=i,Td(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,xd(e,i)))}function Wo(e,t,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=i,Td(t),t=t.next;while(t!==o)}e.action=null}function Td(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cd(e,t){return t}function Nd(e,t){if(Ne){var i=Le.formState;if(i!==null){e:{var o=ye;if(Ne){if(je){t:{for(var f=je,p=jt;f.nodeType!==8;){if(!p){f=null;break t}if(f=Ht(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){je=Ht(f.nextSibling),o=f.data==="F!";break e}}Cn(o)}o=!1}o&&(t=i[0])}}return i=ft(),i.memoizedState=i.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:t},i.queue=o,i=Vd.bind(null,ye,o),o.dispatch=i,o=Zo(!1),p=ar.bind(null,ye,!1,o.queue),o=ft(),f={state:t,dispatch:null,action:e,pending:null},o.queue=f,i=F0.bind(null,ye,f,p,i),f.dispatch=i,o.memoizedState=e,[t,i,!1]}function bd(e){var t=Ye();return Ed(t,Ie,e)}function Ed(e,t,i){if(t=Qo(e,t,Cd)[0],e=Oa(an)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Di(t)}catch(S){throw S===Dl?ka:S}else o=t;t=Ye();var f=t.queue,p=f.dispatch;return i!==t.memoizedState&&(ye.flags|=2048,jl(9,{destroy:void 0},X0.bind(null,f,i),null)),[o,p,e]}function X0(e,t){e.action=t}function wd(e){var t=Ye(),i=Ie;if(i!==null)return Ed(t,i,e);Ye(),t=t.memoizedState,i=Ye();var o=i.queue.dispatch;return i.memoizedState=e,[t,o,!1]}function jl(e,t,i,o){return e={tag:e,create:i,deps:o,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Va(),ye.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e),e}function _d(){return Ye().memoizedState}function Ya(e,t,i,o){var f=ft();ye.flags|=e,f.memoizedState=jl(1|t,{destroy:void 0},i,o===void 0?null:o)}function Ja(e,t,i,o){var f=Ye();o=o===void 0?null:o;var p=f.memoizedState.inst;Ie!==null&&o!==null&&Oo(o,Ie.memoizedState.deps)?f.memoizedState=jl(t,p,i,o):(ye.flags|=e,f.memoizedState=jl(1|t,p,i,o))}function Ad(e,t){Ya(8390656,8,e,t)}function er(e,t){Ja(2048,8,e,t)}function K0(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Va(),ye.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Md(e){var t=Ye().memoizedState;return K0({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Rd(e,t){return Ja(4,2,e,t)}function Dd(e,t){return Ja(4,4,e,t)}function Id(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ud(e,t,i){i=i!=null?i.concat([e]):null,Ja(4,4,Id.bind(null,t,e),i)}function tr(){}function kd(e,t){var i=Ye();t=t===void 0?null:t;var o=i.memoizedState;return t!==null&&Oo(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Ld(e,t){var i=Ye();t=t===void 0?null:t;var o=i.memoizedState;if(t!==null&&Oo(t,o[1]))return o[0];if(o=e(),il){yn(!0);try{e()}finally{yn(!1)}}return i.memoizedState=[o,t],o}function nr(e,t,i){return i===void 0||(ln&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Pf(),ye.lanes|=e,Dn|=e,i)}function jd(e,t,i,o){return Nt(i,t)?i:Ul.current!==null?(e=nr(e,i,o),Nt(e,t)||(Xe=!0),e):(ln&42)===0||(ln&1073741824)!==0&&(Te&261930)===0?(Xe=!0,e.memoizedState=i):(e=Pf(),ye.lanes|=e,Dn|=e,t)}function Pd(e,t,i,o,f){var p=$.p;$.p=p!==0&&8>p?p:8;var S=I.T,N={};I.T=N,ar(e,!1,t,i);try{var _=f(),j=I.S;if(j!==null&&j(N,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var O=O0(_,o);Ii(e,t,O,Mt(e))}else Ii(e,t,o,Mt(e))}catch(Q){Ii(e,t,{then:function(){},status:"rejected",reason:Q},Mt())}finally{$.p=p,S!==null&&N.types!==null&&(S.types=N.types),I.T=S}}function Q0(){}function lr(e,t,i,o){if(e.tag!==5)throw Error(s(476));var f=Hd(e).queue;Pd(e,f,t,J,i===null?Q0:function(){return qd(e),i(o)})}function Hd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:J},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qd(e){var t=Hd(e);t.next===null&&(t=e.alternate.memoizedState),Ii(e,t.next.queue,{},Mt())}function ir(){return lt(Ki)}function Gd(){return Ye().memoizedState}function zd(){return Ye().memoizedState}function $0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Mt();e=En(i);var o=wn(t,e,i);o!==null&&(vt(o,t,i),_i(o,t,i)),t={cache:Uo()},e.payload=t;return}t=t.return}}function Z0(e,t,i){var o=Mt();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fa(e)?Bd(t,i):(i=Co(e,t,i,o),i!==null&&(vt(i,e,o),Od(i,t,o)))}function Vd(e,t,i){var o=Mt();Ii(e,t,i,o)}function Ii(e,t,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Fa(e))Bd(t,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var S=t.lastRenderedState,N=p(S,i);if(f.hasEagerState=!0,f.eagerState=N,Nt(N,S))return _a(e,t,f,0),Le===null&&wa(),!1}catch{}finally{}if(i=Co(e,t,f,o),i!==null)return vt(i,e,o),Od(i,t,o),!0}return!1}function ar(e,t,i,o){if(o={lane:2,revertLane:Pr(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fa(e)){if(t)throw Error(s(479))}else t=Co(e,i,o,2),t!==null&&vt(t,e,2)}function Fa(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Bd(e,t){kl=Ga=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Od(e,t,i){if((i&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Ku(e,i)}}var Ui={readContext:lt,use:Ba,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};Ui.useEffectEvent=ze;var Yd={readContext:lt,use:Ba,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Ad,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Ya(4194308,4,Id.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ya(4194308,4,e,t)},useInsertionEffect:function(e,t){Ya(4,2,e,t)},useMemo:function(e,t){var i=ft();t=t===void 0?null:t;var o=e();if(il){yn(!0);try{e()}finally{yn(!1)}}return i.memoizedState=[o,t],o},useReducer:function(e,t,i){var o=ft();if(i!==void 0){var f=i(t);if(il){yn(!0);try{i(t)}finally{yn(!1)}}}else f=t;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=Z0.bind(null,ye,e),[o.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Zo(e);var t=e.queue,i=Vd.bind(null,ye,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:tr,useDeferredValue:function(e,t){var i=ft();return nr(i,e,t)},useTransition:function(){var e=Zo(!1);return e=Pd.bind(null,ye,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var o=ye,f=ft();if(Ne){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Le===null)throw Error(s(349));(Te&127)!==0||fd(o,t,i)}f.memoizedState=i;var p={value:i,getSnapshot:t};return f.queue=p,Ad(pd.bind(null,o,p,e),[e]),o.flags|=2048,jl(9,{destroy:void 0},md.bind(null,o,p,i,t),null),i},useId:function(){var e=ft(),t=Le.identifierPrefix;if(Ne){var i=Ft,o=Jt;i=(o&~(1<<32-Ct(o)-1)).toString(32)+i,t="_"+t+"R_"+i,i=za++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Y0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ir,useFormState:Nd,useActionState:Nd,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=ar.bind(null,ye,!0,i),i.dispatch=t,[e,t]},useMemoCache:Ko,useCacheRefresh:function(){return ft().memoizedState=$0.bind(null,ye)},useEffectEvent:function(e){var t=ft(),i={impl:e};return t.memoizedState=i,function(){if((Ae&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},sr={readContext:lt,use:Ba,useCallback:kd,useContext:lt,useEffect:er,useImperativeHandle:Ud,useInsertionEffect:Rd,useLayoutEffect:Dd,useMemo:Ld,useReducer:Oa,useRef:_d,useState:function(){return Oa(an)},useDebugValue:tr,useDeferredValue:function(e,t){var i=Ye();return jd(i,Ie.memoizedState,e,t)},useTransition:function(){var e=Oa(an)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Di(e),t]},useSyncExternalStore:dd,useId:Gd,useHostTransitionStatus:ir,useFormState:bd,useActionState:bd,useOptimistic:function(e,t){var i=Ye();return yd(i,Ie,e,t)},useMemoCache:Ko,useCacheRefresh:zd};sr.useEffectEvent=Md;var Jd={readContext:lt,use:Ba,useCallback:kd,useContext:lt,useEffect:er,useImperativeHandle:Ud,useInsertionEffect:Rd,useLayoutEffect:Dd,useMemo:Ld,useReducer:$o,useRef:_d,useState:function(){return $o(an)},useDebugValue:tr,useDeferredValue:function(e,t){var i=Ye();return Ie===null?nr(i,e,t):jd(i,Ie.memoizedState,e,t)},useTransition:function(){var e=$o(an)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Di(e),t]},useSyncExternalStore:dd,useId:Gd,useHostTransitionStatus:ir,useFormState:wd,useActionState:wd,useOptimistic:function(e,t){var i=Ye();return Ie!==null?yd(i,Ie,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Ko,useCacheRefresh:zd};Jd.useEffectEvent=Md;function or(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:T({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var rr={enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Mt(),f=En(o);f.payload=t,i!=null&&(f.callback=i),t=wn(e,f,o),t!==null&&(vt(t,e,o),_i(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Mt(),f=En(o);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=wn(e,f,o),t!==null&&(vt(t,e,o),_i(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Mt(),o=En(i);o.tag=2,t!=null&&(o.callback=t),t=wn(e,o,i),t!==null&&(vt(t,e,i),_i(t,e,i))}};function Fd(e,t,i,o,f,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,S):t.prototype&&t.prototype.isPureReactComponent?!vi(i,o)||!vi(f,p):!0}function Xd(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&rr.enqueueReplaceState(t,t.state,null)}function al(e,t){var i=t;if("ref"in t){i={};for(var o in t)o!=="ref"&&(i[o]=t[o])}if(e=e.defaultProps){i===t&&(i=T({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Kd(e){Ea(e)}function Qd(e){console.error(e)}function $d(e){Ea(e)}function Xa(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Zd(e,t,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ur(e,t,i){return i=En(i),i.tag=3,i.payload={element:null},i.callback=function(){Xa(e,t)},i}function Wd(e){return e=En(e),e.tag=3,e}function ef(e,t,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var p=o.value;e.payload=function(){return f(p)},e.callback=function(){Zd(t,i,o)}}var S=i.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Zd(t,i,o),typeof f!="function"&&(In===null?In=new Set([this]):In.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})})}function W0(e,t,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=i.alternate,t!==null&&Al(t,i,f,!0),i=Et.current,i!==null){switch(i.tag){case 31:case 13:return Pt===null?ss():i.alternate===null&&Ve===0&&(Ve=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===La?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([o]):t.add(o),kr(e,o,f)),!1;case 22:return i.flags|=65536,o===La?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([o]):i.add(o)),kr(e,o,f)),!1}throw Error(s(435,i.tag))}return kr(e,o,f),ss(),!1}if(Ne)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,o!==Ao&&(e=Error(s(422),{cause:o}),Ci(Ut(e,i)))):(o!==Ao&&(t=Error(s(423),{cause:o}),Ci(Ut(t,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Ut(o,i),f=ur(e.stateNode,o,f),qo(e,f),Ve!==4&&(Ve=2)),!1;var p=Error(s(520),{cause:o});if(p=Ut(p,i),zi===null?zi=[p]:zi.push(p),Ve!==4&&(Ve=2),t===null)return!0;o=Ut(o,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=ur(i.stateNode,o,e),qo(i,e),!1;case 1:if(t=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(In===null||!In.has(p))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Wd(f),ef(f,e,i,o),qo(i,f),!1}i=i.return}while(i!==null);return!1}var cr=Error(s(461)),Xe=!1;function it(e,t,i,o){t.child=e===null?id(t,null,i,o):ll(t,e.child,i,o)}function tf(e,t,i,o,f){i=i.render;var p=t.ref;if("ref"in o){var S={};for(var N in o)N!=="ref"&&(S[N]=o[N])}else S=o;return Wn(t),o=Yo(e,t,i,S,p,f),N=Jo(),e!==null&&!Xe?(Fo(e,t,f),sn(e,t,f)):(Ne&&N&&wo(t),t.flags|=1,it(e,t,o,f),t.child)}function nf(e,t,i,o,f){if(e===null){var p=i.type;return typeof p=="function"&&!No(p)&&p.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=p,lf(e,t,p,o,f)):(e=Ma(i.type,null,o,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!xr(e,f)){var S=p.memoizedProps;if(i=i.compare,i=i!==null?i:vi,i(S,o)&&e.ref===t.ref)return sn(e,t,f)}return t.flags|=1,e=Wt(p,o),e.ref=t.ref,e.return=t,t.child=e}function lf(e,t,i,o,f){if(e!==null){var p=e.memoizedProps;if(vi(p,o)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=o=p,xr(e,f))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,sn(e,t,f)}return dr(e,t,i,o,f)}function af(e,t,i,o){var f=o.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,e!==null){for(o=t.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~p}else o=0,t.child=null;return sf(e,t,p,i,o)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ua(t,p!==null?p.cachePool:null),p!==null?od(t,p):zo(),rd(t);else return o=t.lanes=536870912,sf(e,t,p!==null?p.baseLanes|i:i,i,o)}else p!==null?(Ua(t,p.cachePool),od(t,p),An(),t.memoizedState=null):(e!==null&&Ua(t,null),zo(),An());return it(e,t,f,i),t.child}function ki(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function sf(e,t,i,o,f){var p=Lo();return p=p===null?null:{parent:Je._currentValue,pool:p},t.memoizedState={baseLanes:i,cachePool:p},e!==null&&Ua(t,null),zo(),rd(t),e!==null&&Al(e,t,o,!0),t.childLanes=f,null}function Ka(e,t){return t=$a({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function of(e,t,i){return ll(t,e.child,null,i),e=Ka(t,t.pendingProps),e.flags|=2,wt(t),t.memoizedState=null,e}function ey(e,t,i){var o=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ne){if(o.mode==="hidden")return e=Ka(t,o),t.lanes=536870912,ki(null,e);if(Bo(t),(e=je)?(e=vm(e,jt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Jt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},i=Bc(e),i.return=t,t.child=i,nt=t,je=null)):e=null,e===null)throw Cn(t);return t.lanes=536870912,null}return Ka(t,o)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(Bo(t),f)if(t.flags&256)t.flags&=-257,t=of(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Xe||Al(e,t,i,!1),f=(i&e.childLanes)!==0,Xe||f){if(o=Le,o!==null&&(S=Qu(o,i),S!==0&&S!==p.retryLane))throw p.retryLane=S,Kn(e,S),vt(o,e,S),cr;ss(),t=of(e,t,i)}else e=p.treeContext,je=Ht(S.nextSibling),nt=t,Ne=!0,Tn=null,jt=!1,e!==null&&Jc(t,e),t=Ka(t,o),t.flags|=4096;return t}return e=Wt(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qa(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function dr(e,t,i,o,f){return Wn(t),i=Yo(e,t,i,o,void 0,f),o=Jo(),e!==null&&!Xe?(Fo(e,t,f),sn(e,t,f)):(Ne&&o&&wo(t),t.flags|=1,it(e,t,i,f),t.child)}function rf(e,t,i,o,f,p){return Wn(t),t.updateQueue=null,i=cd(t,o,i,f),ud(e),o=Jo(),e!==null&&!Xe?(Fo(e,t,p),sn(e,t,p)):(Ne&&o&&wo(t),t.flags|=1,it(e,t,i,p),t.child)}function uf(e,t,i,o,f){if(Wn(t),t.stateNode===null){var p=bl,S=i.contextType;typeof S=="object"&&S!==null&&(p=lt(S)),p=new i(o,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=rr,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=o,p.state=t.memoizedState,p.refs={},Po(t),S=i.contextType,p.context=typeof S=="object"&&S!==null?lt(S):bl,p.state=t.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(or(t,i,S,o),p.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&rr.enqueueReplaceState(p,p.state,null),Mi(t,o,p,f),Ai(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){p=t.stateNode;var N=t.memoizedProps,_=al(i,N);p.props=_;var j=p.context,O=i.contextType;S=bl,typeof O=="object"&&O!==null&&(S=lt(O));var Q=i.getDerivedStateFromProps;O=typeof Q=="function"||typeof p.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(N||j!==S)&&Xd(t,p,o,S),bn=!1;var H=t.memoizedState;p.state=H,Mi(t,o,p,f),Ai(),j=t.memoizedState,N||H!==j||bn?(typeof Q=="function"&&(or(t,i,Q,o),j=t.memoizedState),(_=bn||Fd(t,i,_,o,H,j,S))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=j),p.props=o,p.state=j,p.context=S,o=_):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,Ho(e,t),S=t.memoizedProps,O=al(i,S),p.props=O,Q=t.pendingProps,H=p.context,j=i.contextType,_=bl,typeof j=="object"&&j!==null&&(_=lt(j)),N=i.getDerivedStateFromProps,(j=typeof N=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==Q||H!==_)&&Xd(t,p,o,_),bn=!1,H=t.memoizedState,p.state=H,Mi(t,o,p,f),Ai();var G=t.memoizedState;S!==Q||H!==G||bn||e!==null&&e.dependencies!==null&&Da(e.dependencies)?(typeof N=="function"&&(or(t,i,N,o),G=t.memoizedState),(O=bn||Fd(t,i,O,o,H,G,_)||e!==null&&e.dependencies!==null&&Da(e.dependencies))?(j||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,G,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,G,_)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=G),p.props=o,p.state=G,p.context=_,o=O):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),o=!1)}return p=o,Qa(e,t),o=(t.flags&128)!==0,p||o?(p=t.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&o?(t.child=ll(t,e.child,null,f),t.child=ll(t,null,i,f)):it(e,t,i,f),t.memoizedState=p.state,e=t.child):e=sn(e,t,f),e}function cf(e,t,i,o){return $n(),t.flags|=256,it(e,t,i,o),t.child}var fr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mr(e){return{baseLanes:e,cachePool:Zc()}}function pr(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=At),e}function df(e,t,i){var o=t.pendingProps,f=!1,p=(t.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),S&&(f=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(f?_n(t):An(),(e=je)?(e=vm(e,jt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Jt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},i=Bc(e),i.return=t,t.child=i,nt=t,je=null)):e=null,e===null)throw Cn(t);return Qr(e)?t.lanes=32:t.lanes=536870912,null}var N=o.children;return o=o.fallback,f?(An(),f=t.mode,N=$a({mode:"hidden",children:N},f),o=Qn(o,f,i,null),N.return=t,o.return=t,N.sibling=o,t.child=N,o=t.child,o.memoizedState=mr(i),o.childLanes=pr(e,S,i),t.memoizedState=fr,ki(null,o)):(_n(t),hr(t,N))}var _=e.memoizedState;if(_!==null&&(N=_.dehydrated,N!==null)){if(p)t.flags&256?(_n(t),t.flags&=-257,t=gr(e,t,i)):t.memoizedState!==null?(An(),t.child=e.child,t.flags|=128,t=null):(An(),N=o.fallback,f=t.mode,o=$a({mode:"visible",children:o.children},f),N=Qn(N,f,i,null),N.flags|=2,o.return=t,N.return=t,o.sibling=N,t.child=o,ll(t,e.child,null,i),o=t.child,o.memoizedState=mr(i),o.childLanes=pr(e,S,i),t.memoizedState=fr,t=ki(null,o));else if(_n(t),Qr(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var j=S.dgst;S=j,o=Error(s(419)),o.stack="",o.digest=S,Ci({value:o,source:null,stack:null}),t=gr(e,t,i)}else if(Xe||Al(e,t,i,!1),S=(i&e.childLanes)!==0,Xe||S){if(S=Le,S!==null&&(o=Qu(S,i),o!==0&&o!==_.retryLane))throw _.retryLane=o,Kn(e,o),vt(S,e,o),cr;Kr(N)||ss(),t=gr(e,t,i)}else Kr(N)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,je=Ht(N.nextSibling),nt=t,Ne=!0,Tn=null,jt=!1,e!==null&&Jc(t,e),t=hr(t,o.children),t.flags|=4096);return t}return f?(An(),N=o.fallback,f=t.mode,_=e.child,j=_.sibling,o=Wt(_,{mode:"hidden",children:o.children}),o.subtreeFlags=_.subtreeFlags&65011712,j!==null?N=Wt(j,N):(N=Qn(N,f,i,null),N.flags|=2),N.return=t,o.return=t,o.sibling=N,t.child=o,ki(null,o),o=t.child,N=e.child.memoizedState,N===null?N=mr(i):(f=N.cachePool,f!==null?(_=Je._currentValue,f=f.parent!==_?{parent:_,pool:_}:f):f=Zc(),N={baseLanes:N.baseLanes|i,cachePool:f}),o.memoizedState=N,o.childLanes=pr(e,S,i),t.memoizedState=fr,ki(e.child,o)):(_n(t),i=e.child,e=i.sibling,i=Wt(i,{mode:"visible",children:o.children}),i.return=t,i.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=i,t.memoizedState=null,i)}function hr(e,t){return t=$a({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $a(e,t){return e=bt(22,e,null,t),e.lanes=0,e}function gr(e,t,i){return ll(t,e.child,null,i),e=hr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ff(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Do(e.return,t,i)}function yr(e,t,i,o,f,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:p}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=o,S.tail=i,S.tailMode=f,S.treeForkCount=p)}function mf(e,t,i){var o=t.pendingProps,f=o.revealOrder,p=o.tail;o=o.children;var S=Oe.current,N=(S&2)!==0;if(N?(S=S&1|2,t.flags|=128):S&=1,ne(Oe,S),it(e,t,o,i),o=Ne?Ti:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,i,t);else if(e.tag===19)ff(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=t.child,f=null;i!==null;)e=i.alternate,e!==null&&qa(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=t.child,t.child=null):(f=i.sibling,i.sibling=null),yr(t,!1,f,i,p,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&qa(e)===null){t.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}yr(t,!0,i,null,p,o);break;case"together":yr(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function sn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Al(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Wt(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Wt(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function xr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Da(e)))}function ty(e,t,i){switch(t.tag){case 3:dt(t,t.stateNode.containerInfo),Nn(t,Je,e.memoizedState.cache),$n();break;case 27:case 5:si(t);break;case 4:dt(t,t.stateNode.containerInfo);break;case 10:Nn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bo(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(_n(t),t.flags|=128,null):(i&t.child.childLanes)!==0?df(e,t,i):(_n(t),e=sn(e,t,i),e!==null?e.sibling:null);_n(t);break;case 19:var f=(e.flags&128)!==0;if(o=(i&t.childLanes)!==0,o||(Al(e,t,i,!1),o=(i&t.childLanes)!==0),f){if(o)return mf(e,t,i);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(Oe,Oe.current),o)break;return null;case 22:return t.lanes=0,af(e,t,i,t.pendingProps);case 24:Nn(t,Je,e.memoizedState.cache)}return sn(e,t,i)}function pf(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!xr(e,i)&&(t.flags&128)===0)return Xe=!1,ty(e,t,i);Xe=(e.flags&131072)!==0}else Xe=!1,Ne&&(t.flags&1048576)!==0&&Yc(t,Ti,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=tl(t.elementType),t.type=e,typeof e=="function")No(e)?(o=al(e,o),t.tag=1,t=uf(null,t,e,o,i)):(t.tag=0,t=dr(null,t,e,o,i));else{if(e!=null){var f=e.$$typeof;if(f===V){t.tag=11,t=tf(null,t,e,o,i);break e}else if(f===Z){t.tag=14,t=nf(null,t,e,o,i);break e}}throw t=ee(e)||e,Error(s(306,t,""))}}return t;case 0:return dr(e,t,t.type,t.pendingProps,i);case 1:return o=t.type,f=al(o,t.pendingProps),uf(e,t,o,f,i);case 3:e:{if(dt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));o=t.pendingProps;var p=t.memoizedState;f=p.element,Ho(e,t),Mi(t,o,null,i);var S=t.memoizedState;if(o=S.cache,Nn(t,Je,o),o!==p.cache&&Io(t,[Je],i,!0),Ai(),o=S.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=cf(e,t,o,i);break e}else if(o!==f){f=Ut(Error(s(424)),t),Ci(f),t=cf(e,t,o,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(je=Ht(e.firstChild),nt=t,Ne=!0,Tn=null,jt=!0,i=id(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if($n(),o===f){t=sn(e,t,i);break e}it(e,t,o,i)}t=t.child}return t;case 26:return Qa(e,t),e===null?(i=Em(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ne||(i=t.type,e=t.pendingProps,o=ms(pe.current).createElement(i),o[tt]=t,o[mt]=e,at(o,i,e),Ze(o),t.stateNode=o):t.memoizedState=Em(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return si(t),e===null&&Ne&&(o=t.stateNode=Cm(t.type,t.pendingProps,pe.current),nt=t,jt=!0,f=je,jn(t.type)?($r=f,je=Ht(o.firstChild)):je=f),it(e,t,t.pendingProps.children,i),Qa(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((f=o=je)&&(o=Dy(o,t.type,t.pendingProps,jt),o!==null?(t.stateNode=o,nt=t,je=Ht(o.firstChild),jt=!1,f=!0):f=!1),f||Cn(t)),si(t),f=t.type,p=t.pendingProps,S=e!==null?e.memoizedProps:null,o=p.children,Jr(f,p)?o=null:S!==null&&Jr(f,S)&&(t.flags|=32),t.memoizedState!==null&&(f=Yo(e,t,J0,null,null,i),Ki._currentValue=f),Qa(e,t),it(e,t,o,i),t.child;case 6:return e===null&&Ne&&((e=i=je)&&(i=Iy(i,t.pendingProps,jt),i!==null?(t.stateNode=i,nt=t,je=null,e=!0):e=!1),e||Cn(t)),null;case 13:return df(e,t,i);case 4:return dt(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ll(t,null,o,i):it(e,t,o,i),t.child;case 11:return tf(e,t,t.type,t.pendingProps,i);case 7:return it(e,t,t.pendingProps,i),t.child;case 8:return it(e,t,t.pendingProps.children,i),t.child;case 12:return it(e,t,t.pendingProps.children,i),t.child;case 10:return o=t.pendingProps,Nn(t,t.type,o.value),it(e,t,o.children,i),t.child;case 9:return f=t.type._context,o=t.pendingProps.children,Wn(t),f=lt(f),o=o(f),t.flags|=1,it(e,t,o,i),t.child;case 14:return nf(e,t,t.type,t.pendingProps,i);case 15:return lf(e,t,t.type,t.pendingProps,i);case 19:return mf(e,t,i);case 31:return ey(e,t,i);case 22:return af(e,t,i,t.pendingProps);case 24:return Wn(t),o=lt(Je),e===null?(f=Lo(),f===null&&(f=Le,p=Uo(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=i),f=p),t.memoizedState={parent:o,cache:f},Po(t),Nn(t,Je,f)):((e.lanes&i)!==0&&(Ho(e,t),Mi(t,null,null,i),Ai()),f=e.memoizedState,p=t.memoizedState,f.parent!==o?(f={parent:o,cache:o},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),Nn(t,Je,o)):(o=p.cache,Nn(t,Je,o),o!==f.cache&&Io(t,[Je],i,!0))),it(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function on(e){e.flags|=4}function vr(e,t,i,o,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw nl=La,jo}else e.flags&=-16777217}function hf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rm(t))if(zf())e.flags|=8192;else throw nl=La,jo}function Za(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fu():536870912,e.lanes|=t,Gl|=t)}function Li(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function ny(e,t,i){var o=t.pendingProps;switch(_o(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return i=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),nn(Je),Be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(_l(t)?on(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mo())),Pe(t),null;case 26:var f=t.type,p=t.memoizedState;return e===null?(on(t),p!==null?(Pe(t),hf(t,p)):(Pe(t),vr(t,f,null,o,i))):p?p!==e.memoizedState?(on(t),Pe(t),hf(t,p)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&on(t),Pe(t),vr(t,f,e,o,i)),null;case 27:if(ua(t),i=pe.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&on(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Pe(t),null}e=le.current,_l(t)?Fc(t):(e=Cm(f,o,i),t.stateNode=e,on(t))}return Pe(t),null;case 5:if(ua(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&on(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Pe(t),null}if(p=le.current,_l(t))Fc(t);else{var S=ms(pe.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof o.is=="string"?S.createElement("select",{is:o.is}):S.createElement("select"),o.multiple?p.multiple=!0:o.size&&(p.size=o.size);break;default:p=typeof o.is=="string"?S.createElement(f,{is:o.is}):S.createElement(f)}}p[tt]=t,p[mt]=o;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=p;e:switch(at(p,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&on(t)}}return Pe(t),vr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&on(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(e=pe.current,_l(t)){if(e=t.stateNode,i=t.memoizedProps,o=null,f=nt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[tt]=t,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||dm(e.nodeValue,i)),e||Cn(t,!0)}else e=ms(e).createTextNode(o),e[tt]=t,t.stateNode=e}return Pe(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(o=_l(t),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[tt]=t}else $n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else i=Mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(wt(t),t):(wt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Pe(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=_l(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[tt]=t}else $n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),f=!1}else f=Mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(wt(t),t):(wt(t),null)}return wt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=t.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==f&&(o.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Za(t,t.updateQueue),Pe(t),null);case 4:return Be(),e===null&&zr(t.stateNode.containerInfo),Pe(t),null;case 10:return nn(t.type),Pe(t),null;case 19:if(q(Oe),o=t.memoizedState,o===null)return Pe(t),null;if(f=(t.flags&128)!==0,p=o.rendering,p===null)if(f)Li(o,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=qa(e),p!==null){for(t.flags|=128,Li(o,!1),e=p.updateQueue,t.updateQueue=e,Za(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Vc(i,e),i=i.sibling;return ne(Oe,Oe.current&1|2),Ne&&en(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&St()>ls&&(t.flags|=128,f=!0,Li(o,!1),t.lanes=4194304)}else{if(!f)if(e=qa(p),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,Za(t,e),Li(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!Ne)return Pe(t),null}else 2*St()-o.renderingStartTime>ls&&i!==536870912&&(t.flags|=128,f=!0,Li(o,!1),t.lanes=4194304);o.isBackwards?(p.sibling=t.child,t.child=p):(e=o.last,e!==null?e.sibling=p:t.child=p,o.last=p)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=St(),e.sibling=null,i=Oe.current,ne(Oe,f?i&1|2:i&1),Ne&&en(t,o.treeForkCount),e):(Pe(t),null);case 22:case 23:return wt(t),Vo(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(i&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),i=t.updateQueue,i!==null&&Za(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==i&&(t.flags|=2048),e!==null&&q(el),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),nn(Je),Pe(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function ly(e,t){switch(_o(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(Je),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ua(t),null;case 31:if(t.memoizedState!==null){if(wt(t),t.alternate===null)throw Error(s(340));$n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));$n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Oe),null;case 4:return Be(),null;case 10:return nn(t.type),null;case 22:case 23:return wt(t),Vo(),e!==null&&q(el),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nn(Je),null;case 25:return null;default:return null}}function gf(e,t){switch(_o(t),t.tag){case 3:nn(Je),Be();break;case 26:case 27:case 5:ua(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&wt(t);break;case 13:wt(t);break;case 19:q(Oe);break;case 10:nn(t.type);break;case 22:case 23:wt(t),Vo(),e!==null&&q(el);break;case 24:nn(Je)}}function ji(e,t){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&e)===e){o=void 0;var p=i.create,S=i.inst;o=p(),S.destroy=o}i=i.next}while(i!==f)}}catch(N){De(t,t.return,N)}}function Mn(e,t,i){try{var o=t.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&e)===e){var S=o.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,f=t;var _=i,j=N;try{j()}catch(O){De(f,_,O)}}}o=o.next}while(o!==p)}}catch(O){De(t,t.return,O)}}function yf(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{sd(t,i)}catch(o){De(e,e.return,o)}}}function xf(e,t,i){i.props=al(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){De(e,t,o)}}function Pi(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(f){De(e,t,f)}}function Xt(e,t){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){De(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){De(e,t,f)}else i.current=null}function vf(e){var t=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){De(e,e.return,f)}}function Sr(e,t,i){try{var o=e.stateNode;Ey(o,e.type,i,t),o[mt]=t}catch(f){De(e,e.return,f)}}function Sf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&jn(e.type)||e.tag===4}function Tr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cr(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=$t));else if(o!==4&&(o===27&&jn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Cr(e,t,i),e=e.sibling;e!==null;)Cr(e,t,i),e=e.sibling}function Wa(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(o===27&&jn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Wa(e,t,i),e=e.sibling;e!==null;)Wa(e,t,i),e=e.sibling}function Tf(e){var t=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);at(t,o,i),t[tt]=e,t[mt]=i}catch(p){De(e,e.return,p)}}var rn=!1,Ke=!1,Nr=!1,Cf=typeof WeakSet=="function"?WeakSet:Set,We=null;function iy(e,t){if(e=e.containerInfo,Or=Ss,e=Uc(e),go(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var S=0,N=-1,_=-1,j=0,O=0,Q=e,H=null;t:for(;;){for(var G;Q!==i||f!==0&&Q.nodeType!==3||(N=S+f),Q!==p||o!==0&&Q.nodeType!==3||(_=S+o),Q.nodeType===3&&(S+=Q.nodeValue.length),(G=Q.firstChild)!==null;)H=Q,Q=G;for(;;){if(Q===e)break t;if(H===i&&++j===f&&(N=S),H===p&&++O===o&&(_=S),(G=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=G}i=N===-1||_===-1?null:{start:N,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(Yr={focusedElem:e,selectionRange:i},Ss=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){switch(t=We,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=t,f=p.memoizedProps,p=p.memoizedState,o=i.stateNode;try{var oe=al(i.type,f);e=o.getSnapshotBeforeUpdate(oe,p),o.__reactInternalSnapshotBeforeUpdate=e}catch(me){De(i,i.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Xr(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}}function Nf(e,t,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:cn(e,i),o&4&&ji(5,i);break;case 1:if(cn(e,i),o&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(S){De(i,i.return,S)}else{var f=al(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){De(i,i.return,S)}}o&64&&yf(i),o&512&&Pi(i,i.return);break;case 3:if(cn(e,i),o&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{sd(e,t)}catch(S){De(i,i.return,S)}}break;case 27:t===null&&o&4&&Tf(i);case 26:case 5:cn(e,i),t===null&&o&4&&vf(i),o&512&&Pi(i,i.return);break;case 12:cn(e,i);break;case 31:cn(e,i),o&4&&wf(e,i);break;case 13:cn(e,i),o&4&&_f(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=my.bind(null,i),Uy(e,i))));break;case 22:if(o=i.memoizedState!==null||rn,!o){t=t!==null&&t.memoizedState!==null||Ke,f=rn;var p=Ke;rn=o,(Ke=t)&&!p?dn(e,i,(i.subtreeFlags&8772)!==0):cn(e,i),rn=f,Ke=p}break;case 30:break;default:cn(e,i)}}function bf(e){var t=e.alternate;t!==null&&(e.alternate=null,bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,ht=!1;function un(e,t,i){for(i=i.child;i!==null;)Ef(e,t,i),i=i.sibling}function Ef(e,t,i){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(oi,i)}catch{}switch(i.tag){case 26:Ke||Xt(i,t),un(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ke||Xt(i,t);var o=qe,f=ht;jn(i.type)&&(qe=i.stateNode,ht=!1),un(e,t,i),Ji(i.stateNode),qe=o,ht=f;break;case 5:Ke||Xt(i,t);case 6:if(o=qe,f=ht,qe=null,un(e,t,i),qe=o,ht=f,qe!==null)if(ht)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(i.stateNode)}catch(p){De(i,t,p)}else try{qe.removeChild(i.stateNode)}catch(p){De(i,t,p)}break;case 18:qe!==null&&(ht?(e=qe,ym(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Xl(e)):ym(qe,i.stateNode));break;case 4:o=qe,f=ht,qe=i.stateNode.containerInfo,ht=!0,un(e,t,i),qe=o,ht=f;break;case 0:case 11:case 14:case 15:Mn(2,i,t),Ke||Mn(4,i,t),un(e,t,i);break;case 1:Ke||(Xt(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"&&xf(i,t,o)),un(e,t,i);break;case 21:un(e,t,i);break;case 22:Ke=(o=Ke)||i.memoizedState!==null,un(e,t,i),Ke=o;break;default:un(e,t,i)}}function wf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xl(e)}catch(i){De(t,t.return,i)}}}function _f(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xl(e)}catch(i){De(t,t.return,i)}}function ay(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cf),t;default:throw Error(s(435,e.tag))}}function es(e,t){var i=ay(e);t.forEach(function(o){if(!i.has(o)){i.add(o);var f=py.bind(null,e,o);o.then(f,f)}})}function gt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],p=e,S=t,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(jn(N.type)){qe=N.stateNode,ht=!1;break e}break;case 5:qe=N.stateNode,ht=!1;break e;case 3:case 4:qe=N.stateNode.containerInfo,ht=!0;break e}N=N.return}if(qe===null)throw Error(s(160));Ef(p,S,f),qe=null,ht=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Af(t,e),t=t.sibling}var Vt=null;function Af(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),yt(e),o&4&&(Mn(3,e,e.return),ji(3,e),Mn(5,e,e.return));break;case 1:gt(t,e),yt(e),o&512&&(Ke||i===null||Xt(i,i.return)),o&64&&rn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=Vt;if(gt(t,e),yt(e),o&512&&(Ke||i===null||Xt(i,i.return)),o&4){var p=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ci]||p[tt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(o),f.head.insertBefore(p,f.querySelector("head > title"))),at(p,o,i),p[tt]=e,Ze(p),o=p;break e;case"link":var S=Am("link","href",f).get(o+(i.href||""));if(S){for(var N=0;N<S.length;N++)if(p=S[N],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){S.splice(N,1);break t}}p=f.createElement(o),at(p,o,i),f.head.appendChild(p);break;case"meta":if(S=Am("meta","content",f).get(o+(i.content||""))){for(N=0;N<S.length;N++)if(p=S[N],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){S.splice(N,1);break t}}p=f.createElement(o),at(p,o,i),f.head.appendChild(p);break;default:throw Error(s(468,o))}p[tt]=e,Ze(p),o=p}e.stateNode=o}else Mm(f,e.type,e.stateNode);else e.stateNode=_m(f,o,e.memoizedProps);else p!==o?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,o===null?Mm(f,e.type,e.stateNode):_m(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Sr(e,e.memoizedProps,i.memoizedProps)}break;case 27:gt(t,e),yt(e),o&512&&(Ke||i===null||Xt(i,i.return)),i!==null&&o&4&&Sr(e,e.memoizedProps,i.memoizedProps);break;case 5:if(gt(t,e),yt(e),o&512&&(Ke||i===null||Xt(i,i.return)),e.flags&32){f=e.stateNode;try{yl(f,"")}catch(oe){De(e,e.return,oe)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Sr(e,f,i!==null?i.memoizedProps:f)),o&1024&&(Nr=!0);break;case 6:if(gt(t,e),yt(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(oe){De(e,e.return,oe)}}break;case 3:if(gs=null,f=Vt,Vt=ps(t.containerInfo),gt(t,e),Vt=f,yt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(oe){De(e,e.return,oe)}Nr&&(Nr=!1,Mf(e));break;case 4:o=Vt,Vt=ps(e.stateNode.containerInfo),gt(t,e),yt(e),Vt=o;break;case 12:gt(t,e),yt(e);break;case 31:gt(t,e),yt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,es(e,o)));break;case 13:gt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ns=St()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,es(e,o)));break;case 22:f=e.memoizedState!==null;var _=i!==null&&i.memoizedState!==null,j=rn,O=Ke;if(rn=j||f,Ke=O||_,gt(t,e),Ke=O,rn=j,yt(e),o&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(i===null||_||rn||Ke||sl(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){_=i=t;try{if(p=_.stateNode,f)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=_.stateNode;var Q=_.memoizedProps.style,H=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;N.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(oe){De(_,_.return,oe)}}}else if(t.tag===6){if(i===null){_=t;try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(oe){De(_,_.return,oe)}}}else if(t.tag===18){if(i===null){_=t;try{var G=_.stateNode;f?xm(G,!0):xm(_.stateNode,!1)}catch(oe){De(_,_.return,oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,es(e,i))));break;case 19:gt(t,e),yt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,es(e,o)));break;case 30:break;case 21:break;default:gt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var i,o=e.return;o!==null;){if(Sf(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var f=i.stateNode,p=Tr(e);Wa(e,p,f);break;case 5:var S=i.stateNode;i.flags&32&&(yl(S,""),i.flags&=-33);var N=Tr(e);Wa(e,N,S);break;case 3:case 4:var _=i.stateNode.containerInfo,j=Tr(e);Cr(e,j,_);break;default:throw Error(s(161))}}catch(O){De(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Nf(e,t.alternate,t),t=t.sibling}function sl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Mn(4,t,t.return),sl(t);break;case 1:Xt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&xf(t,t.return,i),sl(t);break;case 27:Ji(t.stateNode);case 26:case 5:Xt(t,t.return),sl(t);break;case 22:t.memoizedState===null&&sl(t);break;case 30:sl(t);break;default:sl(t)}e=e.sibling}}function dn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,f=e,p=t,S=p.flags;switch(p.tag){case 0:case 11:case 15:dn(f,p,i),ji(4,p);break;case 1:if(dn(f,p,i),o=p,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){De(o,o.return,j)}if(o=p,f=o.updateQueue,f!==null){var N=o.stateNode;try{var _=f.shared.hiddenCallbacks;if(_!==null)for(f.shared.hiddenCallbacks=null,f=0;f<_.length;f++)ad(_[f],N)}catch(j){De(o,o.return,j)}}i&&S&64&&yf(p),Pi(p,p.return);break;case 27:Tf(p);case 26:case 5:dn(f,p,i),i&&o===null&&S&4&&vf(p),Pi(p,p.return);break;case 12:dn(f,p,i);break;case 31:dn(f,p,i),i&&S&4&&wf(f,p);break;case 13:dn(f,p,i),i&&S&4&&_f(f,p);break;case 22:p.memoizedState===null&&dn(f,p,i),Pi(p,p.return);break;case 30:break;default:dn(f,p,i)}t=t.sibling}}function br(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ni(i))}function Er(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ni(e))}function Bt(e,t,i,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rf(e,t,i,o),t=t.sibling}function Rf(e,t,i,o){var f=t.flags;switch(t.tag){case 0:case 11:case 15:Bt(e,t,i,o),f&2048&&ji(9,t);break;case 1:Bt(e,t,i,o);break;case 3:Bt(e,t,i,o),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ni(e)));break;case 12:if(f&2048){Bt(e,t,i,o),e=t.stateNode;try{var p=t.memoizedProps,S=p.id,N=p.onPostCommit;typeof N=="function"&&N(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){De(t,t.return,_)}}else Bt(e,t,i,o);break;case 31:Bt(e,t,i,o);break;case 13:Bt(e,t,i,o);break;case 23:break;case 22:p=t.stateNode,S=t.alternate,t.memoizedState!==null?p._visibility&2?Bt(e,t,i,o):Hi(e,t):p._visibility&2?Bt(e,t,i,o):(p._visibility|=2,Pl(e,t,i,o,(t.subtreeFlags&10256)!==0||!1)),f&2048&&br(S,t);break;case 24:Bt(e,t,i,o),f&2048&&Er(t.alternate,t);break;default:Bt(e,t,i,o)}}function Pl(e,t,i,o,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,S=t,N=i,_=o,j=S.flags;switch(S.tag){case 0:case 11:case 15:Pl(p,S,N,_,f),ji(8,S);break;case 23:break;case 22:var O=S.stateNode;S.memoizedState!==null?O._visibility&2?Pl(p,S,N,_,f):Hi(p,S):(O._visibility|=2,Pl(p,S,N,_,f)),f&&j&2048&&br(S.alternate,S);break;case 24:Pl(p,S,N,_,f),f&&j&2048&&Er(S.alternate,S);break;default:Pl(p,S,N,_,f)}t=t.sibling}}function Hi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,o=t,f=o.flags;switch(o.tag){case 22:Hi(i,o),f&2048&&br(o.alternate,o);break;case 24:Hi(i,o),f&2048&&Er(o.alternate,o);break;default:Hi(i,o)}t=t.sibling}}var qi=8192;function Hl(e,t,i){if(e.subtreeFlags&qi)for(e=e.child;e!==null;)Df(e,t,i),e=e.sibling}function Df(e,t,i){switch(e.tag){case 26:Hl(e,t,i),e.flags&qi&&e.memoizedState!==null&&Yy(i,Vt,e.memoizedState,e.memoizedProps);break;case 5:Hl(e,t,i);break;case 3:case 4:var o=Vt;Vt=ps(e.stateNode.containerInfo),Hl(e,t,i),Vt=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=qi,qi=16777216,Hl(e,t,i),qi=o):Hl(e,t,i));break;default:Hl(e,t,i)}}function If(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];We=o,kf(o,e)}If(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uf(e),e=e.sibling}function Uf(e){switch(e.tag){case 0:case 11:case 15:Gi(e),e.flags&2048&&Mn(9,e,e.return);break;case 3:Gi(e);break;case 12:Gi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ts(e)):Gi(e);break;default:Gi(e)}}function ts(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];We=o,kf(o,e)}If(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Mn(8,t,t.return),ts(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,ts(t));break;default:ts(t)}e=e.sibling}}function kf(e,t){for(;We!==null;){var i=We;switch(i.tag){case 0:case 11:case 15:Mn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ni(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,We=o;else e:for(i=e;We!==null;){o=We;var f=o.sibling,p=o.return;if(bf(o),o===i){We=null;break e}if(f!==null){f.return=p,We=f;break e}We=p}}}var sy={getCacheForType:function(e){var t=lt(Je),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return lt(Je).controller.signal}},oy=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Le=null,ve=null,Te=0,Re=0,_t=null,Rn=!1,ql=!1,wr=!1,fn=0,Ve=0,Dn=0,ol=0,_r=0,At=0,Gl=0,zi=null,xt=null,Ar=!1,ns=0,Lf=0,ls=1/0,is=null,In=null,Qe=0,Un=null,zl=null,mn=0,Mr=0,Rr=null,jf=null,Vi=0,Dr=null;function Mt(){return(Ae&2)!==0&&Te!==0?Te&-Te:I.T!==null?Pr():$u()}function Pf(){if(At===0)if((Te&536870912)===0||Ne){var e=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),At=e}else At=536870912;return e=Et.current,e!==null&&(e.flags|=32),At}function vt(e,t,i){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Vl(e,0),kn(e,Te,At,!1)),ui(e,i),((Ae&2)===0||e!==Le)&&(e===Le&&((Ae&2)===0&&(ol|=i),Ve===4&&kn(e,Te,At,!1)),Kt(e))}function Hf(e,t,i){if((Ae&6)!==0)throw Error(s(327));var o=!i&&(t&127)===0&&(t&e.expiredLanes)===0||ri(e,t),f=o?cy(e,t):Ur(e,t,!0),p=o;do{if(f===0){ql&&!o&&kn(e,t,0,!1);break}else{if(i=e.current.alternate,p&&!ry(i)){f=Ur(e,t,!1),p=!1;continue}if(f===2){if(p=t,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var N=e;f=zi;var _=N.current.memoizedState.isDehydrated;if(_&&(Vl(N,S).flags|=256),S=Ur(N,S,!1),S!==2){if(wr&&!_){N.errorRecoveryDisabledLanes|=p,ol|=p,f=4;break e}p=xt,xt=f,p!==null&&(xt===null?xt=p:xt.push.apply(xt,p))}f=S}if(p=!1,f!==2)continue}}if(f===1){Vl(e,0),kn(e,t,0,!0);break}e:{switch(o=e,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:kn(o,t,At,!Rn);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(f=ns+300-St(),10<f)){if(kn(o,t,At,!Rn),pa(o,0,!0)!==0)break e;mn=t,o.timeoutHandle=hm(qf.bind(null,o,i,xt,is,Ar,t,At,ol,Gl,Rn,p,"Throttled",-0,0),f);break e}qf(o,i,xt,is,Ar,t,At,ol,Gl,Rn,p,null,-0,0)}}break}while(!0);Kt(e)}function qf(e,t,i,o,f,p,S,N,_,j,O,Q,H,G){if(e.timeoutHandle=-1,Q=t.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},Df(t,p,Q);var oe=(p&62914560)===p?ns-St():(p&4194048)===p?Lf-St():0;if(oe=Jy(Q,oe),oe!==null){mn=p,e.cancelPendingCommit=oe(Ff.bind(null,e,t,p,i,o,f,S,N,_,O,Q,null,H,G)),kn(e,p,S,!j);return}}Ff(e,t,p,i,o,f,S,N,_)}function ry(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],p=f.getSnapshot;f=f.value;try{if(!Nt(p(),f))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t,i,o){t&=~_r,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var f=t;0<f;){var p=31-Ct(f),S=1<<p;o[p]=-1,f&=~S}i!==0&&Xu(e,i,t)}function as(){return(Ae&6)===0?(Bi(0),!1):!0}function Ir(){if(ve!==null){if(Re===0)var e=ve.return;else e=ve,tn=Zn=null,Xo(e),Il=null,Ei=0,e=ve;for(;e!==null;)gf(e.alternate,e),e=e.return;ve=null}}function Vl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Ay(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),mn=0,Ir(),Le=e,ve=i=Wt(e.current,null),Te=t,Re=0,_t=null,Rn=!1,ql=ri(e,t),wr=!1,Gl=At=_r=ol=Dn=Ve=0,xt=zi=null,Ar=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var f=31-Ct(o),p=1<<f;t|=e[f],o&=~p}return fn=t,wa(),i}function Gf(e,t){ye=null,I.H=Ui,t===Dl||t===ka?(t=td(),Re=3):t===jo?(t=td(),Re=4):Re=t===cr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,ve===null&&(Ve=1,Xa(e,Ut(t,e.current)))}function zf(){var e=Et.current;return e===null?!0:(Te&4194048)===Te?Pt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===Pt:!1}function Vf(){var e=I.H;return I.H=Ui,e===null?Ui:e}function Bf(){var e=I.A;return I.A=sy,e}function ss(){Ve=4,Rn||(Te&4194048)!==Te&&Et.current!==null||(ql=!0),(Dn&134217727)===0&&(ol&134217727)===0||Le===null||kn(Le,Te,At,!1)}function Ur(e,t,i){var o=Ae;Ae|=2;var f=Vf(),p=Bf();(Le!==e||Te!==t)&&(is=null,Vl(e,t)),t=!1;var S=Ve;e:do try{if(Re!==0&&ve!==null){var N=ve,_=_t;switch(Re){case 8:Ir(),S=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var j=Re;if(Re=0,_t=null,Bl(e,N,_,j),i&&ql){S=0;break e}break;default:j=Re,Re=0,_t=null,Bl(e,N,_,j)}}uy(),S=Ve;break}catch(O){Gf(e,O)}while(!0);return t&&e.shellSuspendCounter++,tn=Zn=null,Ae=o,I.H=f,I.A=p,ve===null&&(Le=null,Te=0,wa()),S}function uy(){for(;ve!==null;)Of(ve)}function cy(e,t){var i=Ae;Ae|=2;var o=Vf(),f=Bf();Le!==e||Te!==t?(is=null,ls=St()+500,Vl(e,t)):ql=ri(e,t);e:do try{if(Re!==0&&ve!==null){t=ve;var p=_t;t:switch(Re){case 1:Re=0,_t=null,Bl(e,t,p,1);break;case 2:case 9:if(Wc(p)){Re=0,_t=null,Yf(t);break}t=function(){Re!==2&&Re!==9||Le!==e||(Re=7),Kt(e)},p.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Wc(p)?(Re=0,_t=null,Yf(t)):(Re=0,_t=null,Bl(e,t,p,7));break;case 5:var S=null;switch(ve.tag){case 26:S=ve.memoizedState;case 5:case 27:var N=ve;if(S?Rm(S):N.stateNode.complete){Re=0,_t=null;var _=N.sibling;if(_!==null)ve=_;else{var j=N.return;j!==null?(ve=j,os(j)):ve=null}break t}}Re=0,_t=null,Bl(e,t,p,5);break;case 6:Re=0,_t=null,Bl(e,t,p,6);break;case 8:Ir(),Ve=6;break e;default:throw Error(s(462))}}dy();break}catch(O){Gf(e,O)}while(!0);return tn=Zn=null,I.H=o,I.A=f,Ae=i,ve!==null?0:(Le=null,Te=0,wa(),Ve)}function dy(){for(;ve!==null&&!kg();)Of(ve)}function Of(e){var t=pf(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?os(e):ve=t}function Yf(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=rf(i,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=rf(i,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Xo(t);default:gf(i,t),t=ve=Vc(t,fn),t=pf(i,t,fn)}e.memoizedProps=e.pendingProps,t===null?os(e):ve=t}function Bl(e,t,i,o){tn=Zn=null,Xo(t),Il=null,Ei=0;var f=t.return;try{if(W0(e,f,t,i,Te)){Ve=1,Xa(e,Ut(i,e.current)),ve=null;return}}catch(p){if(f!==null)throw ve=f,p;Ve=1,Xa(e,Ut(i,e.current)),ve=null;return}t.flags&32768?(Ne||o===1?e=!0:ql||(Te&536870912)!==0?e=!1:(Rn=e=!0,(o===2||o===9||o===3||o===6)&&(o=Et.current,o!==null&&o.tag===13&&(o.flags|=16384))),Jf(t,e)):os(t)}function os(e){var t=e;do{if((t.flags&32768)!==0){Jf(t,Rn);return}e=t.return;var i=ny(t.alternate,t,fn);if(i!==null){ve=i;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ve===0&&(Ve=5)}function Jf(e,t){do{var i=ly(e.alternate,e);if(i!==null){i.flags&=32767,ve=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=i}while(e!==null);Ve=6,ve=null}function Ff(e,t,i,o,f,p,S,N,_){e.cancelPendingCommit=null;do rs();while(Qe!==0);if((Ae&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(p=t.lanes|t.childLanes,p|=To,Og(e,i,p,S,N,_),e===Le&&(ve=Le=null,Te=0),zl=t,Un=e,mn=i,Mr=p,Rr=f,jf=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hy(ca,function(){return Zf(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=I.T,I.T=null,f=$.p,$.p=2,S=Ae,Ae|=4;try{iy(e,t,i)}finally{Ae=S,$.p=f,I.T=o}}Qe=1,Xf(),Kf(),Qf()}}function Xf(){if(Qe===1){Qe=0;var e=Un,t=zl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=I.T,I.T=null;var o=$.p;$.p=2;var f=Ae;Ae|=4;try{Af(t,e);var p=Yr,S=Uc(e.containerInfo),N=p.focusedElem,_=p.selectionRange;if(S!==N&&N&&N.ownerDocument&&Ic(N.ownerDocument.documentElement,N)){if(_!==null&&go(N)){var j=_.start,O=_.end;if(O===void 0&&(O=j),"selectionStart"in N)N.selectionStart=j,N.selectionEnd=Math.min(O,N.value.length);else{var Q=N.ownerDocument||document,H=Q&&Q.defaultView||window;if(H.getSelection){var G=H.getSelection(),oe=N.textContent.length,me=Math.min(_.start,oe),ke=_.end===void 0?me:Math.min(_.end,oe);!G.extend&&me>ke&&(S=ke,ke=me,me=S);var R=Dc(N,me),A=Dc(N,ke);if(R&&A&&(G.rangeCount!==1||G.anchorNode!==R.node||G.anchorOffset!==R.offset||G.focusNode!==A.node||G.focusOffset!==A.offset)){var k=Q.createRange();k.setStart(R.node,R.offset),G.removeAllRanges(),me>ke?(G.addRange(k),G.extend(A.node,A.offset)):(k.setEnd(A.node,A.offset),G.addRange(k))}}}}for(Q=[],G=N;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Q.length;N++){var K=Q[N];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ss=!!Or,Yr=Or=null}finally{Ae=f,$.p=o,I.T=i}}e.current=t,Qe=2}}function Kf(){if(Qe===2){Qe=0;var e=Un,t=zl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=I.T,I.T=null;var o=$.p;$.p=2;var f=Ae;Ae|=4;try{Nf(e,t.alternate,t)}finally{Ae=f,$.p=o,I.T=i}}Qe=3}}function Qf(){if(Qe===4||Qe===3){Qe=0,Lg();var e=Un,t=zl,i=mn,o=jf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qe=5:(Qe=0,zl=Un=null,$f(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(In=null),Qs(i),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(oi,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=I.T,f=$.p,$.p=2,I.T=null;try{for(var p=e.onRecoverableError,S=0;S<o.length;S++){var N=o[S];p(N.value,{componentStack:N.stack})}}finally{I.T=t,$.p=f}}(mn&3)!==0&&rs(),Kt(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Dr?Vi++:(Vi=0,Dr=e):Vi=0,Bi(0)}}function $f(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ni(t)))}function rs(){return Xf(),Kf(),Qf(),Zf()}function Zf(){if(Qe!==5)return!1;var e=Un,t=Mr;Mr=0;var i=Qs(mn),o=I.T,f=$.p;try{$.p=32>i?32:i,I.T=null,i=Rr,Rr=null;var p=Un,S=mn;if(Qe=0,zl=Un=null,mn=0,(Ae&6)!==0)throw Error(s(331));var N=Ae;if(Ae|=4,Uf(p.current),Rf(p,p.current,S,i),Ae=N,Bi(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(oi,p)}catch{}return!0}finally{$.p=f,I.T=o,$f(e,t)}}function Wf(e,t,i){t=Ut(i,t),t=ur(e.stateNode,t,2),e=wn(e,t,2),e!==null&&(ui(e,2),Kt(e))}function De(e,t,i){if(e.tag===3)Wf(e,e,i);else for(;t!==null;){if(t.tag===3){Wf(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(In===null||!In.has(o))){e=Ut(i,e),i=Wd(2),o=wn(t,i,2),o!==null&&(ef(i,o,t,e),ui(o,2),Kt(o));break}}t=t.return}}function kr(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new oy;var f=new Set;o.set(t,f)}else f=o.get(t),f===void 0&&(f=new Set,o.set(t,f));f.has(i)||(wr=!0,f.add(i),e=fy.bind(null,e,t,i),t.then(e,e))}function fy(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Le===e&&(Te&i)===i&&(Ve===4||Ve===3&&(Te&62914560)===Te&&300>St()-ns?(Ae&2)===0&&Vl(e,0):_r|=i,Gl===Te&&(Gl=0)),Kt(e)}function em(e,t){t===0&&(t=Fu()),e=Kn(e,t),e!==null&&(ui(e,t),Kt(e))}function my(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),em(e,i)}function py(e,t){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(t),em(e,i)}function hy(e,t){return Js(e,t)}var us=null,Ol=null,Lr=!1,cs=!1,jr=!1,Ln=0;function Kt(e){e!==Ol&&e.next===null&&(Ol===null?us=Ol=e:Ol=Ol.next=e),cs=!0,Lr||(Lr=!0,yy())}function Bi(e,t){if(!jr&&cs){jr=!0;do for(var i=!1,o=us;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var p=0;else{var S=o.suspendedLanes,N=o.pingedLanes;p=(1<<31-Ct(42|e)+1)-1,p&=f&~(S&~N),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,im(o,p))}else p=Te,p=pa(o,o===Le?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||ri(o,p)||(i=!0,im(o,p));o=o.next}while(i);jr=!1}}function gy(){tm()}function tm(){cs=Lr=!1;var e=0;Ln!==0&&_y()&&(e=Ln);for(var t=St(),i=null,o=us;o!==null;){var f=o.next,p=nm(o,t);p===0?(o.next=null,i===null?us=f:i.next=f,f===null&&(Ol=i)):(i=o,(e!==0||(p&3)!==0)&&(cs=!0)),o=f}Qe!==0&&Qe!==5||Bi(e),Ln!==0&&(Ln=0)}function nm(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-Ct(p),N=1<<S,_=f[S];_===-1?((N&i)===0||(N&o)!==0)&&(f[S]=Bg(N,t)):_<=t&&(e.expiredLanes|=N),p&=~N}if(t=Le,i=Te,i=pa(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Fs(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ri(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(o!==null&&Fs(o),Qs(i)){case 2:case 8:i=Yu;break;case 32:i=ca;break;case 268435456:i=Ju;break;default:i=ca}return o=lm.bind(null,e),i=Js(i,o),e.callbackPriority=t,e.callbackNode=i,t}return o!==null&&o!==null&&Fs(o),e.callbackPriority=2,e.callbackNode=null,2}function lm(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(rs()&&e.callbackNode!==i)return null;var o=Te;return o=pa(e,e===Le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Hf(e,o,t),nm(e,St()),e.callbackNode!=null&&e.callbackNode===i?lm.bind(null,e):null)}function im(e,t){if(rs())return null;Hf(e,t,!0)}function yy(){My(function(){(Ae&6)!==0?Js(Ou,gy):tm()})}function Pr(){if(Ln===0){var e=Ml;e===0&&(e=da,da<<=1,(da&261888)===0&&(da=256)),Ln=e}return Ln}function am(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xa(""+e)}function sm(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function xy(e,t,i,o,f){if(t==="submit"&&i&&i.stateNode===f){var p=am((f[mt]||null).action),S=o.submitter;S&&(t=(t=S[mt]||null)?am(t.formAction):S.getAttribute("formAction"),t!==null&&(p=t,S=null));var N=new Ca("action","action",null,o,f);e.push({event:N,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ln!==0){var _=S?sm(f,S):new FormData(f);lr(i,{pending:!0,data:_,method:f.method,action:p},null,_)}}else typeof p=="function"&&(N.preventDefault(),_=S?sm(f,S):new FormData(f),lr(i,{pending:!0,data:_,method:f.method,action:p},p,_))},currentTarget:f}]})}}for(var Hr=0;Hr<So.length;Hr++){var qr=So[Hr],vy=qr.toLowerCase(),Sy=qr[0].toUpperCase()+qr.slice(1);zt(vy,"on"+Sy)}zt(jc,"onAnimationEnd"),zt(Pc,"onAnimationIteration"),zt(Hc,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(j0,"onTransitionRun"),zt(P0,"onTransitionStart"),zt(H0,"onTransitionCancel"),zt(qc,"onTransitionEnd"),hl("onMouseEnter",["mouseout","mouseover"]),hl("onMouseLeave",["mouseout","mouseover"]),hl("onPointerEnter",["pointerout","pointerover"]),hl("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ty=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oi));function om(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],f=o.event;o=o.listeners;e:{var p=void 0;if(t)for(var S=o.length-1;0<=S;S--){var N=o[S],_=N.instance,j=N.currentTarget;if(N=N.listener,_!==p&&f.isPropagationStopped())break e;p=N,f.currentTarget=j;try{p(f)}catch(O){Ea(O)}f.currentTarget=null,p=_}else for(S=0;S<o.length;S++){if(N=o[S],_=N.instance,j=N.currentTarget,N=N.listener,_!==p&&f.isPropagationStopped())break e;p=N,f.currentTarget=j;try{p(f)}catch(O){Ea(O)}f.currentTarget=null,p=_}}}}function Se(e,t){var i=t[$s];i===void 0&&(i=t[$s]=new Set);var o=e+"__bubble";i.has(o)||(rm(t,e,2,!1),i.add(o))}function Gr(e,t,i){var o=0;t&&(o|=4),rm(i,e,o,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[ds]){e[ds]=!0,ec.forEach(function(i){i!=="selectionchange"&&(Ty.has(i)||Gr(i,!1,e),Gr(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Gr("selectionchange",!1,t))}}function rm(e,t,i,o){switch(Pm(t)){case 2:var f=Ky;break;case 8:f=Qy;break;default:f=nu}i=f.bind(null,t,i,e),f=void 0,!so||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(t,i,{capture:!0,passive:f}):e.addEventListener(t,i,!0):f!==void 0?e.addEventListener(t,i,{passive:f}):e.addEventListener(t,i,!1)}function Vr(e,t,i,o,f){var p=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var S=o.tag;if(S===3||S===4){var N=o.stateNode.containerInfo;if(N===f)break;if(S===4)for(S=o.return;S!==null;){var _=S.tag;if((_===3||_===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;N!==null;){if(S=fl(N),S===null)return;if(_=S.tag,_===5||_===6||_===26||_===27){o=p=S;continue e}N=N.parentNode}}o=o.return}fc(function(){var j=p,O=io(i),Q=[];e:{var H=Gc.get(e);if(H!==void 0){var G=Ca,oe=e;switch(e){case"keypress":if(Sa(i)===0)break e;case"keydown":case"keyup":G=p0;break;case"focusin":oe="focus",G=co;break;case"focusout":oe="blur",G=co;break;case"beforeblur":case"afterblur":G=co;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=n0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y0;break;case jc:case Pc:case Hc:G=a0;break;case qc:G=v0;break;case"scroll":case"scrollend":G=e0;break;case"wheel":G=T0;break;case"copy":case"cut":case"paste":G=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=yc;break;case"toggle":case"beforetoggle":G=N0}var me=(t&4)!==0,ke=!me&&(e==="scroll"||e==="scrollend"),R=me?H!==null?H+"Capture":null:H;me=[];for(var A=j,k;A!==null;){var K=A;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||R===null||(K=fi(A,R),K!=null&&me.push(Yi(A,K,k))),ke)break;A=A.return}0<me.length&&(H=new G(H,oe,null,i,O),Q.push({event:H,listeners:me}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&i!==lo&&(oe=i.relatedTarget||i.fromElement)&&(fl(oe)||oe[dl]))break e;if((G||H)&&(H=O.window===O?O:(H=O.ownerDocument)?H.defaultView||H.parentWindow:window,G?(oe=i.relatedTarget||i.toElement,G=j,oe=oe?fl(oe):null,oe!==null&&(ke=m(oe),me=oe.tag,oe!==ke||me!==5&&me!==27&&me!==6)&&(oe=null)):(G=null,oe=j),G!==oe)){if(me=hc,K="onMouseLeave",R="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(me=yc,K="onPointerLeave",R="onPointerEnter",A="pointer"),ke=G==null?H:di(G),k=oe==null?H:di(oe),H=new me(K,A+"leave",G,i,O),H.target=ke,H.relatedTarget=k,K=null,fl(O)===j&&(me=new me(R,A+"enter",oe,i,O),me.target=k,me.relatedTarget=ke,K=me),ke=K,G&&oe)t:{for(me=Cy,R=G,A=oe,k=0,K=R;K;K=me(K))k++;K=0;for(var fe=A;fe;fe=me(fe))K++;for(;0<k-K;)R=me(R),k--;for(;0<K-k;)A=me(A),K--;for(;k--;){if(R===A||A!==null&&R===A.alternate){me=R;break t}R=me(R),A=me(A)}me=null}else me=null;G!==null&&um(Q,H,G,me,!1),oe!==null&&ke!==null&&um(Q,ke,oe,me,!0)}}e:{if(H=j?di(j):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var be=Ec;else if(Nc(H))if(wc)be=U0;else{be=D0;var de=R0}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&no(j.elementType)&&(be=Ec):be=I0;if(be&&(be=be(e,j))){bc(Q,be,i,O);break e}de&&de(e,H,j),e==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&to(H,"number",H.value)}switch(de=j?di(j):window,e){case"focusin":(Nc(de)||de.contentEditable==="true")&&(Tl=de,yo=j,Si=null);break;case"focusout":Si=yo=Tl=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,kc(Q,i,O);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":kc(Q,i,O)}var xe;if(mo)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Sl?Tc(e,i)&&(Ce="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ce="onCompositionStart");Ce&&(xc&&i.locale!=="ko"&&(Sl||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Sl&&(xe=mc()):(vn=O,oo="value"in vn?vn.value:vn.textContent,Sl=!0)),de=fs(j,Ce),0<de.length&&(Ce=new gc(Ce,e,null,i,O),Q.push({event:Ce,listeners:de}),xe?Ce.data=xe:(xe=Cc(i),xe!==null&&(Ce.data=xe)))),(xe=E0?w0(e,i):_0(e,i))&&(Ce=fs(j,"onBeforeInput"),0<Ce.length&&(de=new gc("onBeforeInput","beforeinput",null,i,O),Q.push({event:de,listeners:Ce}),de.data=xe)),xy(Q,e,j,i,O)}om(Q,t)})}function Yi(e,t,i){return{instance:e,listener:t,currentTarget:i}}function fs(e,t){for(var i=t+"Capture",o=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=fi(e,i),f!=null&&o.unshift(Yi(e,f,p)),f=fi(e,t),f!=null&&o.push(Yi(e,f,p))),e.tag===3)return o;e=e.return}return[]}function Cy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function um(e,t,i,o,f){for(var p=t._reactName,S=[];i!==null&&i!==o;){var N=i,_=N.alternate,j=N.stateNode;if(N=N.tag,_!==null&&_===o)break;N!==5&&N!==26&&N!==27||j===null||(_=j,f?(j=fi(i,p),j!=null&&S.unshift(Yi(i,j,_))):f||(j=fi(i,p),j!=null&&S.push(Yi(i,j,_)))),i=i.return}S.length!==0&&e.push({event:t,listeners:S})}var Ny=/\r\n?/g,by=/\u0000|\uFFFD/g;function cm(e){return(typeof e=="string"?e:""+e).replace(Ny,`
`).replace(by,"")}function dm(e,t){return t=cm(t),cm(e)===t}function Ue(e,t,i,o,f,p){switch(i){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||yl(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&yl(e,""+o);break;case"className":ga(e,"class",o);break;case"tabIndex":ga(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ga(e,i,o);break;case"style":cc(e,o,p);break;case"data":if(t!=="object"){ga(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=xa(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(t!=="input"&&Ue(e,t,"name",f.name,f,null),Ue(e,t,"formEncType",f.formEncType,f,null),Ue(e,t,"formMethod",f.formMethod,f,null),Ue(e,t,"formTarget",f.formTarget,f,null)):(Ue(e,t,"encType",f.encType,f,null),Ue(e,t,"method",f.method,f,null),Ue(e,t,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=xa(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=$t);break;case"onScroll":o!=null&&Se("scroll",e);break;case"onScrollEnd":o!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=xa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Se("beforetoggle",e),Se("toggle",e),ha(e,"popover",o);break;case"xlinkActuate":Qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Qt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Qt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Qt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Qt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ha(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Zg.get(i)||i,ha(e,i,o))}}function Br(e,t,i,o,f,p){switch(i){case"style":cc(e,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?yl(e,o):(typeof o=="number"||typeof o=="bigint")&&yl(e,""+o);break;case"onScroll":o!=null&&Se("scroll",e);break;case"onScrollEnd":o!=null&&Se("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),t=i.slice(2,f?i.length-7:void 0),p=e[mt]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(t,p,f),typeof o=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,o,f);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):ha(e,i,o)}}}function at(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var o=!1,f=!1,p;for(p in i)if(i.hasOwnProperty(p)){var S=i[p];if(S!=null)switch(p){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ue(e,t,p,S,i,null)}}f&&Ue(e,t,"srcSet",i.srcSet,i,null),o&&Ue(e,t,"src",i.src,i,null);return;case"input":Se("invalid",e);var N=p=S=f=null,_=null,j=null;for(o in i)if(i.hasOwnProperty(o)){var O=i[o];if(O!=null)switch(o){case"name":f=O;break;case"type":S=O;break;case"checked":_=O;break;case"defaultChecked":j=O;break;case"value":p=O;break;case"defaultValue":N=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,t));break;default:Ue(e,t,o,O,i,null)}}sc(e,p,N,_,j,S,f,!1);return;case"select":Se("invalid",e),o=S=p=null;for(f in i)if(i.hasOwnProperty(f)&&(N=i[f],N!=null))switch(f){case"value":p=N;break;case"defaultValue":S=N;break;case"multiple":o=N;default:Ue(e,t,f,N,i,null)}t=p,i=S,e.multiple=!!o,t!=null?gl(e,!!o,t,!1):i!=null&&gl(e,!!o,i,!0);return;case"textarea":Se("invalid",e),p=f=o=null;for(S in i)if(i.hasOwnProperty(S)&&(N=i[S],N!=null))switch(S){case"value":o=N;break;case"defaultValue":f=N;break;case"children":p=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Ue(e,t,S,N,i,null)}rc(e,o,f,p);return;case"option":for(_ in i)if(i.hasOwnProperty(_)&&(o=i[_],o!=null))switch(_){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ue(e,t,_,o,i,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(o=0;o<Oi.length;o++)Se(Oi[o],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in i)if(i.hasOwnProperty(j)&&(o=i[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ue(e,t,j,o,i,null)}return;default:if(no(t)){for(O in i)i.hasOwnProperty(O)&&(o=i[O],o!==void 0&&Br(e,t,O,o,i,void 0));return}}for(N in i)i.hasOwnProperty(N)&&(o=i[N],o!=null&&Ue(e,t,N,o,i,null))}function Ey(e,t,i,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,S=null,N=null,_=null,j=null,O=null;for(G in i){var Q=i[G];if(i.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":_=Q;default:o.hasOwnProperty(G)||Ue(e,t,G,null,o,Q)}}for(var H in o){var G=o[H];if(Q=i[H],o.hasOwnProperty(H)&&(G!=null||Q!=null))switch(H){case"type":p=G;break;case"name":f=G;break;case"checked":j=G;break;case"defaultChecked":O=G;break;case"value":S=G;break;case"defaultValue":N=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,t));break;default:G!==Q&&Ue(e,t,H,G,o,Q)}}eo(e,S,N,_,j,O,p,f);return;case"select":G=S=N=H=null;for(p in i)if(_=i[p],i.hasOwnProperty(p)&&_!=null)switch(p){case"value":break;case"multiple":G=_;default:o.hasOwnProperty(p)||Ue(e,t,p,null,o,_)}for(f in o)if(p=o[f],_=i[f],o.hasOwnProperty(f)&&(p!=null||_!=null))switch(f){case"value":H=p;break;case"defaultValue":N=p;break;case"multiple":S=p;default:p!==_&&Ue(e,t,f,p,o,_)}t=N,i=S,o=G,H!=null?gl(e,!!i,H,!1):!!o!=!!i&&(t!=null?gl(e,!!i,t,!0):gl(e,!!i,i?[]:"",!1));return;case"textarea":G=H=null;for(N in i)if(f=i[N],i.hasOwnProperty(N)&&f!=null&&!o.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ue(e,t,N,null,o,f)}for(S in o)if(f=o[S],p=i[S],o.hasOwnProperty(S)&&(f!=null||p!=null))switch(S){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Ue(e,t,S,f,o,p)}oc(e,H,G);return;case"option":for(var oe in i)if(H=i[oe],i.hasOwnProperty(oe)&&H!=null&&!o.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Ue(e,t,oe,null,o,H)}for(_ in o)if(H=o[_],G=i[_],o.hasOwnProperty(_)&&H!==G&&(H!=null||G!=null))switch(_){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ue(e,t,_,H,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in i)H=i[me],i.hasOwnProperty(me)&&H!=null&&!o.hasOwnProperty(me)&&Ue(e,t,me,null,o,H);for(j in o)if(H=o[j],G=i[j],o.hasOwnProperty(j)&&H!==G&&(H!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,t));break;default:Ue(e,t,j,H,o,G)}return;default:if(no(t)){for(var ke in i)H=i[ke],i.hasOwnProperty(ke)&&H!==void 0&&!o.hasOwnProperty(ke)&&Br(e,t,ke,void 0,o,H);for(O in o)H=o[O],G=i[O],!o.hasOwnProperty(O)||H===G||H===void 0&&G===void 0||Br(e,t,O,H,o,G);return}}for(var R in i)H=i[R],i.hasOwnProperty(R)&&H!=null&&!o.hasOwnProperty(R)&&Ue(e,t,R,null,o,H);for(Q in o)H=o[Q],G=i[Q],!o.hasOwnProperty(Q)||H===G||H==null&&G==null||Ue(e,t,Q,H,o,G)}function fm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],p=f.transferSize,S=f.initiatorType,N=f.duration;if(p&&N&&fm(S)){for(S=0,N=f.responseEnd,o+=1;o<i.length;o++){var _=i[o],j=_.startTime;if(j>N)break;var O=_.transferSize,Q=_.initiatorType;O&&fm(Q)&&(_=_.responseEnd,S+=O*(_<N?1:(N-j)/(_-j)))}if(--o,t+=8*(p+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Or=null,Yr=null;function ms(e){return e.nodeType===9?e:e.ownerDocument}function mm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Jr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fr=null;function _y(){var e=window.event;return e&&e.type==="popstate"?e===Fr?!1:(Fr=e,!0):(Fr=null,!1)}var hm=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,My=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(e){return gm.resolve(null).then(e).catch(Ry)}:hm;function Ry(e){setTimeout(function(){throw e})}function jn(e){return e==="head"}function ym(e,t){var i=t,o=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(f),Xl(t);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Ji(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ji(i);for(var p=i.firstChild;p;){var S=p.nextSibling,N=p.nodeName;p[ci]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=S}}else i==="body"&&Ji(e.ownerDocument.body);i=f}while(i);Xl(t)}function xm(e,t){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Xr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Xr(i),Zs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Dy(e,t,i,o){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ci])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function Iy(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ht(e.nextSibling),e===null))return null;return e}function vm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ht(e.nextSibling),e===null))return null;return e}function Kr(e){return e.data==="$?"||e.data==="$~"}function Qr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Uy(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var o=function(){t(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $r=null;function Sm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Ht(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Cm(e,t,i){switch(t=ms(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ji(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zs(e)}var qt=new Map,Nm=new Set;function ps(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pn=$.d;$.d={f:ky,r:Ly,D:jy,C:Py,L:Hy,m:qy,X:zy,S:Gy,M:Vy};function ky(){var e=pn.f(),t=as();return e||t}function Ly(e){var t=ml(e);t!==null&&t.tag===5&&t.type==="form"?qd(t):pn.r(e)}var Yl=typeof document>"u"?null:document;function bm(e,t,i){var o=Yl;if(o&&typeof t=="string"&&t){var f=Dt(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),Nm.has(f)||(Nm.add(f),e={rel:e,crossOrigin:i,href:t},o.querySelector(f)===null&&(t=o.createElement("link"),at(t,"link",e),Ze(t),o.head.appendChild(t)))}}function jy(e){pn.D(e),bm("dns-prefetch",e,null)}function Py(e,t){pn.C(e,t),bm("preconnect",e,t)}function Hy(e,t,i){pn.L(e,t,i);var o=Yl;if(o&&e&&t){var f='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+Dt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+Dt(i.imageSizes)+'"]')):f+='[href="'+Dt(e)+'"]';var p=f;switch(t){case"style":p=Jl(e);break;case"script":p=Fl(e)}qt.has(p)||(e=T({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),qt.set(p,e),o.querySelector(f)!==null||t==="style"&&o.querySelector(Fi(p))||t==="script"&&o.querySelector(Xi(p))||(t=o.createElement("link"),at(t,"link",e),Ze(t),o.head.appendChild(t)))}}function qy(e,t){pn.m(e,t);var i=Yl;if(i&&e){var o=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+Dt(o)+'"][href="'+Dt(e)+'"]',p=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Fl(e)}if(!qt.has(p)&&(e=T({rel:"modulepreload",href:e},t),qt.set(p,e),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Xi(p)))return}o=i.createElement("link"),at(o,"link",e),Ze(o),i.head.appendChild(o)}}}function Gy(e,t,i){pn.S(e,t,i);var o=Yl;if(o&&e){var f=pl(o).hoistableStyles,p=Jl(e);t=t||"default";var S=f.get(p);if(!S){var N={loading:0,preload:null};if(S=o.querySelector(Fi(p)))N.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},i),(i=qt.get(p))&&Zr(e,i);var _=S=o.createElement("link");Ze(_),at(_,"link",e),_._p=new Promise(function(j,O){_.onload=j,_.onerror=O}),_.addEventListener("load",function(){N.loading|=1}),_.addEventListener("error",function(){N.loading|=2}),N.loading|=4,hs(S,t,o)}S={type:"stylesheet",instance:S,count:1,state:N},f.set(p,S)}}}function zy(e,t){pn.X(e,t);var i=Yl;if(i&&e){var o=pl(i).hoistableScripts,f=Fl(e),p=o.get(f);p||(p=i.querySelector(Xi(f)),p||(e=T({src:e,async:!0},t),(t=qt.get(f))&&Wr(e,t),p=i.createElement("script"),Ze(p),at(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function Vy(e,t){pn.M(e,t);var i=Yl;if(i&&e){var o=pl(i).hoistableScripts,f=Fl(e),p=o.get(f);p||(p=i.querySelector(Xi(f)),p||(e=T({src:e,async:!0,type:"module"},t),(t=qt.get(f))&&Wr(e,t),p=i.createElement("script"),Ze(p),at(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(f,p))}}function Em(e,t,i,o){var f=(f=pe.current)?ps(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Jl(i.href),i=pl(f).hoistableStyles,o=i.get(t),o||(o={type:"style",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Jl(i.href);var p=pl(f).hoistableStyles,S=p.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=f.querySelector(Fi(e)))&&!p._p&&(S.instance=p,S.state.loading=5),qt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},qt.set(e,i),p||By(f,e,i,S.state))),t&&o===null)throw Error(s(528,""));return S}if(t&&o!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Fl(i),i=pl(f).hoistableScripts,o=i.get(t),o||(o={type:"script",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Jl(e){return'href="'+Dt(e)+'"'}function Fi(e){return'link[rel="stylesheet"]['+e+"]"}function wm(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function By(e,t,i,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),at(t,"link",i),Ze(t),e.head.appendChild(t))}function Fl(e){return'[src="'+Dt(e)+'"]'}function Xi(e){return"script[async]"+e}function _m(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+Dt(i.href)+'"]');if(o)return t.instance=o,Ze(o),o;var f=T({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ze(o),at(o,"style",f),hs(o,i.precedence,e),t.instance=o;case"stylesheet":f=Jl(i.href);var p=e.querySelector(Fi(f));if(p)return t.state.loading|=4,t.instance=p,Ze(p),p;o=wm(i),(f=qt.get(f))&&Zr(o,f),p=(e.ownerDocument||e).createElement("link"),Ze(p);var S=p;return S._p=new Promise(function(N,_){S.onload=N,S.onerror=_}),at(p,"link",o),t.state.loading|=4,hs(p,i.precedence,e),t.instance=p;case"script":return p=Fl(i.src),(f=e.querySelector(Xi(p)))?(t.instance=f,Ze(f),f):(o=i,(f=qt.get(p))&&(o=T({},i),Wr(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ze(f),at(f,"link",o),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,hs(o,i.precedence,e));return t.instance}function hs(e,t,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,p=f,S=0;S<o.length;S++){var N=o[S];if(N.dataset.precedence===t)p=N;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Zr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var gs=null;function Am(e,t,i){if(gs===null){var o=new Map,f=gs=new Map;f.set(i,o)}else f=gs,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var p=i[f];if(!(p[ci]||p[tt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(t)||"";S=e+S;var N=o.get(S);N?N.push(p):o.set(S,[p])}}return o}function Mm(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Oy(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Yy(e,t,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Jl(o.href),p=t.querySelector(Fi(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ys.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=p,Ze(p);return}p=t.ownerDocument||t,o=wm(o),(f=qt.get(f))&&Zr(o,f),p=p.createElement("link"),Ze(p);var S=p;S._p=new Promise(function(N,_){S.onload=N,S.onerror=_}),at(p,"link",o),i.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ys.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var eu=0;function Jy(e,t){return e.stylesheets&&e.count===0&&vs(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&vs(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&eu===0&&(eu=62500*wy());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vs(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>eu?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function ys(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xs=null;function vs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xs=new Map,t.forEach(Fy,e),xs=null,ys.call(e))}function Fy(e,t){if(!(t.state.loading&4)){var i=xs.get(e);if(i)var o=i.get(null);else{i=new Map,xs.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var S=f[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(i.set(S.dataset.precedence,S),o=S)}o&&i.set(null,o)}f=t.instance,S=f.getAttribute("data-precedence"),p=i.get(S)||o,p===o&&i.set(null,f),i.set(S,f),this.count++,o=ys.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var Ki={$$typeof:P,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Xy(e,t,i,o,f,p,S,N,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.hiddenUpdates=Xs(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Dm(e,t,i,o,f,p,S,N,_,j,O,Q){return e=new Xy(e,t,i,S,_,j,O,Q,N),t=1,p===!0&&(t|=24),p=bt(3,null,null,t),e.current=p,p.stateNode=e,t=Uo(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:o,isDehydrated:i,cache:t},Po(p),e}function Im(e){return e?(e=bl,e):bl}function Um(e,t,i,o,f,p){f=Im(f),o.context===null?o.context=f:o.pendingContext=f,o=En(t),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=wn(e,o,t),i!==null&&(vt(i,e,t),_i(i,e,t))}function km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function tu(e,t){km(e,t),(e=e.alternate)&&km(e,t)}function Lm(e){if(e.tag===13||e.tag===31){var t=Kn(e,67108864);t!==null&&vt(t,e,67108864),tu(e,67108864)}}function jm(e){if(e.tag===13||e.tag===31){var t=Mt();t=Ks(t);var i=Kn(e,t);i!==null&&vt(i,e,t),tu(e,t)}}var Ss=!0;function Ky(e,t,i,o){var f=I.T;I.T=null;var p=$.p;try{$.p=2,nu(e,t,i,o)}finally{$.p=p,I.T=f}}function Qy(e,t,i,o){var f=I.T;I.T=null;var p=$.p;try{$.p=8,nu(e,t,i,o)}finally{$.p=p,I.T=f}}function nu(e,t,i,o){if(Ss){var f=lu(o);if(f===null)Vr(e,t,o,Ts,i),Hm(e,o);else if(Zy(f,e,t,i,o))o.stopPropagation();else if(Hm(e,o),t&4&&-1<$y.indexOf(e)){for(;f!==null;){var p=ml(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=On(p.pendingLanes);if(S!==0){var N=p;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var _=1<<31-Ct(S);N.entanglements[1]|=_,S&=~_}Kt(p),(Ae&6)===0&&(ls=St()+500,Bi(0))}}break;case 31:case 13:N=Kn(p,2),N!==null&&vt(N,p,2),as(),tu(p,2)}if(p=lu(o),p===null&&Vr(e,t,o,Ts,i),p===f)break;f=p}f!==null&&o.stopPropagation()}else Vr(e,t,o,null,i)}}function lu(e){return e=io(e),iu(e)}var Ts=null;function iu(e){if(Ts=null,e=fl(e),e!==null){var t=m(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=x(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ts=e,null}function Pm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jg()){case Ou:return 2;case Yu:return 8;case ca:case Pg:return 32;case Ju:return 268435456;default:return 32}default:return 32}}var au=!1,Pn=null,Hn=null,qn=null,Qi=new Map,$i=new Map,Gn=[],$y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hm(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(t.pointerId)}}function Zi(e,t,i,o,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:p,targetContainers:[f]},t!==null&&(t=ml(t),t!==null&&Lm(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Zy(e,t,i,o,f){switch(t){case"focusin":return Pn=Zi(Pn,e,t,i,o,f),!0;case"dragenter":return Hn=Zi(Hn,e,t,i,o,f),!0;case"mouseover":return qn=Zi(qn,e,t,i,o,f),!0;case"pointerover":var p=f.pointerId;return Qi.set(p,Zi(Qi.get(p)||null,e,t,i,o,f)),!0;case"gotpointercapture":return p=f.pointerId,$i.set(p,Zi($i.get(p)||null,e,t,i,o,f)),!0}return!1}function qm(e){var t=fl(e.target);if(t!==null){var i=m(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,Zu(e.priority,function(){jm(i)});return}}else if(t===31){if(t=x(i),t!==null){e.blockedOn=t,Zu(e.priority,function(){jm(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=lu(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);lo=o,i.target.dispatchEvent(o),lo=null}else return t=ml(i),t!==null&&Lm(t),e.blockedOn=i,!1;t.shift()}return!0}function Gm(e,t,i){Cs(e)&&i.delete(t)}function Wy(){au=!1,Pn!==null&&Cs(Pn)&&(Pn=null),Hn!==null&&Cs(Hn)&&(Hn=null),qn!==null&&Cs(qn)&&(qn=null),Qi.forEach(Gm),$i.forEach(Gm)}function Ns(e,t){e.blockedOn===t&&(e.blockedOn=null,au||(au=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Wy)))}var bs=null;function zm(e){bs!==e&&(bs=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){bs===e&&(bs=null);for(var t=0;t<e.length;t+=3){var i=e[t],o=e[t+1],f=e[t+2];if(typeof o!="function"){if(iu(o||i)===null)continue;break}var p=ml(i);p!==null&&(e.splice(t,3),t-=3,lr(p,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function Xl(e){function t(_){return Ns(_,e)}Pn!==null&&Ns(Pn,e),Hn!==null&&Ns(Hn,e),qn!==null&&Ns(qn,e),Qi.forEach(t),$i.forEach(t);for(var i=0;i<Gn.length;i++){var o=Gn[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Gn.length&&(i=Gn[0],i.blockedOn===null);)qm(i),i.blockedOn===null&&Gn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],p=i[o+1],S=f[mt]||null;if(typeof p=="function")S||zm(i);else if(S){var N=null;if(p&&p.hasAttribute("formAction")){if(f=p,S=p[mt]||null)N=S.formAction;else if(iu(f)!==null)continue}else N=S.action;typeof N=="function"?i[o+1]=N:(i.splice(o,3),o-=3),zm(i)}}}function Vm(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function su(e){this._internalRoot=e}Es.prototype.render=su.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,o=Mt();Um(i,o,e,t,null,null)},Es.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Um(e.current,2,null,e,null,null),as(),t[dl]=null}};function Es(e){this._internalRoot=e}Es.prototype.unstable_scheduleHydration=function(e){if(e){var t=$u();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Gn.length&&t!==0&&t<Gn[i].priority;i++);Gn.splice(i,0,e),i===0&&qm(e)}};var Bm=n.version;if(Bm!=="19.2.0")throw Error(s(527,Bm,"19.2.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var ex={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{oi=ws.inject(ex),Tt=ws}catch{}}return ea.createRoot=function(e,t){if(!u(e))throw Error(s(299));var i=!1,o="",f=Kd,p=Qd,S=$d;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=Dm(e,1,!1,null,null,i,o,null,f,p,S,Vm),e[dl]=t.current,zr(e),new su(t)},ea.hydrateRoot=function(e,t,i){if(!u(e))throw Error(s(299));var o=!1,f="",p=Kd,S=Qd,N=$d,_=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(S=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError),i.formState!==void 0&&(_=i.formState)),t=Dm(e,1,!0,t,i??null,o,f,_,p,S,N,Vm),t.context=Im(null),i=t.current,o=Mt(),o=Ks(o),f=En(o),f.callback=null,wn(i,f,o),i=o,t.current.lanes=i,ui(t,i),Kt(t),e[dl]=t.current,zr(e),new Es(t)},ea.version="19.2.0",ea}var Wm;function cx(){if(Wm)return uu.exports;Wm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),uu.exports=ux(),uu.exports}var dx=cx();const fx=Hh(dx);var we=(l=>(l.Dashboard="Dashboard",l.Consultation="Consultation",l.HealthRecords="Health Records",l.Reminders="Reminders",l.Wellness="Echo Journal",l.Education="Education",l.SymptomChecker="Symptom Checker",l.CommunityHub="Community Hub",l.Chats="Chats",l.Profile="Profile",l.Music="Music",l))(we||{}),ut=(l=>(l.Dashboard="Dashboard",l.Patients="Patients",l.Schedule="Schedule",l.Chats="Chats",l.Profile="Profile",l.Music="Music",l))(ut||{});const mx={id:"user-123",name:"John Doe",email:"john.doe@example.com",phone:"1234567890",age:72,profilePicUrl:"https://randomuser.me/api/portraits/men/32.jpg"},Gh=[{id:"doc-1",name:"Dr. Marcus Chen",specialty:"Geriatrician",imageUrl:"https://randomuser.me/api/portraits/men/62.jpg",available:!0,email:"marcus.chen@clinic.com",phone:"0987654321"},{id:"doc-2",name:"Dr. Evelyn Reed",specialty:"Cardiologist",imageUrl:"https://randomuser.me/api/portraits/women/44.jpg",available:!1,email:"evelyn.reed@clinic.com",phone:"0987654322"},{id:"doc-3",name:"Dr. Ben Carter",specialty:"Orthopedist",imageUrl:"https://randomuser.me/api/portraits/men/3.jpg",available:!0,email:"ben.carter@clinic.com",phone:"0987654323"}],la=[mx,{id:"user-456",name:"Jane Smith",email:"jane.smith@example.com",phone:"2345678901",age:68,profilePicUrl:"https://randomuser.me/api/portraits/women/32.jpg"},{id:"user-789",name:"Peter Jones",email:"peter.jones@example.com",phone:"3456789012",age:75,profilePicUrl:"https://randomuser.me/api/portraits/men/33.jpg"}],mu=[{id:"hr-1",patientId:"user-123",title:"Annual Check-up Summary",type:"Consultation Note",eventDate:"2024-07-15",uploadedAt:"2024-07-16T10:00:00Z"},{id:"hr-2",patientId:"user-123",title:"Blood Test Results",type:"Lab Report",eventDate:"2024-07-10",uploadedAt:"2024-07-11T14:30:00Z",fileName:"blood_report_july.pdf"},{id:"hr-3",patientId:"user-123",title:"Lisinopril Prescription",type:"Prescription",eventDate:"2024-06-20",uploadedAt:"2024-06-20T09:15:00Z",fileName:"lisinopril_rx.jpg"},{id:"hr-7",patientId:"user-123",title:"Follow-up Note",type:"Consultation Note",eventDate:"2024-05-01",uploadedAt:"2024-05-01T11:00:00Z"},{id:"hr-4",patientId:"user-456",title:"Cardiology Follow-up",type:"Consultation Note",eventDate:"2024-07-18",uploadedAt:"2024-07-18T11:00:00Z"},{id:"hr-5",patientId:"user-456",title:"X-Ray Results - Wrist",type:"Lab Report",eventDate:"2024-07-05",uploadedAt:"2024-07-06T16:00:00Z",fileName:"xray_wrist_july.pdf"},{id:"hr-6",patientId:"user-789",title:"Physical Therapy Notes",type:"Consultation Note",eventDate:"2024-07-20",uploadedAt:"2024-07-20T15:00:00Z"}],zh=new Date,Vh=new Date;Vh.setDate(zh.getDate()+1);const pu=zh.toISOString().split("T")[0],ep=Vh.toISOString().split("T")[0],hu=[{id:"rem-1",title:"Metformin (500mg)",date:pu,time:"08:00",type:"Medication",mealContext:"After Meal",taken:!1,patientId:"user-123"},{id:"rem-2",title:"Atorvastatin (20mg)",date:pu,time:"20:00",type:"Medication",mealContext:"After Meal",taken:!1,patientId:"user-123"},{id:"rem-3",title:"Follow-up",date:ep,time:"Tomorrow, 11:00 AM",type:"Appointment",patientId:"user-123"},{id:"rem-4",title:"Routine Check-up",date:ep,time:"Tomorrow, 2:00 PM",type:"Appointment",patientId:"user-456"},{id:"rem-5",title:"Consultation",date:pu,time:"Today, 4:30 PM",type:"Appointment",patientId:"user-789"}],tp=[{id:"art-1",title:"Exercises for Elder People",category:"Fitness",summary:"Discover safe and effective exercises to improve strength, balance, and flexibility.",imageUrl:"https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?q=80&w=800",fullDescription:"Staying active is crucial for healthy aging. This guide introduces a series of low-impact exercises that can be done at home, including chair yoga, walking, and light strength training, to help you stay fit and independent.",youtubeUrl:"https://www.youtube.com/watch?v=xTjL9fuIYmo&list=PLRCgg2aTq5NWjbav8TVXatCRijJlwuU0M&index=2"},{id:"art-2",title:"AI-Powered Meal Analyzer",category:"Nutrition",summary:"Use our AI tool to analyze your meals and get instant feedback on your nutritional choices.",imageUrl:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?q=80&w=800",contentType:"interactiveNutrition",quickTips:["Take a picture of your meal to get an instant health rating.","Our AI provides personalized feedback to help you make better choices.","Eating balanced meals is key to staying healthy and energetic."],mealPlan:{breakfast:"Oatmeal with berries and a handful of nuts.",lunch:"Grilled chicken salad with a variety of greens and a light vinaigrette.",dinner:"Baked salmon with steamed asparagus and quinoa."}},{id:"art-3",title:"Yoga for Elderly People",category:"Fitness",summary:"Gentle yoga poses to improve flexibility, balance, and mental clarity for seniors.",imageUrl:"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?q=80&w=800",fullDescription:"Yoga is a wonderful way for seniors to maintain their physical and mental health. This session focuses on gentle, modified poses that can be done with the support of a chair, helping to improve joint mobility, enhance balance, and promote a sense of calm and well-being.",youtubeUrl:"https://www.youtube.com/watch?v=0L_YrMcwU3w&list=PLJvDaXFqvSLOqmNzMoGOgKTxa1PqM1UIL&index=1"},{id:"art-4",title:"Nurturing Your Mental Wellness",category:"Mental Wellness",summary:"Discover simple practices to calm your mind, reduce stress, and improve your overall emotional well-being.",imageUrl:"https://images.unsplash.com/photo-1547560893-af42353603c4?q=80&w=800",navigateToView:we.CommunityHub},{id:"art-5",title:"Spiritual Wellness",category:"Mental & Spiritual Wellness",summary:"Find peace and comfort through spiritual readings and guided meditations.",imageUrl:"https://images.unsplash.com/photo-1508213629007-1ea3c6c3e1e2?q=80&w=800",contentType:"religious",religiousBooks:[{title:"The Bible",author:"The Holy Bible",summary:"Listen to passages from the Holy Bible, offering comfort, wisdom, and spiritual guidance.",youtubeUrl:"https://youtube.com/playlist?list=PLLXWR4NrK0yn21RYTUQ1Ht--AYEi-2gLy&si=kBEy0MMQHcHA-JPA"},{title:"Quran Recitation (Playlist)",author:"The Holy Quran",summary:"Listen to a playlist of beautiful recitations from the Holy Quran, offering spiritual guidance and peace.",youtubeUrl:"https://www.youtube.com/watch?v=dXxh8tmUimc&list=PL3SWvPT2o0y-sytMGUdlbJX07_EtVtx4w"},{title:"Quran Recitation (Single Video)",author:"The Holy Quran",summary:"Listen to another beautiful recitation for spiritual reflection and peace.",youtubeUrl:"https://www.youtube.com/watch?v=oEFDyPhUb1M"},{title:"Bhagavad Gita",author:"Ancient Hindu Scripture",summary:"Listen to the sacred teachings of the Bhagavad Gita, offering profound wisdom on life, duty, and spirituality.",youtubeUrl:"https://www.youtube.com/playlist?list=PLX0Ub3o9M5sKqFKSRmYL6HUfs3YerzdTx"},{title:"Ramayan",author:"Ancient Hindu Epic",summary:"Listen to the epic story of the Ramayan, a tale of dharma, righteousness, and devotion.",youtubeUrl:"https://www.youtube.com/watch?v=tdImHCTNqUs&list=PLapw_oQeJSZ0xAnbHvPuX5ojj0sEIMKqK"}]}],px=[{id:"post1",author:"Eleanor Vance",authorImageUrl:"https://randomuser.me/api/portraits/women/68.jpg",timestamp:"2 hours ago",content:"Just came back from a lovely morning walk in the park. The weather was perfect! ☀️",likes:12,comments:[{id:"c1",author:"Arthur Harris",authorImageUrl:"https://randomuser.me/api/portraits/men/67.jpg",timestamp:"1h ago",content:"That sounds wonderful, Eleanor!",likes:2,replies:[]}]}],hx=[{id:"event1",title:"Weekly Book Club",date:"Wednesday, Aug 7",time:"2:00 PM",location:"Community Center",attendees:8,author:"Admin"}],gu=[{id:"convo-1",patientId:"user-123",participantName:"Dr. Marcus Chen",participantImageUrl:"https://randomuser.me/api/portraits/men/62.jpg",participantPhone:"0987654321",lastMessage:"Great, see you then!",lastMessageTimestamp:"Yesterday",messages:[{id:"m1",text:"Hi John, just a reminder about your appointment tomorrow at 11 AM.",isMe:!1,timestamp:"10:30 AM"},{id:"m2",text:"Thanks, Dr. Chen. I will be there.",isMe:!0,timestamp:"10:32 AM"},{id:"m3",text:"Great, see you then!",isMe:!1,timestamp:"10:33 AM"}]},{id:"convo-2",patientId:"user-456",participantName:"Dr. Marcus Chen",participantImageUrl:"https://randomuser.me/api/portraits/men/62.jpg",participantPhone:"0987654321",lastMessage:"I am feeling much better, thank you!",lastMessageTimestamp:"3 days ago",messages:[{id:"m4",text:"Hello Dr. Chen, just wanted to follow up on my prescription.",isMe:!0,timestamp:"1:15 PM"},{id:"m5",text:"Hi Jane, of course. Everything should be at your pharmacy now.",isMe:!1,timestamp:"1:20 PM"},{id:"m6",text:"I am feeling much better, thank you!",isMe:!0,timestamp:"1:21 PM"}]},{id:"convo-3",patientId:"user-789",participantName:"Dr. Ben Carter",participantImageUrl:"https://randomuser.me/api/portraits/men/3.jpg",participantPhone:"0987654323",lastMessage:"Okay, I will try those exercises.",lastMessageTimestamp:"1 day ago",messages:[{id:"m7",text:"Hi Peter, how is the physical therapy going?",isMe:!1,timestamp:"9:00 AM"},{id:"m8",text:"Okay, I will try those exercises.",isMe:!0,timestamp:"9:05 AM"}]}];new Date(Date.now()-1440*60*1e3).toISOString(),new Date(Date.now()-2880*60*1e3).toISOString(),new Date(Date.now()-4320*60*1e3).toISOString(),new Date(Date.now()-5760*60*1e3).toISOString(),new Date(Date.now()-7200*60*1e3).toISOString(),new Date(Date.now()-8640*60*1e3).toISOString();const Bh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),Ru=l=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75l-2.489-2.489m0 0a3.375 3.375 0 10-4.773-4.773 3.375 3.375 0 004.774 4.774zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75L21 21"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12h.01M6 6.01h.01M3.01 6h.01M6.01 3h.01m11.97 0h.01M21 6.01h-.01m.01 5.98h-.01m-5.98 5.99h.01"})]}),Wl=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),Oh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),ni=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 21.75l-.648-1.188a2.25 2.25 0 01-1.423-1.423L13.25 18.5l1.188-.648a2.25 2.25 0 011.423-1.423L16.5 15.25l.648 1.188a2.25 2.25 0 011.423 1.423L19.75 18.5l-1.188.648a2.25 2.25 0 01-1.423 1.423z"})}),gx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Du=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 21v-1.5M15.75 3v1.5m0 16.5v-1.5m3.75-12H21m-18 0h1.5m15 3.75H21m-18 0h1.5m9-1.5v-3.75a3 3 0 00-3-3h-3a3 3 0 00-3 3V15a3 3 0 003 3h3a3 3 0 003-3v-3.75z"})}),ia=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 text-teal-600",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),Yh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-3.72-3.72a1.05 1.05 0 00-1.485 0l-3.72 3.72a1.05 1.05 0 00-1.485 0l-3.72-3.72a1.05 1.05 0 00-1.485 0l-2.25 2.25a1.05 1.05 0 000 1.485l3.72 3.72c.884.884 2.305.884 3.189 0l3.72-3.72a1.05 1.05 0 000-1.485l-2.25-2.25a1.05 1.05 0 00-1.485 0l-3.72 3.72m0 0L3.05 19.382c-.884-.284-1.5-1.128-1.5-2.097V8.511c0-1.136.847-2.1 1.98-2.193l3.72 3.72a1.05 1.05 0 001.485 0l3.72-3.72a1.05 1.05 0 001.485 0l3.72 3.72a1.05 1.05 0 001.485 0l2.25-2.25a1.05 1.05 0 000-1.485l-3.72-3.72c-.884-.884-2.305-.884-3.189 0l-3.72 3.72a1.05 1.05 0 000 1.485l2.25 2.25a1.05 1.05 0 001.485 0l3.72-3.72m0 0l3.72-3.72"})}),Iu=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-4.67c.61.91 1.074 1.96 1.074 3.071v.003z"})}),Jh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V7.5a2.25 2.25 0 012.25-2.25h1.5A2.25 2.25 0 0115 7.5v1.5m-5.25 0l-2.67-1.335a2.25 2.25 0 00-1.17 2.163v3.75a2.25 2.25 0 001.17 2.163l2.67 1.335"})}),Fh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V7.5a2.25 2.25 0 012.25-2.25h1.5A2.25 2.25 0 0115 7.5v1.5m-5.25 0l-2.67-1.335a2.25 2.25 0 00-1.17 2.163v3.75a2.25 2.25 0 001.17 2.163l2.67 1.335"})}),aa=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),Xh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Kh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.375 12.739l-7.693 7.693a4.5 4.5 0 01-6.364-6.364l10.94-10.94A3.375 3.375 0 1118.375 7.97L7.435 18.91a2.25 2.25 0 01-3.182-3.182l7.693-7.693a.75.75 0 011.06 1.06l-7.693 7.693a1.125 1.125 0 001.591 1.591l7.693-7.693a.75.75 0 011.06-1.06l-7.693 7.693z"})}),Qh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),js=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Ds=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h22.5"})}),yx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-5.571 3m-5.571 0l-4.18-2.25m11.142 0l-5.571 3-5.571-3m11.142 0l4.179 2.25m0 0l-4.18 2.25m0 0l4.18 2.25 4.18-2.25m-4.18-2.25L12 14.25 2.25 12"})}),Uu=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),$h=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z",clipRule:"evenodd"})}),xx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),Is=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 w-5 ml-auto text-gray-400",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.068.16 2.163.287 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})}),vx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h22.5"})}),Sx=l=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...l,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),Tx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962a3.75 3.75 0 015.25 0m-5.25 0a3.75 3.75 0 00-5.25 0M3 13.549a9.075 9.075 0 011.544-4.223 3.75 3.75 0 015.25 0m5.25 0a3.75 3.75 0 015.25 0M3 13.549L3 13.5"})}),Cx=l=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-3 h-3",...l,children:[r.jsx("path",{d:"M8.25 3.75a.75.75 0 01.75.75v3a.75.75 0 01-1.5 0V4.5a.75.75 0 01.75-.75z"}),r.jsx("path",{fillRule:"evenodd",d:"M8 2a.75.75 0 01.75.75v.521A6 6 0 0114 8.643v5.607a.75.75 0 01-1.5 0v-5.607a4.5 4.5 0 00-4.5-4.357V8.5a.75.75 0 01-1.5 0V4.267a4.5 4.5 0 00-4.5 4.357v5.607a.75.75 0 01-1.5 0V8.643A6 6 0 017.25 3.27V2.75A.75.75 0 018 2z",clipRule:"evenodd"})]}),Nx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),ku=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9A2.25 2.25 0 0013.5 5.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"})}),Zh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),bx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),Wh=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 00-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H4.5a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),Lu=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})}),sa=l=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.776 48.776 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),Ex=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-12 w-12 text-yellow-600 animate-ring",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),rl=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m12 5.25v-1.5a6 6 0 00-12 0v1.5m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),wx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9A2.25 2.25 0 0013.5 5.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"})}),_x=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9A2.25 2.25 0 0013.5 5.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"})}),Ax=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.658-.463 1.243-1.117 1.243H4.557c-.654 0-1.187-.585-1.117-1.243l1.263-12A3.75 3.75 0 017.5 4.5h9a3.75 3.75 0 013.356 4.507z"})}),Ps=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),oa=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),eg=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})}),tg=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),Mx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),Rx=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})}),ng=l=>r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",...l,children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),Dx=({activeView:l,setActiveView:n,onSosClick:a,userDetails:s,onLogout:u})=>{const m=[{view:we.Dashboard,icon:r.jsx(Bh,{})},{view:we.Consultation,icon:r.jsx(Ru,{})},{view:we.HealthRecords,icon:r.jsx(Wl,{})},{view:we.Reminders,icon:r.jsx(Oh,{})},{view:we.Wellness,icon:r.jsx(ni,{})},{view:we.Music,icon:r.jsx(Jh,{})},{view:we.CommunityHub,icon:r.jsx(Iu,{})},{view:we.Chats,icon:r.jsx(Yh,{})},{view:we.Education,icon:r.jsx(gx,{})},{view:we.SymptomChecker,icon:r.jsx(Du,{})}];return r.jsxs("div",{className:"w-24 lg:w-64 bg-white shadow-lg flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-center lg:justify-start p-4 lg:p-6 border-b",children:[r.jsx(ia,{}),r.jsx("h1",{className:"hidden lg:block text-2xl font-bold text-teal-600 ml-3",children:"ElderlyEase"})]}),r.jsx("nav",{className:"mt-6",children:r.jsx("ul",{children:m.map(h=>r.jsx("li",{className:"px-3 lg:px-4 my-1",children:r.jsxs("button",{onClick:()=>n(h.view),className:`w-full flex items-center justify-center lg:justify-start py-3 px-3 rounded-lg text-lg transition-colors duration-200 ${l===h.view?"bg-teal-100 text-teal-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"}`,children:[h.icon,r.jsx("span",{className:"hidden lg:inline-block ml-4",children:h.view})]})},h.view))})})]}),r.jsxs("div",{className:"p-4 border-t",children:[r.jsxs("button",{onClick:a,className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 px-4 rounded-lg flex items-center justify-center text-xl transition-transform transform hover:scale-105",children:[r.jsx("span",{className:"hidden lg:inline-block mr-3",children:"SOS"}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})]}),r.jsxs("button",{onClick:()=>n(we.Profile),className:"w-full flex items-center mt-6 p-2 rounded-lg bg-gray-100 hover:bg-teal-100 transition-colors text-left",children:[r.jsx("img",{src:s.profilePicUrl,alt:s.name,className:"h-10 w-10 rounded-full object-cover"}),r.jsxs("div",{className:"hidden lg:block ml-3",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:s.name}),r.jsx("p",{className:"text-sm text-gray-500",children:"View Profile"})]})]}),r.jsxs("button",{onClick:u,className:"w-full mt-4 flex items-center justify-center lg:justify-start text-left text-gray-600 hover:bg-gray-100 hover:text-gray-800 py-3 px-3 rounded-lg text-lg transition-colors",children:[r.jsx(ng,{}),r.jsx("span",{className:"hidden lg:inline-block ml-4",children:"Logout"})]})]})]})},Ix=({activeView:l,setActiveView:n,doctorDetails:a,onLogout:s})=>{const u=[{view:ut.Dashboard,icon:r.jsx(Bh,{})},{view:ut.Patients,icon:r.jsx(Iu,{})},{view:ut.Schedule,icon:r.jsx(vx,{})},{view:ut.Chats,icon:r.jsx(Yh,{})},{view:ut.Music,icon:r.jsx(Jh,{})}];return r.jsxs("div",{className:"w-24 lg:w-64 bg-white shadow-lg flex flex-col justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-center lg:justify-start p-4 lg:p-6 border-b",children:[r.jsx(ia,{}),r.jsx("h1",{className:"hidden lg:block text-2xl font-bold text-teal-600 ml-3",children:"Doctor Portal"})]}),r.jsx("nav",{className:"mt-6",children:r.jsx("ul",{children:u.map(m=>r.jsx("li",{className:"px-3 lg:px-4 my-1",children:r.jsxs("button",{onClick:()=>n(m.view),className:`w-full flex items-center justify-center lg:justify-start py-3 px-3 rounded-lg text-lg transition-colors duration-200 ${l===m.view?"bg-teal-100 text-teal-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"}`,children:[m.icon,r.jsx("span",{className:"hidden lg:inline-block ml-4",children:m.view})]})},m.view))})})]}),r.jsxs("div",{className:"p-4 border-t",children:[r.jsxs("button",{onClick:()=>n(ut.Profile),className:"w-full flex items-center p-2 rounded-lg bg-gray-100 hover:bg-teal-100 transition-colors text-left",children:[r.jsx("img",{src:a.imageUrl,alt:a.name,className:"h-10 w-10 rounded-full object-cover"}),r.jsxs("div",{className:"hidden lg:block ml-3",children:[r.jsx("p",{className:"font-semibold text-gray-800",children:a.name}),r.jsx("p",{className:"text-sm text-gray-500",children:a.specialty})]})]}),r.jsxs("button",{onClick:s,className:"w-full mt-4 flex items-center justify-center lg:justify-start text-left text-gray-600 hover:bg-gray-100 hover:text-gray-800 py-3 px-3 rounded-lg text-lg transition-colors",children:[r.jsx(ng,{}),r.jsx("span",{className:"hidden lg:inline-block ml-4",children:"Logout"})]})]})]})},Ux=({isOpen:l,onClose:n,title:a,description:s})=>l?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full m-4 text-center transform transition-all animate-fade-in-up",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-100 mb-6",children:r.jsx("svg",{className:"h-12 w-12 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:a}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:s}),r.jsx("button",{onClick:n,className:"w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-4 px-6 rounded-lg text-xl transition-colors duration-200",children:"Okay"})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% {
            opacity: 0;
            transform: translateY(20px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]}):null;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kx,Lx;function jx(){return{geminiUrl:kx,vertexUrl:Lx}}function Px(l,n,a,s){var u,m;if(!(l!=null&&l.baseUrl)){const h=jx();return n?(u=h.vertexUrl)!==null&&u!==void 0?u:a:(m=h.geminiUrl)!==null&&m!==void 0?m:s}return l.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cl{}function ue(l,n){const a=/\{([^}]+)\}/g;return l.replace(a,(s,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const m=n[u];return m!=null?String(m):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function d(l,n,a){for(let m=0;m<n.length-1;m++){const h=n[m];if(h.endsWith("[]")){const x=h.slice(0,-2);if(!(x in l))if(Array.isArray(a))l[x]=Array.from({length:a.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(l[x])){const y=l[x];if(Array.isArray(a))for(let g=0;g<y.length;g++){const v=y[g];d(v,n.slice(m+1),a[g])}else for(const g of y)d(g,n.slice(m+1),a)}return}else if(h.endsWith("[0]")){const x=h.slice(0,-3);x in l||(l[x]=[{}]);const y=l[x];d(y[0],n.slice(m+1),a);return}(!l[h]||typeof l[h]!="object")&&(l[h]={}),l=l[h]}const s=n[n.length-1],u=l[s];if(u!==void 0){if(!a||typeof a=="object"&&Object.keys(a).length===0||a===u)return;if(typeof u=="object"&&typeof a=="object"&&u!==null&&a!==null)Object.assign(u,a);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof a=="object"&&a!==null&&!Array.isArray(a)?Object.assign(l,a):l[s]=a}function c(l,n,a=void 0){try{if(n.length===1&&n[0]==="_self")return l;for(let s=0;s<n.length;s++){if(typeof l!="object"||l===null)return a;const u=n[s];if(u.endsWith("[]")){const m=u.slice(0,-2);if(m in l){const h=l[m];return Array.isArray(h)?h.map(x=>c(x,n.slice(s+1),a)):a}else return a}else l=l[u]}return l}catch(s){if(s instanceof TypeError)return a;throw s}}function Hx(l,n){for(const[a,s]of Object.entries(n)){const u=a.split("."),m=s.split("."),h=new Set;let x=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){x=y;break}if(x!==-1&&m.length>x)for(let y=x;y<m.length;y++){const g=m[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&h.add(g)}Su(l,u,m,0,h)}}function Su(l,n,a,s,u){if(s>=n.length||typeof l!="object"||l===null)return;const m=n[s];if(m.endsWith("[]")){const h=m.slice(0,-2),x=l;if(h in x&&Array.isArray(x[h]))for(const y of x[h])Su(y,n,a,s+1,u)}else if(m==="*"){if(typeof l=="object"&&l!==null&&!Array.isArray(l)){const h=l,x=Object.keys(h).filter(g=>!g.startsWith("_")&&!u.has(g)),y={};for(const g of x)y[g]=h[g];for(const[g,v]of Object.entries(y)){const T=[];for(const C of a.slice(s))C==="*"?T.push(g):T.push(C);d(h,T,v)}for(const g of x)delete h[g]}}else{const h=l;m in h&&Su(h[m],n,a,s+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ju(l){if(typeof l!="string")throw new Error("fromImageBytes must be a string");return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(l){const n={},a=c(l,["operationName"]);a!=null&&d(n,["operationName"],a);const s=c(l,["resourceName"]);return s!=null&&d(n,["_url","resourceName"],s),n}function Gx(l){const n={},a=c(l,["name"]);a!=null&&d(n,["name"],a);const s=c(l,["metadata"]);s!=null&&d(n,["metadata"],s);const u=c(l,["done"]);u!=null&&d(n,["done"],u);const m=c(l,["error"]);m!=null&&d(n,["error"],m);const h=c(l,["response","generateVideoResponse"]);return h!=null&&d(n,["response"],Vx(h)),n}function zx(l){const n={},a=c(l,["name"]);a!=null&&d(n,["name"],a);const s=c(l,["metadata"]);s!=null&&d(n,["metadata"],s);const u=c(l,["done"]);u!=null&&d(n,["done"],u);const m=c(l,["error"]);m!=null&&d(n,["error"],m);const h=c(l,["response"]);return h!=null&&d(n,["response"],Bx(h)),n}function Vx(l){const n={},a=c(l,["generatedSamples"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(h=>Ox(h))),d(n,["generatedVideos"],m)}const s=c(l,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const u=c(l,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function Bx(l){const n={},a=c(l,["videos"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(h=>Yx(h))),d(n,["generatedVideos"],m)}const s=c(l,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const u=c(l,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function Ox(l){const n={},a=c(l,["video"]);return a!=null&&d(n,["video"],Xx(a)),n}function Yx(l){const n={},a=c(l,["_self"]);return a!=null&&d(n,["video"],Kx(a)),n}function Jx(l){const n={},a=c(l,["operationName"]);return a!=null&&d(n,["_url","operationName"],a),n}function Fx(l){const n={},a=c(l,["operationName"]);return a!=null&&d(n,["_url","operationName"],a),n}function Xx(l){const n={},a=c(l,["uri"]);a!=null&&d(n,["uri"],a);const s=c(l,["encodedVideo"]);s!=null&&d(n,["videoBytes"],ju(s));const u=c(l,["encoding"]);return u!=null&&d(n,["mimeType"],u),n}function Kx(l){const n={},a=c(l,["gcsUri"]);a!=null&&d(n,["uri"],a);const s=c(l,["bytesBase64Encoded"]);s!=null&&d(n,["videoBytes"],ju(s));const u=c(l,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var np;(function(l){l.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",l.OUTCOME_OK="OUTCOME_OK",l.OUTCOME_FAILED="OUTCOME_FAILED",l.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(np||(np={}));var lp;(function(l){l.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",l.PYTHON="PYTHON"})(lp||(lp={}));var ip;(function(l){l.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT"})(ip||(ip={}));var Ge;(function(l){l.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",l.STRING="STRING",l.NUMBER="NUMBER",l.INTEGER="INTEGER",l.BOOLEAN="BOOLEAN",l.ARRAY="ARRAY",l.OBJECT="OBJECT",l.NULL="NULL"})(Ge||(Ge={}));var ap;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(ap||(ap={}));var sp;(function(l){l.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",l.NO_AUTH="NO_AUTH",l.API_KEY_AUTH="API_KEY_AUTH",l.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",l.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",l.OAUTH="OAUTH",l.OIDC_AUTH="OIDC_AUTH"})(sp||(sp={}));var op;(function(l){l.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",l.SIMPLE_SEARCH="SIMPLE_SEARCH",l.ELASTIC_SEARCH="ELASTIC_SEARCH"})(op||(op={}));var rp;(function(l){l.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",l.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",l.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",l.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",l.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",l.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",l.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",l.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",l.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",l.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rp||(rp={}));var up;(function(l){l.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",l.SEVERITY="SEVERITY",l.PROBABILITY="PROBABILITY"})(up||(up={}));var cp;(function(l){l.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE",l.OFF="OFF"})(cp||(cp={}));var dp;(function(l){l.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",l.STOP="STOP",l.MAX_TOKENS="MAX_TOKENS",l.SAFETY="SAFETY",l.RECITATION="RECITATION",l.LANGUAGE="LANGUAGE",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.SPII="SPII",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.IMAGE_SAFETY="IMAGE_SAFETY",l.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",l.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",l.NO_IMAGE="NO_IMAGE"})(dp||(dp={}));var fp;(function(l){l.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",l.NEGLIGIBLE="NEGLIGIBLE",l.LOW="LOW",l.MEDIUM="MEDIUM",l.HIGH="HIGH"})(fp||(fp={}));var mp;(function(l){l.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",l.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",l.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",l.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",l.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(mp||(mp={}));var pp;(function(l){l.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",l.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",l.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",l.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",l.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(pp||(pp={}));var hp;(function(l){l.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",l.SAFETY="SAFETY",l.OTHER="OTHER",l.BLOCKLIST="BLOCKLIST",l.PROHIBITED_CONTENT="PROHIBITED_CONTENT",l.IMAGE_SAFETY="IMAGE_SAFETY",l.MODEL_ARMOR="MODEL_ARMOR",l.JAILBREAK="JAILBREAK"})(hp||(hp={}));var gp;(function(l){l.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",l.ON_DEMAND="ON_DEMAND",l.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(gp||(gp={}));var Us;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.AUDIO="AUDIO"})(Us||(Us={}));var yp;(function(l){l.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",l.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",l.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",l.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(yp||(yp={}));var xp;(function(l){l.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",l.TUNING_MODE_FULL="TUNING_MODE_FULL",l.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xp||(xp={}));var vp;(function(l){l.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",l.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",l.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",l.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",l.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",l.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",l.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vp||(vp={}));var Tu;(function(l){l.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",l.JOB_STATE_QUEUED="JOB_STATE_QUEUED",l.JOB_STATE_PENDING="JOB_STATE_PENDING",l.JOB_STATE_RUNNING="JOB_STATE_RUNNING",l.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",l.JOB_STATE_FAILED="JOB_STATE_FAILED",l.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",l.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",l.JOB_STATE_PAUSED="JOB_STATE_PAUSED",l.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",l.JOB_STATE_UPDATING="JOB_STATE_UPDATING",l.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Tu||(Tu={}));var Sp;(function(l){l.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",l.TUNING_TASK_I2V="TUNING_TASK_I2V",l.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Sp||(Sp={}));var Tp;(function(l){l.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",l.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",l.BALANCED="BALANCED",l.PRIORITIZE_COST="PRIORITIZE_COST"})(Tp||(Tp={}));var Cp;(function(l){l.UNSPECIFIED="UNSPECIFIED",l.BLOCKING="BLOCKING",l.NON_BLOCKING="NON_BLOCKING"})(Cp||(Cp={}));var Np;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.MODE_DYNAMIC="MODE_DYNAMIC"})(Np||(Np={}));var bp;(function(l){l.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",l.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(bp||(bp={}));var Ep;(function(l){l.MODE_UNSPECIFIED="MODE_UNSPECIFIED",l.AUTO="AUTO",l.ANY="ANY",l.NONE="NONE",l.VALIDATED="VALIDATED"})(Ep||(Ep={}));var wp;(function(l){l.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",l.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",l.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",l.BLOCK_NONE="BLOCK_NONE"})(wp||(wp={}));var _p;(function(l){l.DONT_ALLOW="DONT_ALLOW",l.ALLOW_ADULT="ALLOW_ADULT",l.ALLOW_ALL="ALLOW_ALL"})(_p||(_p={}));var Ap;(function(l){l.auto="auto",l.en="en",l.ja="ja",l.ko="ko",l.hi="hi",l.zh="zh",l.pt="pt",l.es="es"})(Ap||(Ap={}));var Mp;(function(l){l.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",l.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",l.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",l.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",l.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Mp||(Mp={}));var Rp;(function(l){l.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",l.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",l.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",l.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Rp||(Rp={}));var Dp;(function(l){l.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",l.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",l.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",l.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Dp||(Dp={}));var Ip;(function(l){l.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",l.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",l.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",l.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",l.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",l.EDIT_MODE_STYLE="EDIT_MODE_STYLE",l.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",l.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ip||(Ip={}));var Up;(function(l){l.FOREGROUND="FOREGROUND",l.BACKGROUND="BACKGROUND",l.PROMPT="PROMPT",l.SEMANTIC="SEMANTIC",l.INTERACTIVE="INTERACTIVE"})(Up||(Up={}));var kp;(function(l){l.ASSET="ASSET",l.STYLE="STYLE"})(kp||(kp={}));var Lp;(function(l){l.INSERT="INSERT",l.REMOVE="REMOVE",l.REMOVE_STATIC="REMOVE_STATIC",l.OUTPAINT="OUTPAINT"})(Lp||(Lp={}));var jp;(function(l){l.OPTIMIZED="OPTIMIZED",l.LOSSLESS="LOSSLESS"})(jp||(jp={}));var Pp;(function(l){l.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",l.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Pp||(Pp={}));var Hp;(function(l){l.STATE_UNSPECIFIED="STATE_UNSPECIFIED",l.PROCESSING="PROCESSING",l.ACTIVE="ACTIVE",l.FAILED="FAILED"})(Hp||(Hp={}));var qp;(function(l){l.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",l.UPLOADED="UPLOADED",l.GENERATED="GENERATED"})(qp||(qp={}));var Gp;(function(l){l.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",l.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",l.RESPONSE_REJECTED="RESPONSE_REJECTED",l.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Gp||(Gp={}));var zp;(function(l){l.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",l.TEXT="TEXT",l.IMAGE="IMAGE",l.VIDEO="VIDEO",l.AUDIO="AUDIO",l.DOCUMENT="DOCUMENT"})(zp||(zp={}));var Vp;(function(l){l.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",l.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",l.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vp||(Vp={}));var Bp;(function(l){l.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",l.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",l.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bp||(Bp={}));var Op;(function(l){l.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",l.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",l.NO_INTERRUPTION="NO_INTERRUPTION"})(Op||(Op={}));var Yp;(function(l){l.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",l.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",l.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Yp||(Yp={}));var Jp;(function(l){l.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",l.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",l.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",l.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",l.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",l.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",l.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",l.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",l.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",l.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",l.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",l.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",l.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Jp||(Jp={}));var Fp;(function(l){l.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",l.QUALITY="QUALITY",l.DIVERSITY="DIVERSITY",l.VOCALIZATION="VOCALIZATION"})(Fp||(Fp={}));var Kl;(function(l){l.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",l.PLAY="PLAY",l.PAUSE="PAUSE",l.STOP="STOP",l.RESET_CONTEXT="RESET_CONTEXT"})(Kl||(Kl={}));class Cu{constructor(n){const a={};for(const s of n.headers.entries())a[s[0]]=s[1];this.headers=a,this.responseInternal=n}json(){return this.responseInternal.json()}}class ta{get text(){var n,a,s,u,m,h,x,y;if(((u=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const T=[];for(const C of(y=(x=(h=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)!==null&&y!==void 0?y:[]){for(const[b,E]of Object.entries(C))b!=="text"&&b!=="thought"&&(E!==null||E!==void 0)&&T.push(b);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,g+=C.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var n,a,s,u,m,h,x,y;if(((u=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const T of(y=(x=(h=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)!==null&&y!==void 0?y:[]){for(const[C,b]of Object.entries(T))C!=="inlineData"&&(b!==null||b!==void 0)&&v.push(C);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var n,a,s,u,m,h,x,y;if(((u=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(x=(h=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var n,a,s,u,m,h,x,y,g;if(((u=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(x=(h=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var n,a,s,u,m,h,x,y,g;if(((u=(s=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(x=(h=(m=this.candidates)===null||m===void 0?void 0:m[0])===null||h===void 0?void 0:h.content)===null||x===void 0?void 0:x.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Xp{}class Kp{}class Qx{}class $x{}class Zx{}class Wx{}class Qp{}class $p{}class Zp{}class ev{}class ks{_fromAPIResponse({apiResponse:n,isVertexAI:a}){const s=new ks;let u;const m=n;return a?u=zx(m):u=Gx(m),Object.assign(s,u),s}}class Wp{}class eh{}class th{}class tv{}class nv{}class lv{}class nh{}class iv{get text(){var n,a,s;let u="",m=!1;const h=[];for(const x of(s=(a=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(x))y!=="text"&&y!=="thought"&&g!==null&&h.push(y);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;m=!0,u+=x.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?u:void 0}get data(){var n,a,s;let u="";const m=[];for(const h of(s=(a=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&s!==void 0?s:[]){for(const[x,y]of Object.entries(h))x!=="inlineData"&&y!==null&&m.push(x);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class av{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _e(l,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(l.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const a=n.split("/",2);return`publishers/${a[0]}/models/${a[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function lg(l,n){const a=_e(l,n);return a?a.startsWith("publishers/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/${a}`:a.startsWith("models/")&&l.isVertexAI()?`projects/${l.getProject()}/locations/${l.getLocation()}/publishers/google/${a}`:a:""}function ig(l){return Array.isArray(l)?l.map(n=>Ls(n)):[Ls(l)]}function Ls(l){if(typeof l=="object"&&l!==null)return l;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof l}`)}function ag(l){const n=Ls(l);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function sg(l){const n=Ls(l);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function lh(l){if(l==null)throw new Error("PartUnion is required");if(typeof l=="object")return l;if(typeof l=="string")return{text:l};throw new Error(`Unsupported part type: ${typeof l}`)}function og(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("PartListUnion is required");return Array.isArray(l)?l.map(n=>lh(n)):[lh(l)]}function Nu(l){return l!=null&&typeof l=="object"&&"parts"in l&&Array.isArray(l.parts)}function ih(l){return l!=null&&typeof l=="object"&&"functionCall"in l}function ah(l){return l!=null&&typeof l=="object"&&"functionResponse"in l}function ct(l){if(l==null)throw new Error("ContentUnion is required");return Nu(l)?l:{role:"user",parts:og(l)}}function Pu(l,n){if(!n)return[];if(l.isVertexAI()&&Array.isArray(n))return n.flatMap(a=>{const s=ct(a);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(l.isVertexAI()){const a=ct(n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]}return Array.isArray(n)?n.map(a=>ct(a)):[ct(n)]}function Gt(l){if(l==null||Array.isArray(l)&&l.length===0)throw new Error("contents are required");if(!Array.isArray(l)){if(ih(l)||ah(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(l)]}const n=[],a=[],s=Nu(l[0]);for(const u of l){const m=Nu(u);if(m!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(m)n.push(u);else{if(ih(u)||ah(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(u)}}return s||n.push({role:"user",parts:og(a)}),n}function sv(l,n){l.includes("null")&&(n.nullable=!0);const a=l.filter(s=>s!=="null");if(a.length===1)n.type=Object.values(Ge).includes(a[0].toUpperCase())?a[0].toUpperCase():Ge.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of a)n.anyOf.push({type:Object.values(Ge).includes(s.toUpperCase())?s.toUpperCase():Ge.TYPE_UNSPECIFIED})}}function Ql(l){const n={},a=["items"],s=["anyOf"],u=["properties"];if(l.type&&l.anyOf)throw new Error("type and anyOf cannot be both populated.");const m=l.anyOf;m!=null&&m.length==2&&(m[0].type==="null"?(n.nullable=!0,l=m[1]):m[1].type==="null"&&(n.nullable=!0,l=m[0])),l.type instanceof Array&&sv(l.type,n);for(const[h,x]of Object.entries(l))if(x!=null)if(h=="type"){if(x==="null")throw new Error("type: null can not be the only possible type for the field.");if(x instanceof Array)continue;n.type=Object.values(Ge).includes(x.toUpperCase())?x.toUpperCase():Ge.TYPE_UNSPECIFIED}else if(a.includes(h))n[h]=Ql(x);else if(s.includes(h)){const y=[];for(const g of x){if(g.type=="null"){n.nullable=!0;continue}y.push(Ql(g))}n[h]=y}else if(u.includes(h)){const y={};for(const[g,v]of Object.entries(x))y[g]=Ql(v);n[h]=y}else{if(h==="additionalProperties")continue;n[h]=x}return n}function Hu(l){return Ql(l)}function qu(l){if(typeof l=="object")return l;if(typeof l=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:l}}};throw new Error(`Unsupported speechConfig type: ${typeof l}`)}function Gu(l){if("multiSpeakerVoiceConfig"in l)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return l}function li(l){if(l.functionDeclarations)for(const n of l.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Ql(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Ql(n.response));return l}function ii(l){if(l==null)throw new Error("tools is required");if(!Array.isArray(l))throw new Error("tools is required and must be an array of Tools");const n=[];for(const a of l)n.push(a);return n}function ov(l,n,a,s=1){const u=!n.startsWith(`${a}/`)&&n.split("/").length===s;return l.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${l.getProject()}/${n}`:n.startsWith(`${a}/`)?`projects/${l.getProject()}/locations/${l.getLocation()}/${n}`:u?`projects/${l.getProject()}/locations/${l.getLocation()}/${a}/${n}`:n:u?`${a}/${n}`:n}function gn(l,n){if(typeof n!="string")throw new Error("name must be a string");return ov(l,n,"cachedContents")}function rg(l){switch(l){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return l}}function Vn(l){return ju(l)}function rv(l){return l!=null&&typeof l=="object"&&"name"in l}function uv(l){return l!=null&&typeof l=="object"&&"video"in l}function cv(l){return l!=null&&typeof l=="object"&&"uri"in l}function ug(l){var n;let a;if(rv(l)&&(a=l.name),!(cv(l)&&(a=l.uri,a===void 0))&&!(uv(l)&&(a=(n=l.video)===null||n===void 0?void 0:n.uri,a===void 0))){if(typeof l=="string"&&(a=l),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const u=a.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${a}`);a=u[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function cg(l,n){let a;return l.isVertexAI()?a=n?"publishers/google/models":"models":a=n?"models":"tunedModels",a}function dg(l){for(const n of["models","tunedModels","publisherModels"])if(dv(l,n))return l[n];return[]}function dv(l,n){return l!==null&&typeof l=="object"&&n in l}function fv(l,n={}){const a=l,s={name:a.name,description:a.description,parametersJsonSchema:a.inputSchema};return a.outputSchema&&(s.responseJsonSchema=a.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function mv(l,n={}){const a=[],s=new Set;for(const u of l){const m=u.name;if(s.has(m))throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s.add(m);const h=fv(u,n);h.functionDeclarations&&a.push(...h.functionDeclarations)}return{functionDeclarations:a}}function fg(l,n){let a;if(typeof n=="string")if(l.isVertexAI())if(n.startsWith("gs://"))a={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))a={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))a={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(l.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");a={inlinedRequests:n}}else a=n;const s=[a.gcsUri,a.bigqueryUri].filter(Boolean).length,u=[a.inlinedRequests,a.fileName].filter(Boolean).length;if(l.isVertexAI()){if(u>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return a}function pv(l){if(typeof l!="string")return l;const n=l;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function mg(l){if(typeof l!="object"||l===null)return{};const n=l,a=n.inlinedResponses;if(typeof a!="object"||a===null)return l;const u=a.inlinedResponses;if(!Array.isArray(u)||u.length===0)return l;let m=!1;for(const h of u){if(typeof h!="object"||h===null)continue;const y=h.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){m=!0;break}}return m&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),l}function ai(l,n){const a=n;if(!l.isVertexAI()){if(/batches\/[^/]+$/.test(a))return a.split("/").pop();throw new Error(`Invalid batch job name: ${a}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(a))return a.split("/").pop();if(/^\d+$/.test(a))return a;throw new Error(`Invalid batch job name: ${a}.`)}function pg(l){const n=l;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hv(l){const n={},a=c(l,["responsesFile"]);a!=null&&d(n,["fileName"],a);const s=c(l,["inlinedResponses","inlinedResponses"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(h=>Jv(h))),d(n,["inlinedResponses"],m)}const u=c(l,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>h)),d(n,["inlinedEmbedContentResponses"],m)}return n}function gv(l){const n={},a=c(l,["predictionsFormat"]);a!=null&&d(n,["format"],a);const s=c(l,["gcsDestination","outputUriPrefix"]);s!=null&&d(n,["gcsUri"],s);const u=c(l,["bigqueryDestination","outputUri"]);return u!=null&&d(n,["bigqueryUri"],u),n}function yv(l){const n={},a=c(l,["format"]);a!=null&&d(n,["predictionsFormat"],a);const s=c(l,["gcsUri"]);s!=null&&d(n,["gcsDestination","outputUriPrefix"],s);const u=c(l,["bigqueryUri"]);if(u!=null&&d(n,["bigqueryDestination","outputUri"],u),c(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(l,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(l,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Ms(l){const n={},a=c(l,["name"]);a!=null&&d(n,["name"],a);const s=c(l,["metadata","displayName"]);s!=null&&d(n,["displayName"],s);const u=c(l,["metadata","state"]);u!=null&&d(n,["state"],pg(u));const m=c(l,["metadata","createTime"]);m!=null&&d(n,["createTime"],m);const h=c(l,["metadata","endTime"]);h!=null&&d(n,["endTime"],h);const x=c(l,["metadata","updateTime"]);x!=null&&d(n,["updateTime"],x);const y=c(l,["metadata","model"]);y!=null&&d(n,["model"],y);const g=c(l,["metadata","output"]);return g!=null&&d(n,["dest"],hv(mg(g))),n}function bu(l){const n={},a=c(l,["name"]);a!=null&&d(n,["name"],a);const s=c(l,["displayName"]);s!=null&&d(n,["displayName"],s);const u=c(l,["state"]);u!=null&&d(n,["state"],pg(u));const m=c(l,["error"]);m!=null&&d(n,["error"],m);const h=c(l,["createTime"]);h!=null&&d(n,["createTime"],h);const x=c(l,["startTime"]);x!=null&&d(n,["startTime"],x);const y=c(l,["endTime"]);y!=null&&d(n,["endTime"],y);const g=c(l,["updateTime"]);g!=null&&d(n,["updateTime"],g);const v=c(l,["model"]);v!=null&&d(n,["model"],v);const T=c(l,["inputConfig"]);T!=null&&d(n,["src"],xv(T));const C=c(l,["outputConfig"]);return C!=null&&d(n,["dest"],gv(mg(C))),n}function xv(l){const n={},a=c(l,["instancesFormat"]);a!=null&&d(n,["format"],a);const s=c(l,["gcsSource","uris"]);s!=null&&d(n,["gcsUri"],s);const u=c(l,["bigquerySource","inputUri"]);return u!=null&&d(n,["bigqueryUri"],u),n}function vv(l,n){const a={};if(c(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(n,["fileName"]);s!=null&&d(a,["fileName"],s);const u=c(n,["inlinedRequests"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>Yv(l,h))),d(a,["requests","requests"],m)}return a}function Sv(l){const n={},a=c(l,["format"]);a!=null&&d(n,["instancesFormat"],a);const s=c(l,["gcsUri"]);s!=null&&d(n,["gcsSource","uris"],s);const u=c(l,["bigqueryUri"]);if(u!=null&&d(n,["bigquerySource","inputUri"],u),c(l,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(l,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function Tv(l){const n={},a=c(l,["data"]);if(a!=null&&d(n,["data"],a),c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Cv(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],ai(l,s)),a}function Nv(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],ai(l,s)),a}function bv(l){const n={},a=c(l,["content"]);a!=null&&d(n,["content"],a);const s=c(l,["citationMetadata"]);s!=null&&d(n,["citationMetadata"],Ev(s));const u=c(l,["tokenCount"]);u!=null&&d(n,["tokenCount"],u);const m=c(l,["finishReason"]);m!=null&&d(n,["finishReason"],m);const h=c(l,["avgLogprobs"]);h!=null&&d(n,["avgLogprobs"],h);const x=c(l,["groundingMetadata"]);x!=null&&d(n,["groundingMetadata"],x);const y=c(l,["index"]);y!=null&&d(n,["index"],y);const g=c(l,["logprobsResult"]);g!=null&&d(n,["logprobsResult"],g);const v=c(l,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(b=>b)),d(n,["safetyRatings"],C)}const T=c(l,["urlContextMetadata"]);return T!=null&&d(n,["urlContextMetadata"],T),n}function Ev(l){const n={},a=c(l,["citationSources"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),d(n,["citations"],s)}return n}function hg(l){const n={},a=c(l,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(m=>Wv(m))),d(n,["parts"],u)}const s=c(l,["role"]);return s!=null&&d(n,["role"],s),n}function wv(l,n){const a={},s=c(l,["displayName"]);if(n!==void 0&&s!=null&&d(n,["batch","displayName"],s),c(l,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return a}function _v(l,n){const a={},s=c(l,["displayName"]);n!==void 0&&s!=null&&d(n,["displayName"],s);const u=c(l,["dest"]);return n!==void 0&&u!=null&&d(n,["outputConfig"],yv(pv(u))),a}function sh(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["src"]);u!=null&&d(a,["batch","inputConfig"],vv(l,fg(l,u)));const m=c(n,["config"]);return m!=null&&wv(m,a),a}function Av(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["model"],_e(l,s));const u=c(n,["src"]);u!=null&&d(a,["inputConfig"],Sv(fg(l,u)));const m=c(n,["config"]);return m!=null&&_v(m,a),a}function Mv(l,n){const a={},s=c(l,["displayName"]);return n!==void 0&&s!=null&&d(n,["batch","displayName"],s),a}function Rv(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["src"]);u!=null&&d(a,["batch","inputConfig"],Pv(l,u));const m=c(n,["config"]);return m!=null&&Mv(m,a),a}function Dv(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],ai(l,s)),a}function Iv(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],ai(l,s)),a}function Uv(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["name"]);s!=null&&d(n,["name"],s);const u=c(l,["done"]);u!=null&&d(n,["done"],u);const m=c(l,["error"]);return m!=null&&d(n,["error"],m),n}function kv(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["name"]);s!=null&&d(n,["name"],s);const u=c(l,["done"]);u!=null&&d(n,["done"],u);const m=c(l,["error"]);return m!=null&&d(n,["error"],m),n}function Lv(l,n){const a={},s=c(n,["contents"]);if(s!=null){let m=Pu(l,s);Array.isArray(m)&&(m=m.map(h=>h)),d(a,["requests[]","request","content"],m)}const u=c(n,["config"]);return u!=null&&(d(a,["_self"],jv(u,a)),Hx(a,{"requests[].*":"requests[].request.*"})),a}function jv(l,n){const a={},s=c(l,["taskType"]);n!==void 0&&s!=null&&d(n,["requests[]","taskType"],s);const u=c(l,["title"]);n!==void 0&&u!=null&&d(n,["requests[]","title"],u);const m=c(l,["outputDimensionality"]);if(n!==void 0&&m!=null&&d(n,["requests[]","outputDimensionality"],m),c(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function Pv(l,n){const a={},s=c(n,["fileName"]);s!=null&&d(a,["file_name"],s);const u=c(n,["inlinedRequests"]);return u!=null&&d(a,["requests"],Lv(l,u)),a}function Hv(l){const n={};if(c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(l,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function qv(l,n,a){const s={},u=c(n,["systemInstruction"]);a!==void 0&&u!=null&&d(a,["systemInstruction"],hg(ct(u)));const m=c(n,["temperature"]);m!=null&&d(s,["temperature"],m);const h=c(n,["topP"]);h!=null&&d(s,["topP"],h);const x=c(n,["topK"]);x!=null&&d(s,["topK"],x);const y=c(n,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const g=c(n,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const v=c(n,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=c(n,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const C=c(n,["logprobs"]);C!=null&&d(s,["logprobs"],C);const b=c(n,["presencePenalty"]);b!=null&&d(s,["presencePenalty"],b);const E=c(n,["frequencyPenalty"]);E!=null&&d(s,["frequencyPenalty"],E);const D=c(n,["seed"]);D!=null&&d(s,["seed"],D);const L=c(n,["responseMimeType"]);L!=null&&d(s,["responseMimeType"],L);const Y=c(n,["responseSchema"]);Y!=null&&d(s,["responseSchema"],Hu(Y));const U=c(n,["responseJsonSchema"]);if(U!=null&&d(s,["responseJsonSchema"],U),c(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=c(n,["safetySettings"]);if(a!==void 0&&P!=null){let ae=P;Array.isArray(ae)&&(ae=ae.map(re=>e1(re))),d(a,["safetySettings"],ae)}const V=c(n,["tools"]);if(a!==void 0&&V!=null){let ae=ii(V);Array.isArray(ae)&&(ae=ae.map(re=>t1(li(re)))),d(a,["tools"],ae)}const z=c(n,["toolConfig"]);if(a!==void 0&&z!=null&&d(a,["toolConfig"],z),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=c(n,["cachedContent"]);a!==void 0&&W!=null&&d(a,["cachedContent"],gn(l,W));const Z=c(n,["responseModalities"]);Z!=null&&d(s,["responseModalities"],Z);const se=c(n,["mediaResolution"]);se!=null&&d(s,["mediaResolution"],se);const ie=c(n,["speechConfig"]);if(ie!=null&&d(s,["speechConfig"],qu(ie)),c(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=c(n,["thinkingConfig"]);ce!=null&&d(s,["thinkingConfig"],ce);const X=c(n,["imageConfig"]);return X!=null&&d(s,["imageConfig"],X),s}function Gv(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>bv(g))),d(n,["candidates"],y)}const u=c(l,["modelVersion"]);u!=null&&d(n,["modelVersion"],u);const m=c(l,["promptFeedback"]);m!=null&&d(n,["promptFeedback"],m);const h=c(l,["responseId"]);h!=null&&d(n,["responseId"],h);const x=c(l,["usageMetadata"]);return x!=null&&d(n,["usageMetadata"],x),n}function zv(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],ai(l,s)),a}function Vv(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],ai(l,s)),a}function Bv(l){const n={};if(c(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=c(l,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function Ov(l){const n={};if(c(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const a=c(l,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function Yv(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["request","model"],_e(l,s));const u=c(n,["contents"]);if(u!=null){let x=Gt(u);Array.isArray(x)&&(x=x.map(y=>hg(y))),d(a,["request","contents"],x)}const m=c(n,["metadata"]);m!=null&&d(a,["metadata"],m);const h=c(n,["config"]);return h!=null&&d(a,["request","generationConfig"],qv(l,h,c(a,["request"],{}))),a}function Jv(l){const n={},a=c(l,["response"]);a!=null&&d(n,["response"],Gv(a));const s=c(l,["error"]);return s!=null&&d(n,["error"],s),n}function Fv(l,n){const a={},s=c(l,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=c(l,["pageToken"]);if(n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),c(l,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return a}function Xv(l,n){const a={},s=c(l,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=c(l,["pageToken"]);n!==void 0&&u!=null&&d(n,["_query","pageToken"],u);const m=c(l,["filter"]);return n!==void 0&&m!=null&&d(n,["_query","filter"],m),a}function Kv(l){const n={},a=c(l,["config"]);return a!=null&&Fv(a,n),n}function Qv(l){const n={},a=c(l,["config"]);return a!=null&&Xv(a,n),n}function $v(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=c(l,["operations"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>Ms(h))),d(n,["batchJobs"],m)}return n}function Zv(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=c(l,["batchPredictionJobs"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>bu(h))),d(n,["batchJobs"],m)}return n}function Wv(l){const n={},a=c(l,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=c(l,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const u=c(l,["executableCode"]);u!=null&&d(n,["executableCode"],u);const m=c(l,["fileData"]);m!=null&&d(n,["fileData"],Hv(m));const h=c(l,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const x=c(l,["inlineData"]);x!=null&&d(n,["inlineData"],Tv(x));const y=c(l,["text"]);y!=null&&d(n,["text"],y);const g=c(l,["thought"]);g!=null&&d(n,["thought"],g);const v=c(l,["thoughtSignature"]);v!=null&&d(n,["thoughtSignature"],v);const T=c(l,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function e1(l){const n={},a=c(l,["category"]);if(a!=null&&d(n,["category"],a),c(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(l,["threshold"]);return s!=null&&d(n,["threshold"],s),n}function t1(l){const n={},a=c(l,["functionDeclarations"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>v)),d(n,["functionDeclarations"],g)}if(c(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(l,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const u=c(l,["googleMaps"]);u!=null&&d(n,["googleMaps"],Bv(u));const m=c(l,["computerUse"]);m!=null&&d(n,["computerUse"],m);const h=c(l,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=c(l,["googleSearch"]);x!=null&&d(n,["googleSearch"],Ov(x));const y=c(l,["urlContext"]);return y!=null&&d(n,["urlContext"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ul;(function(l){l.PAGED_ITEM_BATCH_JOBS="batchJobs",l.PAGED_ITEM_MODELS="models",l.PAGED_ITEM_TUNING_JOBS="tuningJobs",l.PAGED_ITEM_FILES="files",l.PAGED_ITEM_CACHED_CONTENTS="cachedContents",l.PAGED_ITEM_RAG_STORES="ragStores",l.PAGED_ITEM_DOCUMENTS="documents"})(ul||(ul={}));class ra{constructor(n,a,s,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=a,this.init(n,s,u)}init(n,a,s){var u,m;this.nameInternal=n,this.pageInternal=a[this.nameInternal]||[],this.sdkHttpResponseInternal=a==null?void 0:a.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!s||Object.keys(s).length===0?h={config:{}}:typeof s=="object"?h=Object.assign({},s):h=s,h.config&&(h.config.pageToken=a.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(m=(u=h.config)===null||u===void 0?void 0:u.pageSize)!==null&&m!==void 0?m:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class n1 extends cl{constructor(n){super(),this.apiClient=n,this.create=async a=>(this.apiClient.isVertexAI()&&(a.config=this.formatDestination(a.src,a.config)),this.createInternal(a)),this.createEmbeddings=async a=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(a)},this.list=async(a={})=>new ra(ul.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(a),a)}createInlinedGenerateContentRequest(n){const a=sh(this.apiClient,n),s=a._url,u=ue("{model}:batchGenerateContent",s),x=a.batch.inputConfig.requests,y=x.requests,g=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const C=T.systemInstruction;delete T.systemInstruction;const b=T.request;b.systemInstruction=C,T.request=b}g.push(T)}return x.requests=g,delete a.config,delete a._url,delete a._query,{path:u,body:a}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,a){const s=a?Object.assign({},a):{},u=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${u}`),s.dest===void 0){const m=this.getGcsUri(n),h=this.getBigqueryUri(n);if(m)m.endsWith(".jsonl")?s.dest=`${m.slice(0,-6)}/dest`:s.dest=`${m}_dest_${u}`;else if(h)s.dest=`${h}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=Av(this.apiClient,n);return x=ue("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>bu(v))}else{const g=sh(this.apiClient,n);return x=ue("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json()),h.then(v=>Ms(v))}}async createEmbeddingsInternal(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=Rv(this.apiClient,n);return m=ue("{model}:asyncBatchEmbedContent",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>Ms(y))}}async get(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=Vv(this.apiClient,n);return x=ue("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>bu(v))}else{const g=zv(this.apiClient,n);return x=ue("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json()),h.then(v=>Ms(v))}}async cancel(n){var a,s,u,m;let h="",x={};if(this.apiClient.isVertexAI()){const y=Nv(this.apiClient,n);h=ue("batchPredictionJobs/{name}:cancel",y._url),x=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=Cv(this.apiClient,n);h=ue("batches/{name}:cancel",y._url),x=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal})}}async listInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=Qv(n);return x=ue("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=Zv(v),C=new nh;return Object.assign(C,T),C})}else{const g=Kv(n);return x=ue("batches",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=$v(v),C=new nh;return Object.assign(C,T),C})}}async delete(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=Iv(this.apiClient,n);return x=ue("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>kv(v))}else{const g=Dv(this.apiClient,n);return x=ue("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>Uv(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l1(l){const n={},a=c(l,["data"]);if(a!=null&&d(n,["data"],a),c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function oh(l){const n={},a=c(l,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(m=>b1(m))),d(n,["parts"],u)}const s=c(l,["role"]);return s!=null&&d(n,["role"],s),n}function i1(l,n){const a={},s=c(l,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const u=c(l,["expireTime"]);n!==void 0&&u!=null&&d(n,["expireTime"],u);const m=c(l,["displayName"]);n!==void 0&&m!=null&&d(n,["displayName"],m);const h=c(l,["contents"]);if(n!==void 0&&h!=null){let v=Gt(h);Array.isArray(v)&&(v=v.map(T=>oh(T))),d(n,["contents"],v)}const x=c(l,["systemInstruction"]);n!==void 0&&x!=null&&d(n,["systemInstruction"],oh(ct(x)));const y=c(l,["tools"]);if(n!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>E1(T))),d(n,["tools"],v)}const g=c(l,["toolConfig"]);if(n!==void 0&&g!=null&&d(n,["toolConfig"],g),c(l,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function a1(l,n){const a={},s=c(l,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const u=c(l,["expireTime"]);n!==void 0&&u!=null&&d(n,["expireTime"],u);const m=c(l,["displayName"]);n!==void 0&&m!=null&&d(n,["displayName"],m);const h=c(l,["contents"]);if(n!==void 0&&h!=null){let T=Gt(h);Array.isArray(T)&&(T=T.map(C=>C)),d(n,["contents"],T)}const x=c(l,["systemInstruction"]);n!==void 0&&x!=null&&d(n,["systemInstruction"],ct(x));const y=c(l,["tools"]);if(n!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(C=>w1(C))),d(n,["tools"],T)}const g=c(l,["toolConfig"]);n!==void 0&&g!=null&&d(n,["toolConfig"],g);const v=c(l,["kmsKeyName"]);return n!==void 0&&v!=null&&d(n,["encryption_spec","kmsKeyName"],v),a}function s1(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["model"],lg(l,s));const u=c(n,["config"]);return u!=null&&i1(u,a),a}function o1(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["model"],lg(l,s));const u=c(n,["config"]);return u!=null&&a1(u,a),a}function r1(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],gn(l,s)),a}function u1(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],gn(l,s)),a}function c1(l){const n={},a=c(l,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function d1(l){const n={},a=c(l,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function f1(l){const n={};if(c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(l,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function m1(l){const n={};if(c(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=c(l,["description"]);a!=null&&d(n,["description"],a);const s=c(l,["name"]);s!=null&&d(n,["name"],s);const u=c(l,["parameters"]);u!=null&&d(n,["parameters"],u);const m=c(l,["parametersJsonSchema"]);m!=null&&d(n,["parametersJsonSchema"],m);const h=c(l,["response"]);h!=null&&d(n,["response"],h);const x=c(l,["responseJsonSchema"]);return x!=null&&d(n,["responseJsonSchema"],x),n}function p1(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],gn(l,s)),a}function h1(l,n){const a={},s=c(n,["name"]);return s!=null&&d(a,["_url","name"],gn(l,s)),a}function g1(l){const n={};if(c(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=c(l,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function y1(l){const n={};if(c(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const a=c(l,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function x1(l,n){const a={},s=c(l,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=c(l,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),a}function v1(l,n){const a={},s=c(l,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=c(l,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),a}function S1(l){const n={},a=c(l,["config"]);return a!=null&&x1(a,n),n}function T1(l){const n={},a=c(l,["config"]);return a!=null&&v1(a,n),n}function C1(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=c(l,["cachedContents"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>h)),d(n,["cachedContents"],m)}return n}function N1(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=c(l,["cachedContents"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>h)),d(n,["cachedContents"],m)}return n}function b1(l){const n={},a=c(l,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=c(l,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const u=c(l,["executableCode"]);u!=null&&d(n,["executableCode"],u);const m=c(l,["fileData"]);m!=null&&d(n,["fileData"],f1(m));const h=c(l,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const x=c(l,["inlineData"]);x!=null&&d(n,["inlineData"],l1(x));const y=c(l,["text"]);y!=null&&d(n,["text"],y);const g=c(l,["thought"]);g!=null&&d(n,["thought"],g);const v=c(l,["thoughtSignature"]);v!=null&&d(n,["thoughtSignature"],v);const T=c(l,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function E1(l){const n={},a=c(l,["functionDeclarations"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>v)),d(n,["functionDeclarations"],g)}if(c(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(l,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const u=c(l,["googleMaps"]);u!=null&&d(n,["googleMaps"],g1(u));const m=c(l,["computerUse"]);m!=null&&d(n,["computerUse"],m);const h=c(l,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=c(l,["googleSearch"]);x!=null&&d(n,["googleSearch"],y1(x));const y=c(l,["urlContext"]);return y!=null&&d(n,["urlContext"],y),n}function w1(l){const n={},a=c(l,["functionDeclarations"]);if(a!=null){let T=a;Array.isArray(T)&&(T=T.map(C=>m1(C))),d(n,["functionDeclarations"],T)}const s=c(l,["retrieval"]);s!=null&&d(n,["retrieval"],s);const u=c(l,["googleSearchRetrieval"]);u!=null&&d(n,["googleSearchRetrieval"],u);const m=c(l,["googleMaps"]);m!=null&&d(n,["googleMaps"],m);const h=c(l,["computerUse"]);h!=null&&d(n,["computerUse"],h);const x=c(l,["codeExecution"]);x!=null&&d(n,["codeExecution"],x);const y=c(l,["enterpriseWebSearch"]);y!=null&&d(n,["enterpriseWebSearch"],y);const g=c(l,["googleSearch"]);g!=null&&d(n,["googleSearch"],g);const v=c(l,["urlContext"]);return v!=null&&d(n,["urlContext"],v),n}function _1(l,n){const a={},s=c(l,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const u=c(l,["expireTime"]);return n!==void 0&&u!=null&&d(n,["expireTime"],u),a}function A1(l,n){const a={},s=c(l,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const u=c(l,["expireTime"]);return n!==void 0&&u!=null&&d(n,["expireTime"],u),a}function M1(l,n){const a={},s=c(n,["name"]);s!=null&&d(a,["_url","name"],gn(l,s));const u=c(n,["config"]);return u!=null&&_1(u,a),a}function R1(l,n){const a={},s=c(n,["name"]);s!=null&&d(a,["_url","name"],gn(l,s));const u=c(n,["config"]);return u!=null&&A1(u,a),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D1 extends cl{constructor(n){super(),this.apiClient=n,this.list=async(a={})=>new ra(ul.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(a),a)}async create(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=o1(this.apiClient,n);return x=ue("cachedContents",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const g=s1(this.apiClient,n);return x=ue("cachedContents",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async get(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=h1(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const g=p1(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async delete(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=u1(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=d1(v),C=new eh;return Object.assign(C,T),C})}else{const g=r1(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=c1(v),C=new eh;return Object.assign(C,T),C})}}async update(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=R1(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const g=M1(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async listInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=T1(n);return x=ue("cachedContents",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=N1(v),C=new th;return Object.assign(C,T),C})}else{const g=S1(n);return x=ue("cachedContents",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=C1(v),C=new th;return Object.assign(C,T),C})}}}function rh(l){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&l[n],s=0;if(a)return a.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(l){return this instanceof He?(this.v=l,this):new He(l)}function $l(l,n,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(l,n||[]),u,m=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),x("next"),x("throw"),x("return",h),u[Symbol.asyncIterator]=function(){return this},u;function h(b){return function(E){return Promise.resolve(E).then(b,T)}}function x(b,E){s[b]&&(u[b]=function(D){return new Promise(function(L,Y){m.push([b,D,L,Y])>1||y(b,D)})},E&&(u[b]=E(u[b])))}function y(b,E){try{g(s[b](E))}catch(D){C(m[0][3],D)}}function g(b){b.value instanceof He?Promise.resolve(b.value.v).then(v,T):C(m[0][2],b)}function v(b){y("next",b)}function T(b){y("throw",b)}function C(b,E){b(E),m.shift(),m.length&&y(m[0][0],m[0][1])}}function na(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=l[Symbol.asyncIterator],a;return n?n.call(l):(l=typeof rh=="function"?rh(l):l[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(m){a[m]=l[m]&&function(h){return new Promise(function(x,y){h=l[m](h),u(x,y,h.done,h.value)})}}function u(m,h,x,y){Promise.resolve(y).then(function(g){m({value:g,done:x})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I1(l){var n;if(l.candidates==null||l.candidates.length===0)return!1;const a=(n=l.candidates[0])===null||n===void 0?void 0:n.content;return a===void 0?!1:gg(a)}function gg(l){if(l.parts===void 0||l.parts.length===0)return!1;for(const n of l.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function U1(l){if(l.length!==0){for(const n of l)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function uh(l){if(l===void 0||l.length===0)return[];const n=[],a=l.length;let s=0;for(;s<a;)if(l[s].role==="user")n.push(l[s]),s++;else{const u=[];let m=!0;for(;s<a&&l[s].role==="model";)u.push(l[s]),m&&!gg(l[s])&&(m=!1),s++;m?n.push(...u):n.pop()}return n}class k1{constructor(n,a){this.modelsModule=n,this.apiClient=a}create(n){return new L1(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class L1{constructor(n,a,s,u={},m=[]){this.apiClient=n,this.modelsModule=a,this.model=s,this.config=u,this.history=m,this.sendPromise=Promise.resolve(),U1(m)}async sendMessage(n){var a;await this.sendPromise;const s=ct(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(a=n.config)!==null&&a!==void 0?a:this.config});return this.sendPromise=(async()=>{var m,h,x;const y=await u,g=(h=(m=y.candidates)===null||m===void 0?void 0:m[0])===null||h===void 0?void 0:h.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let C=[];v!=null&&(C=(x=v.slice(T))!==null&&x!==void 0?x:[]);const b=g?[g]:[];this.recordHistory(s,b,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var a;await this.sendPromise;const s=ct(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(a=n.config)!==null&&a!==void 0?a:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const m=await u;return this.processStreamResponse(m,s)}getHistory(n=!1){const a=n?uh(this.history):this.history;return structuredClone(a)}processStreamResponse(n,a){var s,u;return $l(this,arguments,function*(){var h,x,y,g;const v=[];try{for(var T=!0,C=na(n),b;b=yield He(C.next()),h=b.done,!h;T=!0){g=b.value,T=!1;const E=g;if(I1(E)){const D=(u=(s=E.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content;D!==void 0&&v.push(D)}yield yield He(E)}}catch(E){x={error:E}}finally{try{!T&&!h&&(y=C.return)&&(yield He(y.call(C)))}finally{if(x)throw x.error}}this.recordHistory(a,v)})}recordHistory(n,a,s){let u=[];a.length>0&&a.every(m=>m.role!==void 0)?u=a:u.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...uh(s)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hs extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Hs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j1(l){const n={},a=c(l,["file"]);return a!=null&&d(n,["file"],a),n}function P1(l){const n={},a=c(l,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function H1(l){const n={},a=c(l,["name"]);return a!=null&&d(n,["_url","file"],ug(a)),n}function q1(l){const n={},a=c(l,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function G1(l){const n={},a=c(l,["name"]);return a!=null&&d(n,["_url","file"],ug(a)),n}function z1(l,n){const a={},s=c(l,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=c(l,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),a}function V1(l){const n={},a=c(l,["config"]);return a!=null&&z1(a,n),n}function B1(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=c(l,["files"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>h)),d(n,["files"],m)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O1 extends cl{constructor(n){super(),this.apiClient=n,this.list=async(a={})=>new ra(ul.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(a),a)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(a=>a)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=V1(n);return m=ue("files",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=B1(y),v=new tv;return Object.assign(v,g),v})}}async createInternal(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=j1(n);return m=ue("upload/v1beta/files",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=P1(y),v=new nv;return Object.assign(v,g),v})}}async get(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=G1(n);return m=ue("files/{file}",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=H1(n);return m=ue("files/{file}",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=q1(y),v=new lv;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rs(l){const n={},a=c(l,["data"]);if(a!=null&&d(n,["data"],a),c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Y1(l){const n={},a=c(l,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(m=>s2(m))),d(n,["parts"],u)}const s=c(l,["role"]);return s!=null&&d(n,["role"],s),n}function J1(l){const n={};if(c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(l,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function F1(l){const n={};if(c(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=c(l,["description"]);a!=null&&d(n,["description"],a);const s=c(l,["name"]);s!=null&&d(n,["name"],s);const u=c(l,["parameters"]);u!=null&&d(n,["parameters"],u);const m=c(l,["parametersJsonSchema"]);m!=null&&d(n,["parametersJsonSchema"],m);const h=c(l,["response"]);h!=null&&d(n,["response"],h);const x=c(l,["responseJsonSchema"]);return x!=null&&d(n,["responseJsonSchema"],x),n}function X1(l){const n={},a=c(l,["modelSelectionConfig"]);a!=null&&d(n,["modelConfig"],a);const s=c(l,["audioTimestamp"]);s!=null&&d(n,["audioTimestamp"],s);const u=c(l,["candidateCount"]);u!=null&&d(n,["candidateCount"],u);const m=c(l,["enableAffectiveDialog"]);m!=null&&d(n,["enableAffectiveDialog"],m);const h=c(l,["frequencyPenalty"]);h!=null&&d(n,["frequencyPenalty"],h);const x=c(l,["logprobs"]);x!=null&&d(n,["logprobs"],x);const y=c(l,["maxOutputTokens"]);y!=null&&d(n,["maxOutputTokens"],y);const g=c(l,["mediaResolution"]);g!=null&&d(n,["mediaResolution"],g);const v=c(l,["presencePenalty"]);v!=null&&d(n,["presencePenalty"],v);const T=c(l,["responseJsonSchema"]);T!=null&&d(n,["responseJsonSchema"],T);const C=c(l,["responseLogprobs"]);C!=null&&d(n,["responseLogprobs"],C);const b=c(l,["responseMimeType"]);b!=null&&d(n,["responseMimeType"],b);const E=c(l,["responseModalities"]);E!=null&&d(n,["responseModalities"],E);const D=c(l,["responseSchema"]);D!=null&&d(n,["responseSchema"],D);const L=c(l,["routingConfig"]);L!=null&&d(n,["routingConfig"],L);const Y=c(l,["seed"]);Y!=null&&d(n,["seed"],Y);const U=c(l,["speechConfig"]);U!=null&&d(n,["speechConfig"],yg(U));const P=c(l,["stopSequences"]);P!=null&&d(n,["stopSequences"],P);const V=c(l,["temperature"]);V!=null&&d(n,["temperature"],V);const z=c(l,["thinkingConfig"]);z!=null&&d(n,["thinkingConfig"],z);const W=c(l,["topK"]);W!=null&&d(n,["topK"],W);const Z=c(l,["topP"]);if(Z!=null&&d(n,["topP"],Z),c(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function K1(l){const n={};if(c(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=c(l,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function Q1(l){const n={};if(c(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const a=c(l,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function $1(l,n){const a={},s=c(l,["generationConfig"]);n!==void 0&&s!=null&&d(n,["setup","generationConfig"],s);const u=c(l,["responseModalities"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","responseModalities"],u);const m=c(l,["temperature"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","temperature"],m);const h=c(l,["topP"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topP"],h);const x=c(l,["topK"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","topK"],x);const y=c(l,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const g=c(l,["mediaResolution"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","mediaResolution"],g);const v=c(l,["seed"]);n!==void 0&&v!=null&&d(n,["setup","generationConfig","seed"],v);const T=c(l,["speechConfig"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","speechConfig"],Gu(T));const C=c(l,["thinkingConfig"]);n!==void 0&&C!=null&&d(n,["setup","generationConfig","thinkingConfig"],C);const b=c(l,["enableAffectiveDialog"]);n!==void 0&&b!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],b);const E=c(l,["systemInstruction"]);n!==void 0&&E!=null&&d(n,["setup","systemInstruction"],Y1(ct(E)));const D=c(l,["tools"]);if(n!==void 0&&D!=null){let W=ii(D);Array.isArray(W)&&(W=W.map(Z=>r2(li(Z)))),d(n,["setup","tools"],W)}const L=c(l,["sessionResumption"]);n!==void 0&&L!=null&&d(n,["setup","sessionResumption"],o2(L));const Y=c(l,["inputAudioTranscription"]);n!==void 0&&Y!=null&&d(n,["setup","inputAudioTranscription"],Y);const U=c(l,["outputAudioTranscription"]);n!==void 0&&U!=null&&d(n,["setup","outputAudioTranscription"],U);const P=c(l,["realtimeInputConfig"]);n!==void 0&&P!=null&&d(n,["setup","realtimeInputConfig"],P);const V=c(l,["contextWindowCompression"]);n!==void 0&&V!=null&&d(n,["setup","contextWindowCompression"],V);const z=c(l,["proactivity"]);return n!==void 0&&z!=null&&d(n,["setup","proactivity"],z),a}function Z1(l,n){const a={},s=c(l,["generationConfig"]);n!==void 0&&s!=null&&d(n,["setup","generationConfig"],X1(s));const u=c(l,["responseModalities"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","responseModalities"],u);const m=c(l,["temperature"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","temperature"],m);const h=c(l,["topP"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topP"],h);const x=c(l,["topK"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","topK"],x);const y=c(l,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const g=c(l,["mediaResolution"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","mediaResolution"],g);const v=c(l,["seed"]);n!==void 0&&v!=null&&d(n,["setup","generationConfig","seed"],v);const T=c(l,["speechConfig"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","speechConfig"],yg(Gu(T)));const C=c(l,["thinkingConfig"]);n!==void 0&&C!=null&&d(n,["setup","generationConfig","thinkingConfig"],C);const b=c(l,["enableAffectiveDialog"]);n!==void 0&&b!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],b);const E=c(l,["systemInstruction"]);n!==void 0&&E!=null&&d(n,["setup","systemInstruction"],ct(E));const D=c(l,["tools"]);if(n!==void 0&&D!=null){let W=ii(D);Array.isArray(W)&&(W=W.map(Z=>u2(li(Z)))),d(n,["setup","tools"],W)}const L=c(l,["sessionResumption"]);n!==void 0&&L!=null&&d(n,["setup","sessionResumption"],L);const Y=c(l,["inputAudioTranscription"]);n!==void 0&&Y!=null&&d(n,["setup","inputAudioTranscription"],Y);const U=c(l,["outputAudioTranscription"]);n!==void 0&&U!=null&&d(n,["setup","outputAudioTranscription"],U);const P=c(l,["realtimeInputConfig"]);n!==void 0&&P!=null&&d(n,["setup","realtimeInputConfig"],P);const V=c(l,["contextWindowCompression"]);n!==void 0&&V!=null&&d(n,["setup","contextWindowCompression"],V);const z=c(l,["proactivity"]);return n!==void 0&&z!=null&&d(n,["setup","proactivity"],z),a}function W1(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["setup","model"],_e(l,s));const u=c(n,["config"]);return u!=null&&d(a,["config"],$1(u,a)),a}function e2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["setup","model"],_e(l,s));const u=c(n,["config"]);return u!=null&&d(a,["config"],Z1(u,a)),a}function t2(l){const n={},a=c(l,["musicGenerationConfig"]);return a!=null&&d(n,["musicGenerationConfig"],a),n}function n2(l){const n={},a=c(l,["weightedPrompts"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),d(n,["weightedPrompts"],s)}return n}function l2(l){const n={},a=c(l,["media"]);if(a!=null){let g=ig(a);Array.isArray(g)&&(g=g.map(v=>Rs(v))),d(n,["mediaChunks"],g)}const s=c(l,["audio"]);s!=null&&d(n,["audio"],Rs(sg(s)));const u=c(l,["audioStreamEnd"]);u!=null&&d(n,["audioStreamEnd"],u);const m=c(l,["video"]);m!=null&&d(n,["video"],Rs(ag(m)));const h=c(l,["text"]);h!=null&&d(n,["text"],h);const x=c(l,["activityStart"]);x!=null&&d(n,["activityStart"],x);const y=c(l,["activityEnd"]);return y!=null&&d(n,["activityEnd"],y),n}function i2(l){const n={},a=c(l,["media"]);if(a!=null){let g=ig(a);Array.isArray(g)&&(g=g.map(v=>v)),d(n,["mediaChunks"],g)}const s=c(l,["audio"]);s!=null&&d(n,["audio"],sg(s));const u=c(l,["audioStreamEnd"]);u!=null&&d(n,["audioStreamEnd"],u);const m=c(l,["video"]);m!=null&&d(n,["video"],ag(m));const h=c(l,["text"]);h!=null&&d(n,["text"],h);const x=c(l,["activityStart"]);x!=null&&d(n,["activityStart"],x);const y=c(l,["activityEnd"]);return y!=null&&d(n,["activityEnd"],y),n}function a2(l){const n={},a=c(l,["setupComplete"]);a!=null&&d(n,["setupComplete"],a);const s=c(l,["serverContent"]);s!=null&&d(n,["serverContent"],s);const u=c(l,["toolCall"]);u!=null&&d(n,["toolCall"],u);const m=c(l,["toolCallCancellation"]);m!=null&&d(n,["toolCallCancellation"],m);const h=c(l,["usageMetadata"]);h!=null&&d(n,["usageMetadata"],c2(h));const x=c(l,["goAway"]);x!=null&&d(n,["goAway"],x);const y=c(l,["sessionResumptionUpdate"]);return y!=null&&d(n,["sessionResumptionUpdate"],y),n}function s2(l){const n={},a=c(l,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=c(l,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const u=c(l,["executableCode"]);u!=null&&d(n,["executableCode"],u);const m=c(l,["fileData"]);m!=null&&d(n,["fileData"],J1(m));const h=c(l,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const x=c(l,["inlineData"]);x!=null&&d(n,["inlineData"],Rs(x));const y=c(l,["text"]);y!=null&&d(n,["text"],y);const g=c(l,["thought"]);g!=null&&d(n,["thought"],g);const v=c(l,["thoughtSignature"]);v!=null&&d(n,["thoughtSignature"],v);const T=c(l,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function o2(l){const n={},a=c(l,["handle"]);if(a!=null&&d(n,["handle"],a),c(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function yg(l){const n={},a=c(l,["languageCode"]);a!=null&&d(n,["languageCode"],a);const s=c(l,["voiceConfig"]);if(s!=null&&d(n,["voiceConfig"],s),c(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function r2(l){const n={},a=c(l,["functionDeclarations"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>v)),d(n,["functionDeclarations"],g)}if(c(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(l,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const u=c(l,["googleMaps"]);u!=null&&d(n,["googleMaps"],K1(u));const m=c(l,["computerUse"]);m!=null&&d(n,["computerUse"],m);const h=c(l,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=c(l,["googleSearch"]);x!=null&&d(n,["googleSearch"],Q1(x));const y=c(l,["urlContext"]);return y!=null&&d(n,["urlContext"],y),n}function u2(l){const n={},a=c(l,["functionDeclarations"]);if(a!=null){let T=a;Array.isArray(T)&&(T=T.map(C=>F1(C))),d(n,["functionDeclarations"],T)}const s=c(l,["retrieval"]);s!=null&&d(n,["retrieval"],s);const u=c(l,["googleSearchRetrieval"]);u!=null&&d(n,["googleSearchRetrieval"],u);const m=c(l,["googleMaps"]);m!=null&&d(n,["googleMaps"],m);const h=c(l,["computerUse"]);h!=null&&d(n,["computerUse"],h);const x=c(l,["codeExecution"]);x!=null&&d(n,["codeExecution"],x);const y=c(l,["enterpriseWebSearch"]);y!=null&&d(n,["enterpriseWebSearch"],y);const g=c(l,["googleSearch"]);g!=null&&d(n,["googleSearch"],g);const v=c(l,["urlContext"]);return v!=null&&d(n,["urlContext"],v),n}function c2(l){const n={},a=c(l,["promptTokenCount"]);a!=null&&d(n,["promptTokenCount"],a);const s=c(l,["cachedContentTokenCount"]);s!=null&&d(n,["cachedContentTokenCount"],s);const u=c(l,["candidatesTokenCount"]);u!=null&&d(n,["responseTokenCount"],u);const m=c(l,["toolUsePromptTokenCount"]);m!=null&&d(n,["toolUsePromptTokenCount"],m);const h=c(l,["thoughtsTokenCount"]);h!=null&&d(n,["thoughtsTokenCount"],h);const x=c(l,["totalTokenCount"]);x!=null&&d(n,["totalTokenCount"],x);const y=c(l,["promptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(E=>E)),d(n,["promptTokensDetails"],b)}const g=c(l,["cacheTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(E=>E)),d(n,["cacheTokensDetails"],b)}const v=c(l,["candidatesTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(E=>E)),d(n,["responseTokensDetails"],b)}const T=c(l,["toolUsePromptTokensDetails"]);if(T!=null){let b=T;Array.isArray(b)&&(b=b.map(E=>E)),d(n,["toolUsePromptTokensDetails"],b)}const C=c(l,["trafficType"]);return C!=null&&d(n,["trafficType"],C),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d2(l){const n={},a=c(l,["data"]);if(a!=null&&d(n,["data"],a),c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function f2(l){const n={},a=c(l,["content"]);a!=null&&d(n,["content"],a);const s=c(l,["citationMetadata"]);s!=null&&d(n,["citationMetadata"],m2(s));const u=c(l,["tokenCount"]);u!=null&&d(n,["tokenCount"],u);const m=c(l,["finishReason"]);m!=null&&d(n,["finishReason"],m);const h=c(l,["avgLogprobs"]);h!=null&&d(n,["avgLogprobs"],h);const x=c(l,["groundingMetadata"]);x!=null&&d(n,["groundingMetadata"],x);const y=c(l,["index"]);y!=null&&d(n,["index"],y);const g=c(l,["logprobsResult"]);g!=null&&d(n,["logprobsResult"],g);const v=c(l,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(b=>b)),d(n,["safetyRatings"],C)}const T=c(l,["urlContextMetadata"]);return T!=null&&d(n,["urlContextMetadata"],T),n}function m2(l){const n={},a=c(l,["citationSources"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>u)),d(n,["citations"],s)}return n}function p2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["contents"]);if(u!=null){let m=Gt(u);Array.isArray(m)&&(m=m.map(h=>h)),d(a,["contents"],m)}return a}function h2(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(m=>m)),d(n,["tokensInfo"],u)}return n}function g2(l){const n={},a=c(l,["values"]);a!=null&&d(n,["values"],a);const s=c(l,["statistics"]);return s!=null&&d(n,["statistics"],y2(s)),n}function y2(l){const n={},a=c(l,["truncated"]);a!=null&&d(n,["truncated"],a);const s=c(l,["token_count"]);return s!=null&&d(n,["tokenCount"],s),n}function qs(l){const n={},a=c(l,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(m=>CS(m))),d(n,["parts"],u)}const s=c(l,["role"]);return s!=null&&d(n,["role"],s),n}function x2(l){const n={},a=c(l,["controlType"]);a!=null&&d(n,["controlType"],a);const s=c(l,["enableControlImageComputation"]);return s!=null&&d(n,["computeControl"],s),n}function v2(l){const n={};if(c(l,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(l,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(l,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function S2(l,n){const a={},s=c(l,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],ct(s));const u=c(l,["tools"]);if(n!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(x=>Cg(x))),d(n,["tools"],h)}const m=c(l,["generationConfig"]);return n!==void 0&&m!=null&&d(n,["generationConfig"],uS(m)),a}function T2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["contents"]);if(u!=null){let h=Gt(u);Array.isArray(h)&&(h=h.map(x=>qs(x))),d(a,["contents"],h)}const m=c(n,["config"]);return m!=null&&v2(m),a}function C2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["contents"]);if(u!=null){let h=Gt(u);Array.isArray(h)&&(h=h.map(x=>x)),d(a,["contents"],h)}const m=c(n,["config"]);return m!=null&&S2(m,a),a}function N2(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["totalTokens"]);s!=null&&d(n,["totalTokens"],s);const u=c(l,["cachedContentTokenCount"]);return u!=null&&d(n,["cachedContentTokenCount"],u),n}function b2(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["totalTokens"]);return s!=null&&d(n,["totalTokens"],s),n}function E2(l,n){const a={},s=c(n,["model"]);return s!=null&&d(a,["_url","name"],_e(l,s)),a}function w2(l,n){const a={},s=c(n,["model"]);return s!=null&&d(a,["_url","name"],_e(l,s)),a}function _2(l){const n={},a=c(l,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function A2(l){const n={},a=c(l,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function M2(l,n){const a={},s=c(l,["outputGcsUri"]);n!==void 0&&s!=null&&d(n,["parameters","storageUri"],s);const u=c(l,["negativePrompt"]);n!==void 0&&u!=null&&d(n,["parameters","negativePrompt"],u);const m=c(l,["numberOfImages"]);n!==void 0&&m!=null&&d(n,["parameters","sampleCount"],m);const h=c(l,["aspectRatio"]);n!==void 0&&h!=null&&d(n,["parameters","aspectRatio"],h);const x=c(l,["guidanceScale"]);n!==void 0&&x!=null&&d(n,["parameters","guidanceScale"],x);const y=c(l,["seed"]);n!==void 0&&y!=null&&d(n,["parameters","seed"],y);const g=c(l,["safetyFilterLevel"]);n!==void 0&&g!=null&&d(n,["parameters","safetySetting"],g);const v=c(l,["personGeneration"]);n!==void 0&&v!=null&&d(n,["parameters","personGeneration"],v);const T=c(l,["includeSafetyAttributes"]);n!==void 0&&T!=null&&d(n,["parameters","includeSafetyAttributes"],T);const C=c(l,["includeRaiReason"]);n!==void 0&&C!=null&&d(n,["parameters","includeRaiReason"],C);const b=c(l,["language"]);n!==void 0&&b!=null&&d(n,["parameters","language"],b);const E=c(l,["outputMimeType"]);n!==void 0&&E!=null&&d(n,["parameters","outputOptions","mimeType"],E);const D=c(l,["outputCompressionQuality"]);n!==void 0&&D!=null&&d(n,["parameters","outputOptions","compressionQuality"],D);const L=c(l,["addWatermark"]);n!==void 0&&L!=null&&d(n,["parameters","addWatermark"],L);const Y=c(l,["labels"]);n!==void 0&&Y!=null&&d(n,["labels"],Y);const U=c(l,["editMode"]);n!==void 0&&U!=null&&d(n,["parameters","editMode"],U);const P=c(l,["baseSteps"]);return n!==void 0&&P!=null&&d(n,["parameters","editConfig","baseSteps"],P),a}function R2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const m=c(n,["referenceImages"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(y=>AS(y))),d(a,["instances[0]","referenceImages"],x)}const h=c(n,["config"]);return h!=null&&M2(h,a),a}function D2(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(m=>Gs(m))),d(n,["generatedImages"],u)}return n}function I2(l,n){const a={},s=c(l,["taskType"]);n!==void 0&&s!=null&&d(n,["requests[]","taskType"],s);const u=c(l,["title"]);n!==void 0&&u!=null&&d(n,["requests[]","title"],u);const m=c(l,["outputDimensionality"]);if(n!==void 0&&m!=null&&d(n,["requests[]","outputDimensionality"],m),c(l,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(l,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function U2(l,n){const a={},s=c(l,["taskType"]);n!==void 0&&s!=null&&d(n,["instances[]","task_type"],s);const u=c(l,["title"]);n!==void 0&&u!=null&&d(n,["instances[]","title"],u);const m=c(l,["outputDimensionality"]);n!==void 0&&m!=null&&d(n,["parameters","outputDimensionality"],m);const h=c(l,["mimeType"]);n!==void 0&&h!=null&&d(n,["instances[]","mimeType"],h);const x=c(l,["autoTruncate"]);return n!==void 0&&x!=null&&d(n,["parameters","autoTruncate"],x),a}function k2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["contents"]);if(u!=null){let x=Pu(l,u);Array.isArray(x)&&(x=x.map(y=>y)),d(a,["requests[]","content"],x)}const m=c(n,["config"]);m!=null&&I2(m,a);const h=c(n,["model"]);return h!==void 0&&d(a,["requests[]","model"],_e(l,h)),a}function L2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["contents"]);if(u!=null){let h=Pu(l,u);Array.isArray(h)&&(h=h.map(x=>x)),d(a,["instances[]","content"],h)}const m=c(n,["config"]);return m!=null&&U2(m,a),a}function j2(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["embeddings"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(h=>h)),d(n,["embeddings"],m)}const u=c(l,["metadata"]);return u!=null&&d(n,["metadata"],u),n}function P2(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["predictions[]","embeddings"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(h=>g2(h))),d(n,["embeddings"],m)}const u=c(l,["metadata"]);return u!=null&&d(n,["metadata"],u),n}function H2(l){const n={},a=c(l,["endpoint"]);a!=null&&d(n,["name"],a);const s=c(l,["deployedModelId"]);return s!=null&&d(n,["deployedModelId"],s),n}function q2(l){const n={};if(c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(l,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function G2(l){const n={};if(c(l,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=c(l,["description"]);a!=null&&d(n,["description"],a);const s=c(l,["name"]);s!=null&&d(n,["name"],s);const u=c(l,["parameters"]);u!=null&&d(n,["parameters"],u);const m=c(l,["parametersJsonSchema"]);m!=null&&d(n,["parametersJsonSchema"],m);const h=c(l,["response"]);h!=null&&d(n,["response"],h);const x=c(l,["responseJsonSchema"]);return x!=null&&d(n,["responseJsonSchema"],x),n}function z2(l,n,a){const s={},u=c(n,["systemInstruction"]);a!==void 0&&u!=null&&d(a,["systemInstruction"],qs(ct(u)));const m=c(n,["temperature"]);m!=null&&d(s,["temperature"],m);const h=c(n,["topP"]);h!=null&&d(s,["topP"],h);const x=c(n,["topK"]);x!=null&&d(s,["topK"],x);const y=c(n,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const g=c(n,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const v=c(n,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=c(n,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const C=c(n,["logprobs"]);C!=null&&d(s,["logprobs"],C);const b=c(n,["presencePenalty"]);b!=null&&d(s,["presencePenalty"],b);const E=c(n,["frequencyPenalty"]);E!=null&&d(s,["frequencyPenalty"],E);const D=c(n,["seed"]);D!=null&&d(s,["seed"],D);const L=c(n,["responseMimeType"]);L!=null&&d(s,["responseMimeType"],L);const Y=c(n,["responseSchema"]);Y!=null&&d(s,["responseSchema"],Hu(Y));const U=c(n,["responseJsonSchema"]);if(U!=null&&d(s,["responseJsonSchema"],U),c(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=c(n,["safetySettings"]);if(a!==void 0&&P!=null){let ae=P;Array.isArray(ae)&&(ae=ae.map(re=>MS(re))),d(a,["safetySettings"],ae)}const V=c(n,["tools"]);if(a!==void 0&&V!=null){let ae=ii(V);Array.isArray(ae)&&(ae=ae.map(re=>LS(li(re)))),d(a,["tools"],ae)}const z=c(n,["toolConfig"]);if(a!==void 0&&z!=null&&d(a,["toolConfig"],z),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=c(n,["cachedContent"]);a!==void 0&&W!=null&&d(a,["cachedContent"],gn(l,W));const Z=c(n,["responseModalities"]);Z!=null&&d(s,["responseModalities"],Z);const se=c(n,["mediaResolution"]);se!=null&&d(s,["mediaResolution"],se);const ie=c(n,["speechConfig"]);if(ie!=null&&d(s,["speechConfig"],qu(ie)),c(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=c(n,["thinkingConfig"]);ce!=null&&d(s,["thinkingConfig"],ce);const X=c(n,["imageConfig"]);return X!=null&&d(s,["imageConfig"],X),s}function V2(l,n,a){const s={},u=c(n,["systemInstruction"]);a!==void 0&&u!=null&&d(a,["systemInstruction"],ct(u));const m=c(n,["temperature"]);m!=null&&d(s,["temperature"],m);const h=c(n,["topP"]);h!=null&&d(s,["topP"],h);const x=c(n,["topK"]);x!=null&&d(s,["topK"],x);const y=c(n,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const g=c(n,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const v=c(n,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=c(n,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const C=c(n,["logprobs"]);C!=null&&d(s,["logprobs"],C);const b=c(n,["presencePenalty"]);b!=null&&d(s,["presencePenalty"],b);const E=c(n,["frequencyPenalty"]);E!=null&&d(s,["frequencyPenalty"],E);const D=c(n,["seed"]);D!=null&&d(s,["seed"],D);const L=c(n,["responseMimeType"]);L!=null&&d(s,["responseMimeType"],L);const Y=c(n,["responseSchema"]);Y!=null&&d(s,["responseSchema"],Hu(Y));const U=c(n,["responseJsonSchema"]);U!=null&&d(s,["responseJsonSchema"],U);const P=c(n,["routingConfig"]);P!=null&&d(s,["routingConfig"],P);const V=c(n,["modelSelectionConfig"]);V!=null&&d(s,["modelConfig"],V);const z=c(n,["safetySettings"]);if(a!==void 0&&z!=null){let I=z;Array.isArray(I)&&(I=I.map($=>$)),d(a,["safetySettings"],I)}const W=c(n,["tools"]);if(a!==void 0&&W!=null){let I=ii(W);Array.isArray(I)&&(I=I.map($=>Cg(li($)))),d(a,["tools"],I)}const Z=c(n,["toolConfig"]);a!==void 0&&Z!=null&&d(a,["toolConfig"],Z);const se=c(n,["labels"]);a!==void 0&&se!=null&&d(a,["labels"],se);const ie=c(n,["cachedContent"]);a!==void 0&&ie!=null&&d(a,["cachedContent"],gn(l,ie));const ce=c(n,["responseModalities"]);ce!=null&&d(s,["responseModalities"],ce);const X=c(n,["mediaResolution"]);X!=null&&d(s,["mediaResolution"],X);const ae=c(n,["speechConfig"]);ae!=null&&d(s,["speechConfig"],Tg(qu(ae)));const re=c(n,["audioTimestamp"]);re!=null&&d(s,["audioTimestamp"],re);const ee=c(n,["thinkingConfig"]);ee!=null&&d(s,["thinkingConfig"],ee);const te=c(n,["imageConfig"]);return te!=null&&d(s,["imageConfig"],te),s}function ch(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["contents"]);if(u!=null){let h=Gt(u);Array.isArray(h)&&(h=h.map(x=>qs(x))),d(a,["contents"],h)}const m=c(n,["config"]);return m!=null&&d(a,["generationConfig"],z2(l,m,a)),a}function dh(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["contents"]);if(u!=null){let h=Gt(u);Array.isArray(h)&&(h=h.map(x=>x)),d(a,["contents"],h)}const m=c(n,["config"]);return m!=null&&d(a,["generationConfig"],V2(l,m,a)),a}function fh(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>f2(g))),d(n,["candidates"],y)}const u=c(l,["modelVersion"]);u!=null&&d(n,["modelVersion"],u);const m=c(l,["promptFeedback"]);m!=null&&d(n,["promptFeedback"],m);const h=c(l,["responseId"]);h!=null&&d(n,["responseId"],h);const x=c(l,["usageMetadata"]);return x!=null&&d(n,["usageMetadata"],x),n}function mh(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),d(n,["candidates"],g)}const u=c(l,["createTime"]);u!=null&&d(n,["createTime"],u);const m=c(l,["modelVersion"]);m!=null&&d(n,["modelVersion"],m);const h=c(l,["promptFeedback"]);h!=null&&d(n,["promptFeedback"],h);const x=c(l,["responseId"]);x!=null&&d(n,["responseId"],x);const y=c(l,["usageMetadata"]);return y!=null&&d(n,["usageMetadata"],y),n}function B2(l,n){const a={};if(c(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(l,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(l,["numberOfImages"]);n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s);const u=c(l,["aspectRatio"]);n!==void 0&&u!=null&&d(n,["parameters","aspectRatio"],u);const m=c(l,["guidanceScale"]);if(n!==void 0&&m!=null&&d(n,["parameters","guidanceScale"],m),c(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(l,["safetyFilterLevel"]);n!==void 0&&h!=null&&d(n,["parameters","safetySetting"],h);const x=c(l,["personGeneration"]);n!==void 0&&x!=null&&d(n,["parameters","personGeneration"],x);const y=c(l,["includeSafetyAttributes"]);n!==void 0&&y!=null&&d(n,["parameters","includeSafetyAttributes"],y);const g=c(l,["includeRaiReason"]);n!==void 0&&g!=null&&d(n,["parameters","includeRaiReason"],g);const v=c(l,["language"]);n!==void 0&&v!=null&&d(n,["parameters","language"],v);const T=c(l,["outputMimeType"]);n!==void 0&&T!=null&&d(n,["parameters","outputOptions","mimeType"],T);const C=c(l,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&d(n,["parameters","outputOptions","compressionQuality"],C),c(l,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(l,["imageSize"]);if(n!==void 0&&b!=null&&d(n,["parameters","sampleImageSize"],b),c(l,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function O2(l,n){const a={},s=c(l,["outputGcsUri"]);n!==void 0&&s!=null&&d(n,["parameters","storageUri"],s);const u=c(l,["negativePrompt"]);n!==void 0&&u!=null&&d(n,["parameters","negativePrompt"],u);const m=c(l,["numberOfImages"]);n!==void 0&&m!=null&&d(n,["parameters","sampleCount"],m);const h=c(l,["aspectRatio"]);n!==void 0&&h!=null&&d(n,["parameters","aspectRatio"],h);const x=c(l,["guidanceScale"]);n!==void 0&&x!=null&&d(n,["parameters","guidanceScale"],x);const y=c(l,["seed"]);n!==void 0&&y!=null&&d(n,["parameters","seed"],y);const g=c(l,["safetyFilterLevel"]);n!==void 0&&g!=null&&d(n,["parameters","safetySetting"],g);const v=c(l,["personGeneration"]);n!==void 0&&v!=null&&d(n,["parameters","personGeneration"],v);const T=c(l,["includeSafetyAttributes"]);n!==void 0&&T!=null&&d(n,["parameters","includeSafetyAttributes"],T);const C=c(l,["includeRaiReason"]);n!==void 0&&C!=null&&d(n,["parameters","includeRaiReason"],C);const b=c(l,["language"]);n!==void 0&&b!=null&&d(n,["parameters","language"],b);const E=c(l,["outputMimeType"]);n!==void 0&&E!=null&&d(n,["parameters","outputOptions","mimeType"],E);const D=c(l,["outputCompressionQuality"]);n!==void 0&&D!=null&&d(n,["parameters","outputOptions","compressionQuality"],D);const L=c(l,["addWatermark"]);n!==void 0&&L!=null&&d(n,["parameters","addWatermark"],L);const Y=c(l,["labels"]);n!==void 0&&Y!=null&&d(n,["labels"],Y);const U=c(l,["imageSize"]);n!==void 0&&U!=null&&d(n,["parameters","sampleImageSize"],U);const P=c(l,["enhancePrompt"]);return n!==void 0&&P!=null&&d(n,["parameters","enhancePrompt"],P),a}function Y2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const m=c(n,["config"]);return m!=null&&B2(m,a),a}function J2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const m=c(n,["config"]);return m!=null&&O2(m,a),a}function F2(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["predictions"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(h=>aS(h))),d(n,["generatedImages"],m)}const u=c(l,["positivePromptSafetyAttributes"]);return u!=null&&d(n,["positivePromptSafetyAttributes"],vg(u)),n}function X2(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["predictions"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(h=>Gs(h))),d(n,["generatedImages"],m)}const u=c(l,["positivePromptSafetyAttributes"]);return u!=null&&d(n,["positivePromptSafetyAttributes"],Sg(u)),n}function K2(l,n){const a={},s=c(l,["numberOfVideos"]);if(n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s),c(l,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(l,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(l,["durationSeconds"]);if(n!==void 0&&u!=null&&d(n,["parameters","durationSeconds"],u),c(l,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=c(l,["aspectRatio"]);n!==void 0&&m!=null&&d(n,["parameters","aspectRatio"],m);const h=c(l,["resolution"]);n!==void 0&&h!=null&&d(n,["parameters","resolution"],h);const x=c(l,["personGeneration"]);if(n!==void 0&&x!=null&&d(n,["parameters","personGeneration"],x),c(l,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(l,["negativePrompt"]);n!==void 0&&y!=null&&d(n,["parameters","negativePrompt"],y);const g=c(l,["enhancePrompt"]);if(n!==void 0&&g!=null&&d(n,["parameters","enhancePrompt"],g),c(l,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(l,["lastFrame"]);n!==void 0&&v!=null&&d(n,["instances[0]","lastFrame"],zs(v));const T=c(l,["referenceImages"]);if(n!==void 0&&T!=null){let C=T;Array.isArray(C)&&(C=C.map(b=>XS(b))),d(n,["instances[0]","referenceImages"],C)}if(c(l,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(l,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function Q2(l,n){const a={},s=c(l,["numberOfVideos"]);n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s);const u=c(l,["outputGcsUri"]);n!==void 0&&u!=null&&d(n,["parameters","storageUri"],u);const m=c(l,["fps"]);n!==void 0&&m!=null&&d(n,["parameters","fps"],m);const h=c(l,["durationSeconds"]);n!==void 0&&h!=null&&d(n,["parameters","durationSeconds"],h);const x=c(l,["seed"]);n!==void 0&&x!=null&&d(n,["parameters","seed"],x);const y=c(l,["aspectRatio"]);n!==void 0&&y!=null&&d(n,["parameters","aspectRatio"],y);const g=c(l,["resolution"]);n!==void 0&&g!=null&&d(n,["parameters","resolution"],g);const v=c(l,["personGeneration"]);n!==void 0&&v!=null&&d(n,["parameters","personGeneration"],v);const T=c(l,["pubsubTopic"]);n!==void 0&&T!=null&&d(n,["parameters","pubsubTopic"],T);const C=c(l,["negativePrompt"]);n!==void 0&&C!=null&&d(n,["parameters","negativePrompt"],C);const b=c(l,["enhancePrompt"]);n!==void 0&&b!=null&&d(n,["parameters","enhancePrompt"],b);const E=c(l,["generateAudio"]);n!==void 0&&E!=null&&d(n,["parameters","generateAudio"],E);const D=c(l,["lastFrame"]);n!==void 0&&D!=null&&d(n,["instances[0]","lastFrame"],Yt(D));const L=c(l,["referenceImages"]);if(n!==void 0&&L!=null){let P=L;Array.isArray(P)&&(P=P.map(V=>KS(V))),d(n,["instances[0]","referenceImages"],P)}const Y=c(l,["mask"]);n!==void 0&&Y!=null&&d(n,["instances[0]","mask"],FS(Y));const U=c(l,["compressionQuality"]);return n!==void 0&&U!=null&&d(n,["parameters","compressionQuality"],U),a}function $2(l){const n={},a=c(l,["name"]);a!=null&&d(n,["name"],a);const s=c(l,["metadata"]);s!=null&&d(n,["metadata"],s);const u=c(l,["done"]);u!=null&&d(n,["done"],u);const m=c(l,["error"]);m!=null&&d(n,["error"],m);const h=c(l,["response","generateVideoResponse"]);return h!=null&&d(n,["response"],tS(h)),n}function Z2(l){const n={},a=c(l,["name"]);a!=null&&d(n,["name"],a);const s=c(l,["metadata"]);s!=null&&d(n,["metadata"],s);const u=c(l,["done"]);u!=null&&d(n,["done"],u);const m=c(l,["error"]);m!=null&&d(n,["error"],m);const h=c(l,["response"]);return h!=null&&d(n,["response"],nS(h)),n}function W2(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const m=c(n,["image"]);m!=null&&d(a,["instances[0]","image"],zs(m));const h=c(n,["video"]);h!=null&&d(a,["instances[0]","video"],Ng(h));const x=c(n,["source"]);x!=null&&lS(x,a);const y=c(n,["config"]);return y!=null&&K2(y,a),a}function eS(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["prompt"]);u!=null&&d(a,["instances[0]","prompt"],u);const m=c(n,["image"]);m!=null&&d(a,["instances[0]","image"],Yt(m));const h=c(n,["video"]);h!=null&&d(a,["instances[0]","video"],bg(h));const x=c(n,["source"]);x!=null&&iS(x,a);const y=c(n,["config"]);return y!=null&&Q2(y,a),a}function tS(l){const n={},a=c(l,["generatedSamples"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(h=>oS(h))),d(n,["generatedVideos"],m)}const s=c(l,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const u=c(l,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function nS(l){const n={},a=c(l,["videos"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(h=>rS(h))),d(n,["generatedVideos"],m)}const s=c(l,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const u=c(l,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function lS(l,n){const a={},s=c(l,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const u=c(l,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],zs(u));const m=c(l,["video"]);return n!==void 0&&m!=null&&d(n,["instances[0]","video"],Ng(m)),a}function iS(l,n){const a={},s=c(l,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const u=c(l,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],Yt(u));const m=c(l,["video"]);return n!==void 0&&m!=null&&d(n,["instances[0]","video"],bg(m)),a}function aS(l){const n={},a=c(l,["_self"]);a!=null&&d(n,["image"],pS(a));const s=c(l,["raiFilteredReason"]);s!=null&&d(n,["raiFilteredReason"],s);const u=c(l,["_self"]);return u!=null&&d(n,["safetyAttributes"],vg(u)),n}function Gs(l){const n={},a=c(l,["_self"]);a!=null&&d(n,["image"],xg(a));const s=c(l,["raiFilteredReason"]);s!=null&&d(n,["raiFilteredReason"],s);const u=c(l,["_self"]);u!=null&&d(n,["safetyAttributes"],Sg(u));const m=c(l,["prompt"]);return m!=null&&d(n,["enhancedPrompt"],m),n}function sS(l){const n={},a=c(l,["_self"]);a!=null&&d(n,["mask"],xg(a));const s=c(l,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(m=>m)),d(n,["labels"],u)}return n}function oS(l){const n={},a=c(l,["video"]);return a!=null&&d(n,["video"],YS(a)),n}function rS(l){const n={},a=c(l,["_self"]);return a!=null&&d(n,["video"],JS(a)),n}function uS(l){const n={},a=c(l,["modelSelectionConfig"]);a!=null&&d(n,["modelConfig"],a);const s=c(l,["audioTimestamp"]);s!=null&&d(n,["audioTimestamp"],s);const u=c(l,["candidateCount"]);u!=null&&d(n,["candidateCount"],u);const m=c(l,["enableAffectiveDialog"]);m!=null&&d(n,["enableAffectiveDialog"],m);const h=c(l,["frequencyPenalty"]);h!=null&&d(n,["frequencyPenalty"],h);const x=c(l,["logprobs"]);x!=null&&d(n,["logprobs"],x);const y=c(l,["maxOutputTokens"]);y!=null&&d(n,["maxOutputTokens"],y);const g=c(l,["mediaResolution"]);g!=null&&d(n,["mediaResolution"],g);const v=c(l,["presencePenalty"]);v!=null&&d(n,["presencePenalty"],v);const T=c(l,["responseJsonSchema"]);T!=null&&d(n,["responseJsonSchema"],T);const C=c(l,["responseLogprobs"]);C!=null&&d(n,["responseLogprobs"],C);const b=c(l,["responseMimeType"]);b!=null&&d(n,["responseMimeType"],b);const E=c(l,["responseModalities"]);E!=null&&d(n,["responseModalities"],E);const D=c(l,["responseSchema"]);D!=null&&d(n,["responseSchema"],D);const L=c(l,["routingConfig"]);L!=null&&d(n,["routingConfig"],L);const Y=c(l,["seed"]);Y!=null&&d(n,["seed"],Y);const U=c(l,["speechConfig"]);U!=null&&d(n,["speechConfig"],Tg(U));const P=c(l,["stopSequences"]);P!=null&&d(n,["stopSequences"],P);const V=c(l,["temperature"]);V!=null&&d(n,["temperature"],V);const z=c(l,["thinkingConfig"]);z!=null&&d(n,["thinkingConfig"],z);const W=c(l,["topK"]);W!=null&&d(n,["topK"],W);const Z=c(l,["topP"]);if(Z!=null&&d(n,["topP"],Z),c(l,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function cS(l,n){const a={},s=c(n,["model"]);return s!=null&&d(a,["_url","name"],_e(l,s)),a}function dS(l,n){const a={},s=c(n,["model"]);return s!=null&&d(a,["_url","name"],_e(l,s)),a}function fS(l){const n={};if(c(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=c(l,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function mS(l){const n={};if(c(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const a=c(l,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function pS(l){const n={},a=c(l,["bytesBase64Encoded"]);a!=null&&d(n,["imageBytes"],Vn(a));const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function xg(l){const n={},a=c(l,["gcsUri"]);a!=null&&d(n,["gcsUri"],a);const s=c(l,["bytesBase64Encoded"]);s!=null&&d(n,["imageBytes"],Vn(s));const u=c(l,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}function zs(l){const n={};if(c(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=c(l,["imageBytes"]);a!=null&&d(n,["bytesBase64Encoded"],Vn(a));const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Yt(l){const n={},a=c(l,["gcsUri"]);a!=null&&d(n,["gcsUri"],a);const s=c(l,["imageBytes"]);s!=null&&d(n,["bytesBase64Encoded"],Vn(s));const u=c(l,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}function hS(l,n,a){const s={},u=c(n,["pageSize"]);a!==void 0&&u!=null&&d(a,["_query","pageSize"],u);const m=c(n,["pageToken"]);a!==void 0&&m!=null&&d(a,["_query","pageToken"],m);const h=c(n,["filter"]);a!==void 0&&h!=null&&d(a,["_query","filter"],h);const x=c(n,["queryBase"]);return a!==void 0&&x!=null&&d(a,["_url","models_url"],cg(l,x)),s}function gS(l,n,a){const s={},u=c(n,["pageSize"]);a!==void 0&&u!=null&&d(a,["_query","pageSize"],u);const m=c(n,["pageToken"]);a!==void 0&&m!=null&&d(a,["_query","pageToken"],m);const h=c(n,["filter"]);a!==void 0&&h!=null&&d(a,["_query","filter"],h);const x=c(n,["queryBase"]);return a!==void 0&&x!=null&&d(a,["_url","models_url"],cg(l,x)),s}function yS(l,n){const a={},s=c(n,["config"]);return s!=null&&hS(l,s,a),a}function xS(l,n){const a={},s=c(n,["config"]);return s!=null&&gS(l,s,a),a}function vS(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=c(l,["_self"]);if(u!=null){let m=dg(u);Array.isArray(m)&&(m=m.map(h=>Eu(h))),d(n,["models"],m)}return n}function SS(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=c(l,["_self"]);if(u!=null){let m=dg(u);Array.isArray(m)&&(m=m.map(h=>wu(h))),d(n,["models"],m)}return n}function TS(l){const n={},a=c(l,["maskMode"]);a!=null&&d(n,["maskMode"],a);const s=c(l,["segmentationClasses"]);s!=null&&d(n,["maskClasses"],s);const u=c(l,["maskDilation"]);return u!=null&&d(n,["dilation"],u),n}function Eu(l){const n={},a=c(l,["name"]);a!=null&&d(n,["name"],a);const s=c(l,["displayName"]);s!=null&&d(n,["displayName"],s);const u=c(l,["description"]);u!=null&&d(n,["description"],u);const m=c(l,["version"]);m!=null&&d(n,["version"],m);const h=c(l,["_self"]);h!=null&&d(n,["tunedModelInfo"],jS(h));const x=c(l,["inputTokenLimit"]);x!=null&&d(n,["inputTokenLimit"],x);const y=c(l,["outputTokenLimit"]);y!=null&&d(n,["outputTokenLimit"],y);const g=c(l,["supportedGenerationMethods"]);return g!=null&&d(n,["supportedActions"],g),n}function wu(l){const n={},a=c(l,["name"]);a!=null&&d(n,["name"],a);const s=c(l,["displayName"]);s!=null&&d(n,["displayName"],s);const u=c(l,["description"]);u!=null&&d(n,["description"],u);const m=c(l,["versionId"]);m!=null&&d(n,["version"],m);const h=c(l,["deployedModels"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(C=>H2(C))),d(n,["endpoints"],T)}const x=c(l,["labels"]);x!=null&&d(n,["labels"],x);const y=c(l,["_self"]);y!=null&&d(n,["tunedModelInfo"],PS(y));const g=c(l,["defaultCheckpointId"]);g!=null&&d(n,["defaultCheckpointId"],g);const v=c(l,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>C)),d(n,["checkpoints"],T)}return n}function CS(l){const n={},a=c(l,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=c(l,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const u=c(l,["executableCode"]);u!=null&&d(n,["executableCode"],u);const m=c(l,["fileData"]);m!=null&&d(n,["fileData"],q2(m));const h=c(l,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const x=c(l,["inlineData"]);x!=null&&d(n,["inlineData"],d2(x));const y=c(l,["text"]);y!=null&&d(n,["text"],y);const g=c(l,["thought"]);g!=null&&d(n,["thought"],g);const v=c(l,["thoughtSignature"]);v!=null&&d(n,["thoughtSignature"],v);const T=c(l,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function NS(l){const n={},a=c(l,["productImage"]);return a!=null&&d(n,["image"],Yt(a)),n}function bS(l,n){const a={},s=c(l,["numberOfImages"]);n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s);const u=c(l,["baseSteps"]);n!==void 0&&u!=null&&d(n,["parameters","editConfig","baseSteps"],u);const m=c(l,["outputGcsUri"]);n!==void 0&&m!=null&&d(n,["parameters","storageUri"],m);const h=c(l,["seed"]);n!==void 0&&h!=null&&d(n,["parameters","seed"],h);const x=c(l,["safetyFilterLevel"]);n!==void 0&&x!=null&&d(n,["parameters","safetySetting"],x);const y=c(l,["personGeneration"]);n!==void 0&&y!=null&&d(n,["parameters","personGeneration"],y);const g=c(l,["addWatermark"]);n!==void 0&&g!=null&&d(n,["parameters","addWatermark"],g);const v=c(l,["outputMimeType"]);n!==void 0&&v!=null&&d(n,["parameters","outputOptions","mimeType"],v);const T=c(l,["outputCompressionQuality"]);n!==void 0&&T!=null&&d(n,["parameters","outputOptions","compressionQuality"],T);const C=c(l,["enhancePrompt"]);n!==void 0&&C!=null&&d(n,["parameters","enhancePrompt"],C);const b=c(l,["labels"]);return n!==void 0&&b!=null&&d(n,["labels"],b),a}function ES(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["source"]);u!=null&&_S(u,a);const m=c(n,["config"]);return m!=null&&bS(m,a),a}function wS(l){const n={},a=c(l,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>Gs(u))),d(n,["generatedImages"],s)}return n}function _S(l,n){const a={},s=c(l,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const u=c(l,["personImage"]);n!==void 0&&u!=null&&d(n,["instances[0]","personImage","image"],Yt(u));const m=c(l,["productImages"]);if(n!==void 0&&m!=null){let h=m;Array.isArray(h)&&(h=h.map(x=>NS(x))),d(n,["instances[0]","productImages"],h)}return a}function AS(l){const n={},a=c(l,["referenceImage"]);a!=null&&d(n,["referenceImage"],Yt(a));const s=c(l,["referenceId"]);s!=null&&d(n,["referenceId"],s);const u=c(l,["referenceType"]);u!=null&&d(n,["referenceType"],u);const m=c(l,["maskImageConfig"]);m!=null&&d(n,["maskImageConfig"],TS(m));const h=c(l,["controlImageConfig"]);h!=null&&d(n,["controlImageConfig"],x2(h));const x=c(l,["styleImageConfig"]);x!=null&&d(n,["styleImageConfig"],x);const y=c(l,["subjectImageConfig"]);return y!=null&&d(n,["subjectImageConfig"],y),n}function vg(l){const n={},a=c(l,["safetyAttributes","categories"]);a!=null&&d(n,["categories"],a);const s=c(l,["safetyAttributes","scores"]);s!=null&&d(n,["scores"],s);const u=c(l,["contentType"]);return u!=null&&d(n,["contentType"],u),n}function Sg(l){const n={},a=c(l,["safetyAttributes","categories"]);a!=null&&d(n,["categories"],a);const s=c(l,["safetyAttributes","scores"]);s!=null&&d(n,["scores"],s);const u=c(l,["contentType"]);return u!=null&&d(n,["contentType"],u),n}function MS(l){const n={},a=c(l,["category"]);if(a!=null&&d(n,["category"],a),c(l,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(l,["threshold"]);return s!=null&&d(n,["threshold"],s),n}function RS(l){const n={},a=c(l,["image"]);return a!=null&&d(n,["image"],Yt(a)),n}function DS(l,n){const a={},s=c(l,["mode"]);n!==void 0&&s!=null&&d(n,["parameters","mode"],s);const u=c(l,["maxPredictions"]);n!==void 0&&u!=null&&d(n,["parameters","maxPredictions"],u);const m=c(l,["confidenceThreshold"]);n!==void 0&&m!=null&&d(n,["parameters","confidenceThreshold"],m);const h=c(l,["maskDilation"]);n!==void 0&&h!=null&&d(n,["parameters","maskDilation"],h);const x=c(l,["binaryColorThreshold"]);n!==void 0&&x!=null&&d(n,["parameters","binaryColorThreshold"],x);const y=c(l,["labels"]);return n!==void 0&&y!=null&&d(n,["labels"],y),a}function IS(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["source"]);u!=null&&kS(u,a);const m=c(n,["config"]);return m!=null&&DS(m,a),a}function US(l){const n={},a=c(l,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(u=>sS(u))),d(n,["generatedMasks"],s)}return n}function kS(l,n){const a={},s=c(l,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const u=c(l,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],Yt(u));const m=c(l,["scribbleImage"]);return n!==void 0&&m!=null&&d(n,["instances[0]","scribble"],RS(m)),a}function Tg(l){const n={},a=c(l,["languageCode"]);a!=null&&d(n,["languageCode"],a);const s=c(l,["voiceConfig"]);if(s!=null&&d(n,["voiceConfig"],s),c(l,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function LS(l){const n={},a=c(l,["functionDeclarations"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>v)),d(n,["functionDeclarations"],g)}if(c(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(l,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const u=c(l,["googleMaps"]);u!=null&&d(n,["googleMaps"],fS(u));const m=c(l,["computerUse"]);m!=null&&d(n,["computerUse"],m);const h=c(l,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=c(l,["googleSearch"]);x!=null&&d(n,["googleSearch"],mS(x));const y=c(l,["urlContext"]);return y!=null&&d(n,["urlContext"],y),n}function Cg(l){const n={},a=c(l,["functionDeclarations"]);if(a!=null){let T=a;Array.isArray(T)&&(T=T.map(C=>G2(C))),d(n,["functionDeclarations"],T)}const s=c(l,["retrieval"]);s!=null&&d(n,["retrieval"],s);const u=c(l,["googleSearchRetrieval"]);u!=null&&d(n,["googleSearchRetrieval"],u);const m=c(l,["googleMaps"]);m!=null&&d(n,["googleMaps"],m);const h=c(l,["computerUse"]);h!=null&&d(n,["computerUse"],h);const x=c(l,["codeExecution"]);x!=null&&d(n,["codeExecution"],x);const y=c(l,["enterpriseWebSearch"]);y!=null&&d(n,["enterpriseWebSearch"],y);const g=c(l,["googleSearch"]);g!=null&&d(n,["googleSearch"],g);const v=c(l,["urlContext"]);return v!=null&&d(n,["urlContext"],v),n}function jS(l){const n={},a=c(l,["baseModel"]);a!=null&&d(n,["baseModel"],a);const s=c(l,["createTime"]);s!=null&&d(n,["createTime"],s);const u=c(l,["updateTime"]);return u!=null&&d(n,["updateTime"],u),n}function PS(l){const n={},a=c(l,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&d(n,["baseModel"],a);const s=c(l,["createTime"]);s!=null&&d(n,["createTime"],s);const u=c(l,["updateTime"]);return u!=null&&d(n,["updateTime"],u),n}function HS(l,n){const a={},s=c(l,["displayName"]);n!==void 0&&s!=null&&d(n,["displayName"],s);const u=c(l,["description"]);n!==void 0&&u!=null&&d(n,["description"],u);const m=c(l,["defaultCheckpointId"]);return n!==void 0&&m!=null&&d(n,["defaultCheckpointId"],m),a}function qS(l,n){const a={},s=c(l,["displayName"]);n!==void 0&&s!=null&&d(n,["displayName"],s);const u=c(l,["description"]);n!==void 0&&u!=null&&d(n,["description"],u);const m=c(l,["defaultCheckpointId"]);return n!==void 0&&m!=null&&d(n,["defaultCheckpointId"],m),a}function GS(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","name"],_e(l,s));const u=c(n,["config"]);return u!=null&&HS(u,a),a}function zS(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["config"]);return u!=null&&qS(u,a),a}function VS(l,n){const a={},s=c(l,["outputGcsUri"]);n!==void 0&&s!=null&&d(n,["parameters","storageUri"],s);const u=c(l,["safetyFilterLevel"]);n!==void 0&&u!=null&&d(n,["parameters","safetySetting"],u);const m=c(l,["personGeneration"]);n!==void 0&&m!=null&&d(n,["parameters","personGeneration"],m);const h=c(l,["includeRaiReason"]);n!==void 0&&h!=null&&d(n,["parameters","includeRaiReason"],h);const x=c(l,["outputMimeType"]);n!==void 0&&x!=null&&d(n,["parameters","outputOptions","mimeType"],x);const y=c(l,["outputCompressionQuality"]);n!==void 0&&y!=null&&d(n,["parameters","outputOptions","compressionQuality"],y);const g=c(l,["enhanceInputImage"]);n!==void 0&&g!=null&&d(n,["parameters","upscaleConfig","enhanceInputImage"],g);const v=c(l,["imagePreservationFactor"]);n!==void 0&&v!=null&&d(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=c(l,["labels"]);n!==void 0&&T!=null&&d(n,["labels"],T);const C=c(l,["numberOfImages"]);n!==void 0&&C!=null&&d(n,["parameters","sampleCount"],C);const b=c(l,["mode"]);return n!==void 0&&b!=null&&d(n,["parameters","mode"],b),a}function BS(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["_url","model"],_e(l,s));const u=c(n,["image"]);u!=null&&d(a,["instances[0]","image"],Yt(u));const m=c(n,["upscaleFactor"]);m!=null&&d(a,["parameters","upscaleConfig","upscaleFactor"],m);const h=c(n,["config"]);return h!=null&&VS(h,a),a}function OS(l){const n={},a=c(l,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const s=c(l,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(m=>Gs(m))),d(n,["generatedImages"],u)}return n}function YS(l){const n={},a=c(l,["uri"]);a!=null&&d(n,["uri"],a);const s=c(l,["encodedVideo"]);s!=null&&d(n,["videoBytes"],Vn(s));const u=c(l,["encoding"]);return u!=null&&d(n,["mimeType"],u),n}function JS(l){const n={},a=c(l,["gcsUri"]);a!=null&&d(n,["uri"],a);const s=c(l,["bytesBase64Encoded"]);s!=null&&d(n,["videoBytes"],Vn(s));const u=c(l,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}function FS(l){const n={},a=c(l,["image"]);a!=null&&d(n,["_self"],Yt(a));const s=c(l,["maskMode"]);return s!=null&&d(n,["maskMode"],s),n}function XS(l){const n={},a=c(l,["image"]);a!=null&&d(n,["image"],zs(a));const s=c(l,["referenceType"]);return s!=null&&d(n,["referenceType"],s),n}function KS(l){const n={},a=c(l,["image"]);a!=null&&d(n,["image"],Yt(a));const s=c(l,["referenceType"]);return s!=null&&d(n,["referenceType"],s),n}function Ng(l){const n={},a=c(l,["uri"]);a!=null&&d(n,["uri"],a);const s=c(l,["videoBytes"]);s!=null&&d(n,["encodedVideo"],Vn(s));const u=c(l,["mimeType"]);return u!=null&&d(n,["encoding"],u),n}function bg(l){const n={},a=c(l,["uri"]);a!=null&&d(n,["gcsUri"],a);const s=c(l,["videoBytes"]);s!=null&&d(n,["bytesBase64Encoded"],Vn(s));const u=c(l,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QS="Content-Type",$S="X-Server-Timeout",ZS="User-Agent",_u="x-goog-api-client",WS="1.28.0",eT=`google-genai-sdk/${WS}`,tT="v1beta1",nT="v1beta",ph=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class lT{constructor(n){var a,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:tT,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:nT,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),a=new URL(n);return a.protocol=a.protocol=="http:"?"ws":"wss",a.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,a,s){const u=[this.getRequestUrlInternal(a)];return s&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let a=this.clientOptions.httpOptions;n.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,a,s);if(n.queryParams)for(const[h,x]of Object.entries(n.queryParams))u.searchParams.append(h,String(x));let m={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else m.body=n.body;return m=await this.includeExtraHttpOptionsToRequestInit(m,a,u.toString(),n.abortSignal),this.unaryApiCall(u,m,n.httpMethod)}patchHttpOptions(n,a){const s=JSON.parse(JSON.stringify(n));for(const[u,m]of Object.entries(a))typeof m=="object"?s[u]=Object.assign(Object.assign({},s[u]),m):m!==void 0&&(s[u]=m);return s}async requestStream(n){let a=this.clientOptions.httpOptions;n.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,a,s);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let m={};return m.body=n.body,m=await this.includeExtraHttpOptionsToRequestInit(m,a,u.toString(),n.abortSignal),this.streamApiCall(u,m,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,a,s,u){if(a&&a.timeout||u){const m=new AbortController,h=m.signal;if(a.timeout&&(a==null?void 0:a.timeout)>0){const x=setTimeout(()=>m.abort(),a.timeout);x&&typeof x.unref=="function"&&x.unref()}u&&u.addEventListener("abort",()=>{m.abort()}),n.signal=h}return a&&a.extraBody!==null&&iT(n,a.extraBody),n.headers=await this.getHeadersInternal(a,s),n}async unaryApiCall(n,a,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},a),{method:s})).then(async u=>(await hh(u),new Cu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,a,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},a),{method:s})).then(async u=>(await hh(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var a;return $l(this,arguments,function*(){const u=(a=n==null?void 0:n.body)===null||a===void 0?void 0:a.getReader(),m=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let h="";for(;;){const{done:x,value:y}=yield He(u.read());if(x){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=m.decode(y,{stream:!0});try{const T=JSON.parse(g);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),b=C.status,E=C.code,D=`got status: ${b}. ${JSON.stringify(T)}`;if(E>=400&&E<600)throw new Hs({message:D,status:E})}}catch(T){if(T.name==="ApiError")throw T}h+=g;let v=h.match(ph);for(;v;){const T=v[1];try{const C=new Response(T,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield He(new Cu(C)),h=h.slice(v[0].length),v=h.match(ph)}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}finally{u.releaseLock()}})}async apiCall(n,a){return fetch(n,a).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},a=eT+" "+this.clientOptions.userAgentExtra;return n[ZS]=a,n[_u]=a,n[QS]="application/json",n}async getHeadersInternal(n,a){const s=new Headers;if(n&&n.headers){for(const[u,m]of Object.entries(n.headers))s.append(u,m);n.timeout&&n.timeout>0&&s.append($S,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,a),s}async uploadFile(n,a){var s,u;const m={};a!=null&&(m.mimeType=a.mimeType,m.name=a.name,m.displayName=a.displayName),m.name&&!m.name.startsWith("files/")&&(m.name=`files/${m.name}`);const h=this.clientOptions.uploader,x=await h.stat(n);m.sizeBytes=String(x.size);const y=(s=a==null?void 0:a.mimeType)!==null&&s!==void 0?s:x.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");m.mimeType=y;let g="";typeof n=="string"&&(g=n.replace(/[/\\]+$/,""),g=(u=g.split(/[/\\]/).pop())!==null&&u!==void 0?u:"");const v=await this.fetchUploadUrl(m,g,a);return h.upload(n,v,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,a,s){var u;let m={};s!=null&&s.httpOptions?m=s.httpOptions:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h={file:n},x=await this.request({path:ue("upload/v1beta/files",h._url),body:JSON.stringify(h),httpMethod:"POST",httpOptions:m});if(!x||!(x!=null&&x.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(u=x==null?void 0:x.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function hh(l){var n;if(l===void 0)throw new Error("response is undefined");if(!l.ok){const a=l.status;let s;!((n=l.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await l.json():s={error:{message:await l.text(),code:l.status,status:l.statusText}};const u=JSON.stringify(s);throw a>=400&&a<600?new Hs({message:u,status:a}):new Error(u)}}function iT(l,n){if(!n||Object.keys(n).length===0)return;if(l.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let a={};if(typeof l.body=="string"&&l.body.length>0)try{const m=JSON.parse(l.body);if(typeof m=="object"&&m!==null&&!Array.isArray(m))a=m;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(m,h){const x=Object.assign({},m);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const g=h[y],v=x[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?x[y]=s(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),x[y]=g)}return x}const u=s(a,n);l.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aT="mcp_used/unknown";let sT=!1;function Eg(l){for(const n of l)if(oT(n)||typeof n=="object"&&"inputSchema"in n)return!0;return sT}function wg(l){var n;const a=(n=l[_u])!==null&&n!==void 0?n:"";l[_u]=(a+` ${aT}`).trimStart()}function oT(l){return l!==null&&typeof l=="object"&&l instanceof zu}function rT(l,n=100){return $l(this,arguments,function*(){let s,u=0;for(;u<n;){const m=yield He(l.listTools({cursor:s}));for(const h of m.tools)yield yield He(h),u++;if(!m.nextCursor)break;s=m.nextCursor}})}class zu{constructor(n=[],a){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=a}static create(n,a){return new zu(n,a)}async initialize(){var n,a,s,u;if(this.mcpTools.length>0)return;const m={},h=[];for(const v of this.mcpClients)try{for(var x=!0,y=(a=void 0,na(rT(v))),g;g=await y.next(),n=g.done,!n;x=!0){u=g.value,x=!1;const T=u;h.push(T);const C=T.name;if(m[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);m[C]=v}}catch(T){a={error:T}}finally{try{!x&&!n&&(s=y.return)&&await s.call(y)}finally{if(a)throw a.error}}this.mcpTools=h,this.functionNameToMcpClient=m}async tool(){return await this.initialize(),mv(this.mcpTools,this.config)}async callTool(n){await this.initialize();const a=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[s.name];let m;this.config.timeout&&(m={timeout:this.config.timeout});const h=await u.callTool({name:s.name,arguments:s.args},void 0,m);a.push({functionResponse:{name:s.name,response:h.isError?{error:h}:h}})}return a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uT(l,n,a){const s=new av;let u;a.data instanceof Blob?u=JSON.parse(await a.data.text()):u=JSON.parse(a.data),Object.assign(s,u),n(s)}class cT{constructor(n,a,s){this.apiClient=n,this.auth=a,this.webSocketFactory=s}async connect(n){var a,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion(),h=mT(this.apiClient.getDefaultHeaders()),x=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${m}.GenerativeService.BidiGenerateMusic?key=${x}`;let g=()=>{};const v=new Promise(P=>{g=P}),T=n.callbacks,C=function(){g({})},b=this.apiClient,E={onopen:C,onmessage:P=>{uT(b,T.onmessage,P)},onerror:(a=T==null?void 0:T.onerror)!==null&&a!==void 0?a:function(P){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(P){}},D=this.webSocketFactory.create(y,fT(h),E);D.connect(),await v;const U={setup:{model:_e(this.apiClient,n.model)}};return D.send(JSON.stringify(U)),new dT(D,this.apiClient)}}class dT{constructor(n,a){this.conn=n,this.apiClient=a}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const a=n2(n);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const a=t2(n);this.conn.send(JSON.stringify(a))}sendPlaybackControl(n){const a={playbackControl:n};this.conn.send(JSON.stringify(a))}play(){this.sendPlaybackControl(Kl.PLAY)}pause(){this.sendPlaybackControl(Kl.PAUSE)}stop(){this.sendPlaybackControl(Kl.STOP)}resetContext(){this.sendPlaybackControl(Kl.RESET_CONTEXT)}close(){this.conn.close()}}function fT(l){const n={};return l.forEach((a,s)=>{n[s]=a}),n}function mT(l){const n=new Headers;for(const[a,s]of Object.entries(l))n.append(a,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function hT(l,n,a){const s=new iv;let u;a.data instanceof Blob?u=await a.data.text():a.data instanceof ArrayBuffer?u=new TextDecoder().decode(a.data):u=a.data;const m=JSON.parse(u);if(l.isVertexAI()){const h=a2(m);Object.assign(s,h)}else Object.assign(s,m);n(s)}class gT{constructor(n,a,s){this.apiClient=n,this.auth=a,this.webSocketFactory=s,this.music=new cT(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var a,s,u,m,h,x;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();n.config&&n.config.tools&&Eg(n.config.tools)&&wg(T);const C=ST(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,v);else{const ie=this.apiClient.getApiKey();let ce="BidiGenerateContent",X="key";ie!=null&&ie.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",X="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ce}?${X}=${ie}`}let b=()=>{};const E=new Promise(ie=>{b=ie}),D=n.callbacks,L=function(){var ie;(ie=D==null?void 0:D.onopen)===null||ie===void 0||ie.call(D),b({})},Y=this.apiClient,U={onopen:L,onmessage:ie=>{hT(Y,D.onmessage,ie)},onerror:(a=D==null?void 0:D.onerror)!==null&&a!==void 0?a:function(ie){},onclose:(s=D==null?void 0:D.onclose)!==null&&s!==void 0?s:function(ie){}},P=this.webSocketFactory.create(v,vT(C),U);P.connect(),await E;let V=_e(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const ie=this.apiClient.getProject(),ce=this.apiClient.getLocation();V=`projects/${ie}/locations/${ce}/`+V}let z={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Us.AUDIO]}:n.config.responseModalities=[Us.AUDIO]),!((m=n.config)===null||m===void 0)&&m.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(x=(h=n.config)===null||h===void 0?void 0:h.tools)!==null&&x!==void 0?x:[],Z=[];for(const ie of W)if(this.isCallableTool(ie)){const ce=ie;Z.push(await ce.tool())}else Z.push(ie);Z.length>0&&(n.config.tools=Z);const se={model:V,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?z=e2(this.apiClient,se):z=W1(this.apiClient,se),delete z.config,P.send(JSON.stringify(z)),new xT(P,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const yT={turnComplete:!0};class xT{constructor(n,a){this.conn=n,this.apiClient=a}tLiveClientContent(n,a){if(a.turns!==null&&a.turns!==void 0){let s=[];try{s=Gt(a.turns),n.isVertexAI()||(s=s.map(u=>qs(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof a.turns}'`)}return{clientContent:{turns:s,turnComplete:a.turnComplete}}}return{clientContent:{turnComplete:a.turnComplete}}}tLiveClienttToolResponse(n,a){let s=[];if(a.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(a.functionResponses)?s=a.functionResponses:s=[a.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const m of s){if(typeof m!="object"||m===null||!("name"in m)||!("response"in m))throw new Error(`Could not parse function response, type '${typeof m}'.`);if(!n.isVertexAI()&&!("id"in m))throw new Error(pT)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},yT),n);const a=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(a))}sendRealtimeInput(n){let a={};this.apiClient.isVertexAI()?a={realtimeInput:i2(n)}:a={realtimeInput:l2(n)},this.conn.send(JSON.stringify(a))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const a=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(a))}close(){this.conn.close()}}function vT(l){const n={};return l.forEach((a,s)=>{n[s]=a}),n}function ST(l){const n=new Headers;for(const[a,s]of Object.entries(l))n.append(a,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gh=10;function yh(l){var n,a,s;if(!((n=l==null?void 0:l.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const h of(a=l==null?void 0:l.tools)!==null&&a!==void 0?a:[])if(Zl(h)){u=!0;break}if(!u)return!0;const m=(s=l==null?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return m&&(m<0||!Number.isInteger(m))||m==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",m),!0):!1}function Zl(l){return"callTool"in l&&typeof l.callTool=="function"}function TT(l){var n,a,s;return(s=(a=(n=l.config)===null||n===void 0?void 0:n.tools)===null||a===void 0?void 0:a.some(u=>Zl(u)))!==null&&s!==void 0?s:!1}function CT(l){var n,a,s;return(s=(a=(n=l.config)===null||n===void 0?void 0:n.tools)===null||a===void 0?void 0:a.some(u=>!Zl(u)))!==null&&s!==void 0?s:!1}function xh(l){var n;return!(!((n=l==null?void 0:l.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NT extends cl{constructor(n){super(),this.apiClient=n,this.generateContent=async a=>{var s,u,m,h,x;const y=await this.processParamsMaybeAddMcpUsage(a);if(this.maybeMoveToResponseJsonSchem(a),!TT(a)||yh(a.config))return await this.generateContentInternal(y);if(CT(a))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,v;const T=Gt(y.contents),C=(m=(u=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&m!==void 0?m:gh;let b=0;for(;b<C&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const E=g.candidates[0].content,D=[];for(const L of(x=(h=a.config)===null||h===void 0?void 0:h.tools)!==null&&x!==void 0?x:[])if(Zl(L)){const U=await L.callTool(g.functionCalls);D.push(...U)}b++,v={role:"user",parts:D},y.contents=Gt(y.contents),y.contents.push(E),y.contents.push(v),xh(y.config)&&(T.push(E),T.push(v))}return xh(y.config)&&(g.automaticFunctionCallingHistory=T),g},this.generateContentStream=async a=>{if(this.maybeMoveToResponseJsonSchem(a),yh(a.config)){const s=await this.processParamsMaybeAddMcpUsage(a);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(a)},this.generateImages=async a=>await this.generateImagesInternal(a).then(s=>{var u;let m;const h=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?m=y==null?void 0:y.safetyAttributes:h.push(y);let x;return m?x={generatedImages:h,positivePromptSafetyAttributes:m,sdkHttpResponse:s.sdkHttpResponse}:x={generatedImages:h,sdkHttpResponse:s.sdkHttpResponse},x}),this.list=async a=>{var s;const h={config:Object.assign(Object.assign({},{queryBase:!0}),a==null?void 0:a.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((s=h.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new ra(ul.PAGED_ITEM_MODELS,x=>this.listInternal(x),await this.listInternal(h),h)},this.editImage=async a=>{const s={model:a.model,prompt:a.prompt,referenceImages:[],config:a.config};return a.referenceImages&&a.referenceImages&&(s.referenceImages=a.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async a=>{let s={numberOfImages:1,mode:"upscale"};a.config&&(s=Object.assign(Object.assign({},s),a.config));const u={model:a.model,image:a.image,upscaleFactor:a.upscaleFactor,config:s};return await this.upscaleImageInternal(u)},this.generateVideos=async a=>{var s,u,m,h,x,y;if((a.prompt||a.image||a.video)&&a.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=a.video)===null||s===void 0)&&s.uri&&(!((u=a.video)===null||u===void 0)&&u.videoBytes)?a.video={uri:a.video.uri,mimeType:a.video.mimeType}:!((h=(m=a.source)===null||m===void 0?void 0:m.video)===null||h===void 0)&&h.uri&&(!((y=(x=a.source)===null||x===void 0?void 0:x.video)===null||y===void 0)&&y.videoBytes)&&(a.source.video={uri:a.source.video.uri,mimeType:a.source.video.mimeType})),await this.generateVideosInternal(a)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var a,s,u;const m=(a=n.config)===null||a===void 0?void 0:a.tools;if(!m)return n;const h=await Promise.all(m.map(async y=>Zl(y)?await y.tool():y)),x={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:h})};if(x.config.tools=h,n.config&&n.config.tools&&Eg(n.config.tools)){const y=(u=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&u!==void 0?u:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),wg(g),x.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:g})}return x}async initAfcToolsMap(n){var a,s,u;const m=new Map;for(const h of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Zl(h)){const x=h,y=await x.tool();for(const g of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!g.name)throw new Error("Function declaration name is required.");if(m.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);m.set(g.name,x)}}return m}async processAfcStream(n){var a,s,u;const m=(u=(s=(a=n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:gh;let h=!1,x=0;const y=await this.initAfcToolsMap(n);return(function(g,v,T){var C,b;return $l(this,arguments,function*(){for(var E,D,L,Y;x<m;){h&&(x++,h=!1);const z=yield He(g.processParamsMaybeAddMcpUsage(T)),W=yield He(g.generateContentStreamInternal(z)),Z=[],se=[];try{for(var U=!0,P=(D=void 0,na(W)),V;V=yield He(P.next()),E=V.done,!E;U=!0){Y=V.value,U=!1;const ie=Y;if(yield yield He(ie),ie.candidates&&(!((C=ie.candidates[0])===null||C===void 0)&&C.content)){se.push(ie.candidates[0].content);for(const ce of(b=ie.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(x<m&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ce.functionCall.name)){const X=yield He(v.get(ce.functionCall.name).callTool([ce.functionCall]));Z.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(ie){D={error:ie}}finally{try{!U&&!E&&(L=P.return)&&(yield He(L.call(P)))}finally{if(D)throw D.error}}if(Z.length>0){h=!0;const ie=new ta;ie.candidates=[{content:{role:"user",parts:Z}}],yield yield He(ie);const ce=[];ce.push(...se),ce.push({role:"user",parts:Z});const X=Gt(T.contents).concat(ce);T.contents=X}else break}})})(this,y,n)}async generateContentInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=dh(this.apiClient,n);return x=ue("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=mh(v),C=new ta;return Object.assign(C,T),C})}else{const g=ch(this.apiClient,n);return x=ue("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=fh(v),C=new ta;return Object.assign(C,T),C})}}async generateContentStreamInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=dh(this.apiClient,n);return x=ue("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),h.then(function(T){return $l(this,arguments,function*(){var C,b,E,D;try{for(var L=!0,Y=na(T),U;U=yield He(Y.next()),C=U.done,!C;L=!0){D=U.value,L=!1;const P=D,V=mh(yield He(P.json()));V.sdkHttpResponse={headers:P.headers};const z=new ta;Object.assign(z,V),yield yield He(z)}}catch(P){b={error:P}}finally{try{!L&&!C&&(E=Y.return)&&(yield He(E.call(Y)))}finally{if(b)throw b.error}}})})}else{const g=ch(this.apiClient,n);return x=ue("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.requestStream({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}),h.then(function(T){return $l(this,arguments,function*(){var C,b,E,D;try{for(var L=!0,Y=na(T),U;U=yield He(Y.next()),C=U.done,!C;L=!0){D=U.value,L=!1;const P=D,V=fh(yield He(P.json()));V.sdkHttpResponse={headers:P.headers};const z=new ta;Object.assign(z,V),yield yield He(z)}}catch(P){b={error:P}}finally{try{!L&&!C&&(E=Y.return)&&(yield He(E.call(Y)))}finally{if(b)throw b.error}}})})}}async embedContent(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=L2(this.apiClient,n);return x=ue("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=P2(v),C=new Xp;return Object.assign(C,T),C})}else{const g=k2(this.apiClient,n);return x=ue("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=j2(v),C=new Xp;return Object.assign(C,T),C})}}async generateImagesInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=J2(this.apiClient,n);return x=ue("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=X2(v),C=new Kp;return Object.assign(C,T),C})}else{const g=Y2(this.apiClient,n);return x=ue("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=F2(v),C=new Kp;return Object.assign(C,T),C})}}async editImageInternal(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI()){const x=R2(this.apiClient,n);return m=ue("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=D2(y),v=new Qx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI()){const x=BS(this.apiClient,n);return m=ue("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=OS(y),v=new $x;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI()){const x=ES(this.apiClient,n);return m=ue("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=wS(y),v=new Zx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI()){const x=IS(this.apiClient,n);return m=ue("{model}:predict",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=US(y),v=new Wx;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=dS(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>wu(v))}else{const g=cS(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json()),h.then(v=>Eu(v))}}async listInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=xS(this.apiClient,n);return x=ue("{models_url}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=SS(v),C=new Qp;return Object.assign(C,T),C})}else{const g=yS(this.apiClient,n);return x=ue("{models_url}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=vS(v),C=new Qp;return Object.assign(C,T),C})}}async update(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=zS(this.apiClient,n);return x=ue("{model}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>wu(v))}else{const g=GS(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json()),h.then(v=>Eu(v))}}async delete(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=w2(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=A2(v),C=new $p;return Object.assign(C,T),C})}else{const g=E2(this.apiClient,n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=_2(v),C=new $p;return Object.assign(C,T),C})}}async countTokens(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=C2(this.apiClient,n);return x=ue("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=b2(v),C=new Zp;return Object.assign(C,T),C})}else{const g=T2(this.apiClient,n);return x=ue("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=N2(v),C=new Zp;return Object.assign(C,T),C})}}async computeTokens(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI()){const x=p2(this.apiClient,n);return m=ue("{model}:computeTokens",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=h2(y),v=new ev;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=eS(this.apiClient,n);return x=ue("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>{const T=Z2(v),C=new ks;return Object.assign(C,T),C})}else{const g=W2(this.apiClient,n);return x=ue("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json()),h.then(v=>{const T=$2(v),C=new ks;return Object.assign(C,T),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bT extends cl{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const a=n.operation,s=n.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=a.name.split("/operations/")[0];let m;s&&"httpOptions"in s&&(m=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:u,config:{httpOptions:m}});return a._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:a.name,config:s});return a._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(n){const a=n.operation,s=n.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=a.name.split("/operations/")[0];let m;s&&"httpOptions"in s&&(m=s.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:u,config:{httpOptions:m}});return a._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:a.name,config:s});return a._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=Fx(n);return x=ue("{operationName}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h}else{const g=Jx(n);return x=ue("{operationName}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json()),h}}async fetchPredictVideosOperationInternal(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI()){const x=qx(n);return m=ue("{resourceName}:fetchPredictOperation",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(l){const n={},a=c(l,["data"]);if(a!=null&&d(n,["data"],a),c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function wT(l){const n={},a=c(l,["parts"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(m=>kT(m))),d(n,["parts"],u)}const s=c(l,["role"]);return s!=null&&d(n,["role"],s),n}function _T(l,n,a){const s={},u=c(n,["expireTime"]);a!==void 0&&u!=null&&d(a,["expireTime"],u);const m=c(n,["newSessionExpireTime"]);a!==void 0&&m!=null&&d(a,["newSessionExpireTime"],m);const h=c(n,["uses"]);a!==void 0&&h!=null&&d(a,["uses"],h);const x=c(n,["liveConnectConstraints"]);a!==void 0&&x!=null&&d(a,["bidiGenerateContentSetup"],UT(l,x));const y=c(n,["lockAdditionalFields"]);return a!==void 0&&y!=null&&d(a,["fieldMask"],y),s}function AT(l,n){const a={},s=c(n,["config"]);return s!=null&&d(a,["config"],_T(l,s,a)),a}function MT(l){const n={};if(c(l,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(l,["fileUri"]);a!=null&&d(n,["fileUri"],a);const s=c(l,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function RT(l){const n={};if(c(l,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=c(l,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function DT(l){const n={};if(c(l,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");const a=c(l,["timeRangeFilter"]);return a!=null&&d(n,["timeRangeFilter"],a),n}function IT(l,n){const a={},s=c(l,["generationConfig"]);n!==void 0&&s!=null&&d(n,["setup","generationConfig"],s);const u=c(l,["responseModalities"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","responseModalities"],u);const m=c(l,["temperature"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","temperature"],m);const h=c(l,["topP"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topP"],h);const x=c(l,["topK"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","topK"],x);const y=c(l,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const g=c(l,["mediaResolution"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","mediaResolution"],g);const v=c(l,["seed"]);n!==void 0&&v!=null&&d(n,["setup","generationConfig","seed"],v);const T=c(l,["speechConfig"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","speechConfig"],Gu(T));const C=c(l,["thinkingConfig"]);n!==void 0&&C!=null&&d(n,["setup","generationConfig","thinkingConfig"],C);const b=c(l,["enableAffectiveDialog"]);n!==void 0&&b!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],b);const E=c(l,["systemInstruction"]);n!==void 0&&E!=null&&d(n,["setup","systemInstruction"],wT(ct(E)));const D=c(l,["tools"]);if(n!==void 0&&D!=null){let W=ii(D);Array.isArray(W)&&(W=W.map(Z=>jT(li(Z)))),d(n,["setup","tools"],W)}const L=c(l,["sessionResumption"]);n!==void 0&&L!=null&&d(n,["setup","sessionResumption"],LT(L));const Y=c(l,["inputAudioTranscription"]);n!==void 0&&Y!=null&&d(n,["setup","inputAudioTranscription"],Y);const U=c(l,["outputAudioTranscription"]);n!==void 0&&U!=null&&d(n,["setup","outputAudioTranscription"],U);const P=c(l,["realtimeInputConfig"]);n!==void 0&&P!=null&&d(n,["setup","realtimeInputConfig"],P);const V=c(l,["contextWindowCompression"]);n!==void 0&&V!=null&&d(n,["setup","contextWindowCompression"],V);const z=c(l,["proactivity"]);return n!==void 0&&z!=null&&d(n,["setup","proactivity"],z),a}function UT(l,n){const a={},s=c(n,["model"]);s!=null&&d(a,["setup","model"],_e(l,s));const u=c(n,["config"]);return u!=null&&d(a,["config"],IT(u,a)),a}function kT(l){const n={},a=c(l,["functionCall"]);a!=null&&d(n,["functionCall"],a);const s=c(l,["codeExecutionResult"]);s!=null&&d(n,["codeExecutionResult"],s);const u=c(l,["executableCode"]);u!=null&&d(n,["executableCode"],u);const m=c(l,["fileData"]);m!=null&&d(n,["fileData"],MT(m));const h=c(l,["functionResponse"]);h!=null&&d(n,["functionResponse"],h);const x=c(l,["inlineData"]);x!=null&&d(n,["inlineData"],ET(x));const y=c(l,["text"]);y!=null&&d(n,["text"],y);const g=c(l,["thought"]);g!=null&&d(n,["thought"],g);const v=c(l,["thoughtSignature"]);v!=null&&d(n,["thoughtSignature"],v);const T=c(l,["videoMetadata"]);return T!=null&&d(n,["videoMetadata"],T),n}function LT(l){const n={},a=c(l,["handle"]);if(a!=null&&d(n,["handle"],a),c(l,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function jT(l){const n={},a=c(l,["functionDeclarations"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>v)),d(n,["functionDeclarations"],g)}if(c(l,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(l,["googleSearchRetrieval"]);s!=null&&d(n,["googleSearchRetrieval"],s);const u=c(l,["googleMaps"]);u!=null&&d(n,["googleMaps"],RT(u));const m=c(l,["computerUse"]);m!=null&&d(n,["computerUse"],m);const h=c(l,["codeExecution"]);if(h!=null&&d(n,["codeExecution"],h),c(l,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const x=c(l,["googleSearch"]);x!=null&&d(n,["googleSearch"],DT(x));const y=c(l,["urlContext"]);return y!=null&&d(n,["urlContext"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PT(l){const n=[];for(const a in l)if(Object.prototype.hasOwnProperty.call(l,a)){const s=l[a];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const u=Object.keys(s).map(m=>`${a}.${m}`);n.push(...u)}else n.push(a)}return n.join(",")}function HT(l,n){let a=null;const s=l.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const m=s.setup;typeof m=="object"&&m!==null?(l.bidiGenerateContentSetup=m,a=m):delete l.bidiGenerateContentSetup}else s!==void 0&&delete l.bidiGenerateContentSetup;const u=l.fieldMask;if(a){const m=PT(a);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)m?l.fieldMask=m:delete l.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let x=[];u.length>0&&(x=u.map(g=>h.includes(g)?`generationConfig.${g}`:g));const y=[];m&&y.push(m),x.length>0&&y.push(...x),y.length>0?l.fieldMask=y.join(","):delete l.fieldMask}else delete l.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?l.fieldMask=u.join(","):delete l.fieldMask;return l}class qT extends cl{constructor(n){super(),this.apiClient=n}async create(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const x=AT(this.apiClient,n);m=ue("auth_tokens",x._url),h=x._query,delete x.config,delete x._url,delete x._query;const y=HT(x,n.config);return u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GT(l,n){const a={},s=c(l,["name"]);return s!=null&&d(a,["_url","name"],s),a}function zT(l,n){const a={},s=c(l,["name"]);return s!=null&&d(a,["_url","name"],s),a}function VT(l,n,a){const s={};if(c(l,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=c(l,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&d(n,["displayName"],u),c(l,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const m=c(l,["epochCount"]);n!==void 0&&m!=null&&d(n,["tuningTask","hyperparameters","epochCount"],m);const h=c(l,["learningRateMultiplier"]);if(h!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],h),c(l,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(l,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(l,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const x=c(l,["batchSize"]);n!==void 0&&x!=null&&d(n,["tuningTask","hyperparameters","batchSize"],x);const y=c(l,["learningRate"]);if(n!==void 0&&y!=null&&d(n,["tuningTask","hyperparameters","learningRate"],y),c(l,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(l,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function BT(l,n,a){const s={};let u=c(a,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=c(l,["validationDataset"]);n!==void 0&&b!=null&&d(n,["supervisedTuningSpec"],vh(b))}else if(u==="PREFERENCE_TUNING"){const b=c(l,["validationDataset"]);n!==void 0&&b!=null&&d(n,["preferenceOptimizationSpec"],vh(b))}const m=c(l,["tunedModelDisplayName"]);n!==void 0&&m!=null&&d(n,["tunedModelDisplayName"],m);const h=c(l,["description"]);n!==void 0&&h!=null&&d(n,["description"],h);let x=c(a,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const b=c(l,["epochCount"]);n!==void 0&&b!=null&&d(n,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(x==="PREFERENCE_TUNING"){const b=c(l,["epochCount"]);n!==void 0&&b!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let y=c(a,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const b=c(l,["learningRateMultiplier"]);n!==void 0&&b!=null&&d(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(y==="PREFERENCE_TUNING"){const b=c(l,["learningRateMultiplier"]);n!==void 0&&b!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let g=c(a,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const b=c(l,["exportLastCheckpointOnly"]);n!==void 0&&b!=null&&d(n,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(g==="PREFERENCE_TUNING"){const b=c(l,["exportLastCheckpointOnly"]);n!==void 0&&b!=null&&d(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let v=c(a,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const b=c(l,["adapterSize"]);n!==void 0&&b!=null&&d(n,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(v==="PREFERENCE_TUNING"){const b=c(l,["adapterSize"]);n!==void 0&&b!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(c(l,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(l,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=c(l,["labels"]);n!==void 0&&T!=null&&d(n,["labels"],T);const C=c(l,["beta"]);return n!==void 0&&C!=null&&d(n,["preferenceOptimizationSpec","hyperParameters","beta"],C),s}function OT(l,n){const a={},s=c(l,["baseModel"]);s!=null&&d(a,["baseModel"],s);const u=c(l,["preTunedModel"]);u!=null&&d(a,["preTunedModel"],u);const m=c(l,["trainingDataset"]);m!=null&&tC(m);const h=c(l,["config"]);return h!=null&&VT(h,a),a}function YT(l,n){const a={},s=c(l,["baseModel"]);s!=null&&d(a,["baseModel"],s);const u=c(l,["preTunedModel"]);u!=null&&d(a,["preTunedModel"],u);const m=c(l,["trainingDataset"]);m!=null&&nC(m,a,n);const h=c(l,["config"]);return h!=null&&BT(h,a,n),a}function JT(l,n){const a={},s=c(l,["name"]);return s!=null&&d(a,["_url","name"],s),a}function FT(l,n){const a={},s=c(l,["name"]);return s!=null&&d(a,["_url","name"],s),a}function XT(l,n,a){const s={},u=c(l,["pageSize"]);n!==void 0&&u!=null&&d(n,["_query","pageSize"],u);const m=c(l,["pageToken"]);n!==void 0&&m!=null&&d(n,["_query","pageToken"],m);const h=c(l,["filter"]);return n!==void 0&&h!=null&&d(n,["_query","filter"],h),s}function KT(l,n,a){const s={},u=c(l,["pageSize"]);n!==void 0&&u!=null&&d(n,["_query","pageSize"],u);const m=c(l,["pageToken"]);n!==void 0&&m!=null&&d(n,["_query","pageToken"],m);const h=c(l,["filter"]);return n!==void 0&&h!=null&&d(n,["_query","filter"],h),s}function QT(l,n){const a={},s=c(l,["config"]);return s!=null&&XT(s,a),a}function $T(l,n){const a={},s=c(l,["config"]);return s!=null&&KT(s,a),a}function ZT(l,n){const a={},s=c(l,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const u=c(l,["nextPageToken"]);u!=null&&d(a,["nextPageToken"],u);const m=c(l,["tunedModels"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(x=>_g(x))),d(a,["tuningJobs"],h)}return a}function WT(l,n){const a={},s=c(l,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const u=c(l,["nextPageToken"]);u!=null&&d(a,["nextPageToken"],u);const m=c(l,["tuningJobs"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(x=>Au(x))),d(a,["tuningJobs"],h)}return a}function eC(l,n){const a={},s=c(l,["name"]);s!=null&&d(a,["model"],s);const u=c(l,["name"]);return u!=null&&d(a,["endpoint"],u),a}function tC(l,n){const a={};if(c(l,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(l,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(l,["examples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(m=>m)),d(a,["examples","examples"],u)}return a}function nC(l,n,a){const s={};let u=c(a,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=c(l,["gcsUri"]);n!==void 0&&h!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(u==="PREFERENCE_TUNING"){const h=c(l,["gcsUri"]);n!==void 0&&h!=null&&d(n,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let m=c(a,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const h=c(l,["vertexDatasetResource"]);n!==void 0&&h!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(m==="PREFERENCE_TUNING"){const h=c(l,["vertexDatasetResource"]);n!==void 0&&h!=null&&d(n,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(c(l,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function _g(l,n){const a={},s=c(l,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const u=c(l,["name"]);u!=null&&d(a,["name"],u);const m=c(l,["state"]);m!=null&&d(a,["state"],rg(m));const h=c(l,["createTime"]);h!=null&&d(a,["createTime"],h);const x=c(l,["tuningTask","startTime"]);x!=null&&d(a,["startTime"],x);const y=c(l,["tuningTask","completeTime"]);y!=null&&d(a,["endTime"],y);const g=c(l,["updateTime"]);g!=null&&d(a,["updateTime"],g);const v=c(l,["description"]);v!=null&&d(a,["description"],v);const T=c(l,["baseModel"]);T!=null&&d(a,["baseModel"],T);const C=c(l,["_self"]);return C!=null&&d(a,["tunedModel"],eC(C)),a}function Au(l,n){const a={},s=c(l,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const u=c(l,["name"]);u!=null&&d(a,["name"],u);const m=c(l,["state"]);m!=null&&d(a,["state"],rg(m));const h=c(l,["createTime"]);h!=null&&d(a,["createTime"],h);const x=c(l,["startTime"]);x!=null&&d(a,["startTime"],x);const y=c(l,["endTime"]);y!=null&&d(a,["endTime"],y);const g=c(l,["updateTime"]);g!=null&&d(a,["updateTime"],g);const v=c(l,["error"]);v!=null&&d(a,["error"],v);const T=c(l,["description"]);T!=null&&d(a,["description"],T);const C=c(l,["baseModel"]);C!=null&&d(a,["baseModel"],C);const b=c(l,["tunedModel"]);b!=null&&d(a,["tunedModel"],b);const E=c(l,["preTunedModel"]);E!=null&&d(a,["preTunedModel"],E);const D=c(l,["supervisedTuningSpec"]);D!=null&&d(a,["supervisedTuningSpec"],D);const L=c(l,["preferenceOptimizationSpec"]);L!=null&&d(a,["preferenceOptimizationSpec"],L);const Y=c(l,["tuningDataStats"]);Y!=null&&d(a,["tuningDataStats"],Y);const U=c(l,["encryptionSpec"]);U!=null&&d(a,["encryptionSpec"],U);const P=c(l,["partnerModelTuningSpec"]);P!=null&&d(a,["partnerModelTuningSpec"],P);const V=c(l,["customBaseModel"]);V!=null&&d(a,["customBaseModel"],V);const z=c(l,["experiment"]);z!=null&&d(a,["experiment"],z);const W=c(l,["labels"]);W!=null&&d(a,["labels"],W);const Z=c(l,["outputUri"]);Z!=null&&d(a,["outputUri"],Z);const se=c(l,["pipelineJob"]);se!=null&&d(a,["pipelineJob"],se);const ie=c(l,["serviceAccount"]);ie!=null&&d(a,["serviceAccount"],ie);const ce=c(l,["tunedModelDisplayName"]);ce!=null&&d(a,["tunedModelDisplayName"],ce);const X=c(l,["veoTuningSpec"]);return X!=null&&d(a,["veoTuningSpec"],X),a}function lC(l,n){const a={},s=c(l,["sdkHttpResponse"]);s!=null&&d(a,["sdkHttpResponse"],s);const u=c(l,["name"]);u!=null&&d(a,["name"],u);const m=c(l,["metadata"]);m!=null&&d(a,["metadata"],m);const h=c(l,["done"]);h!=null&&d(a,["done"],h);const x=c(l,["error"]);return x!=null&&d(a,["error"],x),a}function vh(l,n){const a={},s=c(l,["gcsUri"]);s!=null&&d(a,["validationDatasetUri"],s);const u=c(l,["vertexDatasetResource"]);return u!=null&&d(a,["validationDatasetUri"],u),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iC extends cl{constructor(n){super(),this.apiClient=n,this.get=async a=>await this.getInternal(a),this.list=async(a={})=>new ra(ul.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(a),a),this.tune=async a=>{var s;if(this.apiClient.isVertexAI())if(a.baseModel.startsWith("projects/")){const u={tunedModelName:a.baseModel};!((s=a.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(u.checkpointId=a.config.preTunedModelCheckpointId);const m=Object.assign(Object.assign({},a),{preTunedModel:u});return m.baseModel=void 0,await this.tuneInternal(m)}else{const u=Object.assign({},a);return await this.tuneInternal(u)}else{const u=Object.assign({},a),m=await this.tuneMldevInternal(u);let h="";return m.metadata!==void 0&&m.metadata.tunedModel!==void 0?h=m.metadata.tunedModel:m.name!==void 0&&m.name.includes("/operations/")&&(h=m.name.split("/operations/")[0]),{name:h,state:Tu.JOB_STATE_QUEUED}}}}async getInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=FT(n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>Au(v))}else{const g=JT(n);return x=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>_g(v))}}async listInternal(n){var a,s,u,m;let h,x="",y={};if(this.apiClient.isVertexAI()){const g=$T(n);return x=ue("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=WT(v),C=new Wp;return Object.assign(C,T),C})}else{const g=QT(n);return x=ue("tunedModels",g._url),y=g._query,delete g._url,delete g._query,h=this.apiClient.request({path:x,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),h.then(v=>{const T=ZT(v),C=new Wp;return Object.assign(C,T),C})}}async cancel(n){var a,s,u,m;let h="",x={};if(this.apiClient.isVertexAI()){const y=zT(n);h=ue("{name}:cancel",y._url),x=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=GT(n);h=ue("{name}:cancel",y._url),x=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:x,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(m=n.config)===null||m===void 0?void 0:m.abortSignal})}}async tuneInternal(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI()){const x=YT(n,n);return m=ue("tuningJobs",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Au(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var a,s;let u,m="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const x=OT(n);return m=ue("tunedModels",x._url),h=x._query,delete x._url,delete x._query,u=this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>lC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aC{async download(n,a){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sC=1024*1024*8,oC=3,rC=1e3,uC=2,yu="x-goog-upload-status";async function cC(l,n,a){var s,u,m;let h=0,x=0,y=new Cu(new Response),g="upload";for(h=l.size;x<h;){const T=Math.min(sC,h-x),C=l.slice(x,x+T);x+T>=h&&(g+=", finalize");let b=0,E=rC;for(;b<oC&&(y=await a.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(x),"Content-Length":String(T)}}}),!(!((s=y==null?void 0:y.headers)===null||s===void 0)&&s[yu]));)b++,await fC(E),E=E*uC;if(x+=T,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[yu])!=="active")break;if(h<=x)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((m=y==null?void 0:y.headers)===null||m===void 0?void 0:m[yu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function dC(l){return{size:l.size,type:l.type}}function fC(l){return new Promise(n=>setTimeout(n,l))}class mC{async upload(n,a,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await cC(n,a,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await dC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pC{create(n,a,s){return new hC(n,a,s)}}class hC{constructor(n,a,s){this.url=n,this.headers=a,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sh="x-goog-api-key";class gC{constructor(n){this.apiKey=n}async addAuthHeaders(n,a){if(n.get(Sh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Sh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yC="gl-node/";class xC{constructor(n){var a;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(a=n.vertexai)!==null&&a!==void 0?a:!1,this.apiKey=n.apiKey;const s=Px(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const u=new gC(this.apiKey);this.apiClient=new lT({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:yC+"web",uploader:new mC,downloader:new aC}),this.models=new NT(this.apiClient),this.live=new gT(this.apiClient,u,new pC),this.batches=new n1(this.apiClient),this.chats=new k1(this.models,this.apiClient),this.caches=new D1(this.apiClient),this.files=new O1(this.apiClient),this.operations=new bT(this.apiClient),this.authTokens=new qT(this.apiClient),this.tunings=new iC(this.apiClient)}}const ei=new xC({apiKey:"PLACEHOLDER_API_KEY"}),ti="gemini-2.5-flash",vC=async l=>{try{return(await ei.models.generateContent({model:ti,contents:`User's symptoms: ${l}`,config:{systemInstruction:`You are a helpful AI assistant for a senior care platform. Your role is to provide general, easy-to-understand information based on user-described symptoms. You must not provide a diagnosis or medical advice.

Your response must start with the following disclaimer, exactly as written:
"**Disclaimer:** This information is for educational purposes only and is not a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition."

After the disclaimer, provide some general information about potential causes for the described symptoms and suggest next steps, such as monitoring symptoms, lifestyle adjustments, or when it would be appropriate to consult a doctor. Keep your language simple and reassuring.`}})).text}catch(n){return console.error("Error calling Gemini API:",n),"An error occurred while trying to get information. Please check your connection or try again later."}},SC=async l=>{try{const n="You are a nutritional expert AI for a senior care app. Your task is to analyze an image of a meal and determine if it's a healthy choice for a senior citizen. Provide a rating from 1 to 5 stars (1=very unhealthy, 5=very healthy). Provide a short, encouraging, and easy-to-understand feedback message (max 25 words). Determine if the meal is generally healthy (true/false). You must respond ONLY with the specified JSON object.",a={inlineData:{mimeType:"image/jpeg",data:l}},u=(await ei.models.generateContent({model:ti,contents:{parts:[a]},config:{systemInstruction:n,responseMimeType:"application/json",responseSchema:{type:Ge.OBJECT,properties:{isHealthy:{type:Ge.BOOLEAN,description:"Whether the meal is generally healthy."},rating:{type:Ge.INTEGER,description:"A rating from 1 to 5."},feedback:{type:Ge.STRING,description:"Short, encouraging feedback."}},required:["isHealthy","rating","feedback"]}}})).text.trim();return JSON.parse(u)}catch(n){throw console.error("Error calling Gemini API for meal analysis:",n),new Error("An error occurred while analyzing the meal. Please try again.")}},TC=async(l,n)=>{const u=n==="hi-IN"?`आप 'इको' नामक एक निजी, एआई-संचालित चैट डायरी हैं, जिसे एक बुजुर्ग उपयोगकर्ता के लिए डिज़ाइन किया गया है। आपका व्यक्तित्व सहानुभूतिपूर्ण, गैर-निर्णयात्मक, बुद्धिमान और सौम्य है। आप उपयोगकर्ता के लिए कुछ भी साझा करने के लिए एक सुरक्षित स्थान हैं।

आपके प्राथमिक लक्ष्य हैं:
1.  **सहानुभूतिपूर्वक सुनें:** उपयोगकर्ता जो कहता है उसे स्वीकार करें और दिखाएं कि आप समझते हैं। गर्मजोशी और करुणा के साथ जवाब दें।
2.  **मूड लॉग स्वीकार करें:** उपयोगकर्ता संदेश के साथ अपना मूड (जैसे, 'Happy' के लिए 'खुश', 'Sad' के लिए 'दुखी') और 1-5 स्टार रेटिंग लॉग कर सकता है। जब वे ऐसा करते हैं, तो अपनी प्रतिक्रिया में इसे धीरे से स्वीकार करें। उदाहरण के लिए, यदि वे 'Happy (5/5)' लॉग करते हैं और कहते हैं 'आज पोते-पोतियों से मिला', तो आप कह सकते हैं, 'यह सुनकर बहुत अच्छा लगा! यह तो 5-स्टार वाला खुशनुमा दिन था। ऐसा लगता है कि आपके पोते-पोतियों से मिलकर आपको बहुत खुशी हुई।'
3.  **चिंतन को प्रोत्साहित करें:** उपयोगकर्ता को उनकी भावनाओं को समझने में मदद करने के लिए सौम्य, खुले प्रश्न पूछें, लेकिन दबाव न डालें।
4.  **सौम्य सुझाव दें:** यदि उपयोगकर्ता उदासी, अकेलापन या तनाव व्यक्त करता है, तो आप सरल, सुरक्षित सुझाव दे सकते हैं (जैसे, संगीत सुनना, तस्वीरें देखना)।
5.  **गोपनीयता और सुरक्षा बनाए रखें:** उन्हें उनकी गोपनीयता का आश्वासन दें। चिकित्सा, वित्तीय या जीवन संबंधी सलाह न दें।
6.  **संदर्भ और स्मृति बनाए रखें:** यह आपका सबसे महत्वपूर्ण कार्य है। आपको बातचीत के पहले के विवरणों को याद रखना होगा। उपयोगकर्ता द्वारा साझा किए गए विशिष्ट लोगों (जैसे, 'एलेक्स' जैसे परिवार के सदस्य), घटनाओं और भावनाओं का संदर्भ लें। इस स्मृति का उपयोग करके अनुवर्ती प्रश्न पूछें और उपयोगकर्ता को यह महसूस कराएं कि उसे समय के साथ सुना और समझा जा रहा है। उदाहरण के लिए, यदि उन्होंने उल्लेख किया कि उनका पोता एलेक्स बीमार था, तो आप बाद में पूछ सकते हैं, "मुझे याद है आपने बताया था कि आपका पोता एलेक्स अस्वस्थ था। अब वह कैसा है?"। यह एक निरंतर, व्यक्तिगत और सहायक संवाद बनाता है।

अपने जवाब संक्षिप्त, आरामदायक और पढ़ने में आसान रखें। आपको हमेशा हिंदी में ही जवाब देना है।`:`You are a private, AI-powered chat companion designed to act as a secret diary for an elderly user. Your name is 'Echo'. Your personality is empathetic, non-judgmental, wise, and gentle. You are a safe space for the user to share anything.

Your primary goals are:
1.  **Listen Actively & Empathetically:** Acknowledge what the user says and show you understand. Respond with warmth and compassion.
2.  **Acknowledge Mood Logs:** The user may log their mood (e.g., 'Happy', 'Sad') and a 1-5 star rating with their message. When they do, gently acknowledge it in your response. For example, if they log 'Happy (5/5)' and say 'Saw my grandkids', you could say 'That's wonderful! A 5-star happy day. It sounds like seeing your grandkids brought you so much joy.' Or if they log 'Sad (2/5)' and say 'Feeling lonely', you could say 'I'm sorry to hear you're feeling a 2-star sad today. It's completely okay to feel that way, and I'm here to listen.'
3.  **Encourage Reflection:** Ask gentle, open-ended questions to help the user explore their feelings, but don't be pushy.
4.  **Offer Gentle Suggestions:** If the user expresses sadness, loneliness, or stress, you can offer simple, safe suggestions (e.g., listening to music, looking at photos, simple breathing exercises). Phrase them as gentle questions ("Perhaps...", "Would you like to...?").
5.  **Maintain Privacy & Safety:** Reassure them of their privacy. Do not provide medical, financial, or life advice. If they mention severe distress, gently suggest that talking to a trusted person, family member, or professional might be helpful.
6.  **MAINTAIN CONTEXT AND MEMORY:** This is your most critical function. You MUST remember details from earlier in the conversation. Refer back to specific people (e.g., family members like 'Alex'), events, and feelings the user has shared. Use this memory to ask follow-up questions and make the user feel heard and understood over time. For example, if they mentioned their grandson Alex was sick, you could later ask, "I remember you mentioned your grandson Alex was unwell. How is he doing now?". This creates a continuous, personal, and supportive dialogue.
        
Keep your responses concise, comforting, and easy to read. You must always respond in English.`;try{if(!l||l.length===0)return n==="hi-IN"?"नमस्ते! आप कैसा महसूस कर रहे हैं? मुझे बताएं।":"Hello! How are you feeling? Tell me anything.";const m=l[l.length-1],h=l.map(y=>{let g=y.text;return y.id===m.id&&y.sender==="user"&&y.mood&&y.rating&&(g=`The user is feeling ${y.mood} (rated ${y.rating}/5). They wrote: "${y.text}"`),{role:y.sender==="user"?"user":"model",parts:[{text:g}]}});return(await ei.models.generateContent({model:ti,contents:h,config:{systemInstruction:u}})).text}catch(m){return console.error("Error calling Gemini API for diary response:",m),n==="hi-IN"?"माफ़ कीजिए, मुझे अभी सोचने में थोड़ी परेशानी हो रही है। कृपया थोड़ी देर में फिर से बताने का प्रयास करें।":"I's sorry, I'm having a little trouble thinking right now. Please try telling me again in a moment."}},Ag={name:"addReminder",parameters:{type:Ge.OBJECT,description:'Schedules a medication reminder for a user on a specific date and time. Use this for any requests to create a reminder, such as "Remind me to take my pills at 8pm" or "Add a reminder for Paracetamol tomorrow morning".',properties:{title:{type:Ge.STRING,description:'The name of the medication or reminder. Example: "Metformin 500mg", "Heart pill", "Dolo tablet"'},date:{type:Ge.STRING,description:`The date for the reminder in YYYY-MM-DD format. Infer this from user input. If the user says "tonight" or "this evening", it's today. If they say "tomorrow", it's the next calendar date. If no date is mentioned, assume today.`},time:{type:Ge.STRING,description:'The time for the reminder in 24-hour HH:mm format. Infer this from user input (e.g., "9pm" is "21:00", "8:30 am" is "08:30").'},mealContext:{type:Ge.STRING,description:"Specifies if the medication should be taken before or after a meal. Infer this from the user's phrasing if available.",enum:["Before Meal","After Meal"]}},required:["title","date","time"]}},CC=l=>({name:"navigate",parameters:{type:Ge.OBJECT,description:"Navigates to a different page or view in the application.",properties:{view:{type:Ge.STRING,description:"The destination view to navigate to.",enum:l}},required:["view"]}}),NC={name:"call_sos",parameters:{type:Ge.OBJECT,description:"Triggers an emergency SOS alert for the user. Only use if the user explicitly asks for help or mentions an emergency.",properties:{}}},bC={name:"read_reminders",parameters:{type:Ge.OBJECT,description:"Reads the user's upcoming medication or appointment reminders aloud.",properties:{}}},Th={"en-US":{navigate:l=>[`Sure, going to ${l} now.`,`Okay, opening the ${l} page.`],call_sos:()=>["Activating SOS now. Emergency alert triggered."],unknown:()=>["Sorry, I didn't understand that.","I'm not sure how to help with that."]},"hi-IN":{navigate:l=>[`ज़रूर, ${l} पर जा रहे हैं।`,`ठीक है, ${l} पेज खोल रहे हैं।`],call_sos:()=>["अभी एसओएस सक्रिय किया जा रहा है। आपातकालीन चेतावनी चालू हो गई है।"],unknown:()=>["माफ़ कीजिए, मैं यह समझ नहीं पाई।","मैं इसमें आपकी मदद कैसे कर सकती हूँ, यह मुझे यकीन नहीं है।"]},"ta-IN":{navigate:l=>[`நிச்சயமாக, இப்போது ${l}க்குச் செல்கிறேன்.`,`சரி, ${l} பக்கத்தைத் திறக்கிறேன்.`],call_sos:()=>["SOS இப்போது செயல்படுத்தப்படுகிறது. அவசர எச்சரிக்கை இயக்கப்பட்டது."],unknown:()=>["மன்னிக்கவும், எனக்கு அது புரியவில்லை.","அதில் எப்படி உதவுவது என்று எனக்குத் தெரியவில்லை."]}},xu=l=>l[Math.floor(Math.random()*l.length)],EC=async(l,n,a,s,u,m)=>{const h=[CC(n)];u==="patient"&&(h.push(Ag),h.push(NC),h.push(bC));const x=`You are a voice command assistant for a senior care app. The user is speaking ${s}.
- Your primary goal is to understand the user's command and call the appropriate function.
- If the user asks to navigate, go to a page, or open a section, use the 'navigate' function.
- If the user wants to add, create, or set a reminder for medication (e.g., "Remind me to take my pill at 9 PM", "add a reminder for Dolo tablet at 8:30 AM"), you MUST use the 'addReminder' function.
- If the user explicitly asks for help, SOS, or mentions an emergency, use the 'call_sos' function.
- If the user asks to hear their reminders, use the 'read_reminders' function.
- If the command is a general question, a greeting, or something you cannot perform with a function, do NOT call any function. Instead, provide a short, helpful, conversational response in ${s}.`;try{const y=await ei.models.generateContent({model:ti,contents:`User command: "${l}"`,config:{systemInstruction:x,tools:[{functionDeclarations:h}],thinkingConfig:{thinkingBudget:0}}}),g=Th[a]||Th["en-US"];if(y.functionCalls&&y.functionCalls.length>0){const T=y.functionCalls[0];switch(T.name){case"addReminder":{const{title:C,date:b,time:E,mealContext:D}=T.args;let L="";if(a==="hi-IN")L=`ठीक है, मैंने ${C} के लिए ${E} बजे का रिमाइंडर जोड़ दिया है।`;else if(a==="ta-IN")L=`சரி, ${C}க்கு ${E} மணிக்கு நினைவூட்டலைச் சேர்த்துள்ளேன்.`;else{const Y=new Date(`1970-01-01T${E}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});L=`Okay, I've added a reminder for ${C} at ${Y}.`}return{action:"add_reminder",payload:{title:C,date:b,time:E,mealContext:D,patientId:m},response:L}}case"navigate":{const{view:C}=T.args;return{action:"navigate",payload:C,response:xu(g.navigate(C))}}case"call_sos":return{action:"call_sos",response:xu(g.call_sos())};case"read_reminders":return{action:"read_reminders",response:""}}}const v=y.text.trim();return{action:v?"answer_question":"unknown",response:v||xu(g.unknown())}}catch(y){throw console.error("Error calling Gemini API for voice command:",y),new Error("API call for voice command failed.")}},wC=async(l,n,a)=>{const s=`You are a voice assistant inside a medication reminder alert. The user is currently being alerted for a medication. They can speak to you to add a new reminder or confirm they have taken the current medication. You are interacting in ${a}.

Your tasks are:
1.  **Parse New Reminder Requests:** If the user asks to add a new reminder (e.g., "Also add a reminder for Paracetamol at 9 PM"), use the 'addReminder' tool to extract the medication name ('title'), date ('YYYY-MM-DD'), time (in HH:mm format), and meal context if provided.
2.  **Parse Confirmation:** If the user says something like "Okay, I've taken it" or "Done" or "हाँ, ले ली", you must not use the tool.
3.  **Handle Other Queries:** If the command is unclear, you must not use the tool.

- Infer the time accurately. "Tonight at 9" means "21:00". "Morning at 8" means "08:00".
- Infer the date. If not specified, assume today. "Tomorrow" is the next day.
`;try{const u=await ei.models.generateContent({model:ti,contents:`User command: "${l}"`,config:{systemInstruction:s,tools:[{functionDeclarations:[Ag]}]}});if(u.functionCalls&&u.functionCalls.length>0){const y=u.functionCalls[0];if(y.name==="addReminder"&&y.args){const{title:g,date:v,time:T,mealContext:C}=y.args;let b="";if(n==="hi-IN")b=`ठीक है, मैंने ${g} के लिए ${T} बजे का रिमाइंडर जोड़ दिया है।`;else{const E=new Date(`1970-01-01T${T}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});b=`Okay, I've added a reminder for ${g} at ${E}.`}return{action:"add_reminder",payload:{title:g,date:v,time:T,mealContext:C},response:b}}}const m=`You are a command classifier for a reminder alert. Classify the user's command in ${a} into 'confirm_taken' or 'unknown'. Respond ONLY with a JSON object.
- If the user says "Okay", "Done", "I took it", "हाँ, ले ली", etc., classify as 'confirm_taken'.
- Otherwise, classify as 'unknown'.
The 'response' field should be a natural language confirmation in ${a}.`,h=await ei.models.generateContent({model:ti,contents:`User command: "${l}"`,config:{systemInstruction:m,responseMimeType:"application/json",responseSchema:{type:Ge.OBJECT,properties:{action:{type:Ge.STRING,enum:["confirm_taken","unknown"]},response:{type:Ge.STRING}},required:["action","response"]}}}),x=JSON.parse(h.text.trim());return{action:x.action,response:x.response}}catch(u){return console.error("Error calling Gemini API for reminder action:",u),{action:"unknown",response:n==="hi-IN"?"माफ़ कीजिए, मैं समझ नहीं पाई। कृपया फिर से प्रयास करें।":"I'm sorry, I didn't understand. Please try again."}}},_C={"en-US":"EN","hi-IN":"HI"},Ch=window.SpeechRecognition||window.webkitSpeechRecognition;let st=null;Ch&&(st=new Ch,st.continuous=!1,st.interimResults=!1);const AC=({reminder:l,onMarkAsTaken:n,onAddReminder:a})=>{var V;const s=M.useRef(null),u=M.useRef(!1),[m,h]=M.useState(!1),[x,y]=M.useState("en-US"),[g,v]=M.useState(!1),[T,C]=M.useState(!1),[b,E]=M.useState("");M.useEffect(()=>{if(l){if(s.current||(s.current=new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"),s.current.loop=!0),s.current.play().catch(z=>{console.warn("Audio playback was prevented by the browser. A user interaction is required.",z)}),!u.current){const z=new Date(`1970-01-01T${l.time}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),W=`Reminder. It is time for your medication: ${l.title}, scheduled for ${z}.`,Z=new SpeechSynthesisUtterance(W);Z.lang="en-US",Z.onerror=se=>{se.error==="canceled"||se.error==="interrupted"||console.error("SpeechSynthesisUtterance.onerror for initial alert:",se.error,se)};try{window.speechSynthesis.speak(Z)}catch(se){console.error("Error calling speechSynthesis.speak for reminder alert:",se)}u.current=!0}}else s.current&&(s.current.pause(),s.current.currentTime=0),window.speechSynthesis.cancel(),u.current=!1,h(!1),E(""),v(!1),C(!1),st!=null&&st.stop&&st.stop();return()=>{s.current&&(s.current.pause(),s.current.currentTime=0),window.speechSynthesis.cancel()}},[l]);const D=(z,W)=>{window.speechSynthesis.cancel(),E(z);const Z=new SpeechSynthesisUtterance(z);Z.lang=x,Z.onend=()=>{C(!1)},Z.onerror=se=>{if(se.error==="canceled"||se.error==="interrupted"){C(!1);return}console.error("SpeechSynthesisUtterance.onerror in AlarmModal chatbot:",se.error,se);let ie;const ce=x==="hi-IN"?"Hindi":"English";switch(se.error){case"network":ie="I couldn't speak due to a network issue.";break;case"language-unavailable":ie=`Sorry, I can't speak ${ce} on this device.`;break;case"synthesis-failed":ie="Sorry, my voice failed to start.";break;case"audio-busy":ie="My voice is busy right now.";break;case"audio-hardware":case"synthesis-unavailable":case"voice-unavailable":case"text-too-long":case"invalid-argument":default:ie="An unexpected voice error occurred.";break}E(ie),C(!1)};try{window.speechSynthesis.speak(Z)}catch(se){console.error("Error calling speechSynthesis.speak in alarm chatbot:",se),E("An unexpected error occurred with the voice feature."),C(!1)}},L=z=>{switch(D(z.response),z.action){case"add_reminder":l&&z.payload&&z.payload.title&&z.payload.time&&a({patientId:l.patientId,title:z.payload.title,date:z.payload.date,time:z.payload.time,mealContext:z.payload.mealContext});break;case"confirm_taken":l&&n(l.id);break}},Y=async z=>{C(!0),E("Thinking...");const W=x==="hi-IN"?"Hindi":"English";try{const Z=await wC(z,x,W);L(Z)}catch(Z){console.error("Failed to process reminder command:",Z),D("Sorry, something went wrong. Please try again.")}};M.useEffect(()=>{st&&(st.onstart=()=>v(!0),st.onend=()=>v(!1),st.onerror=z=>{console.error("Speech recognition error:",z.error),v(!1),z.error!=="no-speech"&&E("Sorry, I couldn't hear you. Please try again.")},st.onresult=z=>{const W=z.results[0][0].transcript;W&&Y(W)})},[x,l]);const U=()=>{if(!st){alert("Voice recognition is not supported on this browser.");return}if(g||T)st.stop(),v(!1);else try{st.lang=x,st.start()}catch(z){console.error("Could not start recognition:",z)}};if(!l)return null;const P=()=>{n(l.id)};return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full m-4 text-center transform transition-all animate-fade-in-up",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-yellow-100 mb-6",children:r.jsx(Ex,{})}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Time for your medication!"}),r.jsx("p",{className:"text-2xl font-bold text-teal-700",children:l.title}),r.jsxs("p",{className:"text-lg text-gray-600 mb-8 mt-2",children:["It's ",l.time," - Time to take it ",(V=l.mealContext)==null?void 0:V.toLowerCase(),"."]}),r.jsx("button",{onClick:P,className:"w-full bg-teal-600 hover:bg-teal-700 text-white font-bold py-4 px-6 rounded-lg text-xl transition-colors duration-200",children:"I've Taken It"}),r.jsx("div",{className:"mt-6 border-t pt-6",children:m?r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-lg text-gray-700 h-8 flex items-center justify-center",children:T?r.jsx(ni,{className:"h-6 w-6 mx-auto animate-pulse text-blue-500"}):b}),r.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[r.jsx("div",{className:"flex rounded-lg bg-gray-100 p-1",children:Object.entries(_C).map(([z,W])=>r.jsx("button",{onClick:()=>y(z),disabled:g||T,className:`px-3 py-1 text-sm font-bold rounded-md transition-colors ${x===z?"bg-white text-teal-700 shadow-sm":"text-gray-500"}`,children:W},z))}),r.jsxs("button",{onClick:U,disabled:!st,className:`h-16 w-16 rounded-full text-white shadow-lg flex items-center justify-center transition-colors relative ${g?"bg-red-500":"bg-teal-600"} disabled:bg-gray-400 disabled:cursor-not-allowed`,children:[r.jsx(rl,{className:"h-8 w-8"}),g&&r.jsx("span",{className:"absolute h-full w-full rounded-full bg-red-500 animate-ping-slow opacity-75"})]})]})]}):r.jsxs("button",{onClick:()=>{h(!0),E(x==="hi-IN"?"मैं कैसे मदद कर सकती हूँ?":"How can I help?")},className:"flex items-center justify-center w-full text-lg font-semibold text-gray-600 hover:text-teal-700 transition-colors",children:[r.jsx(rl,{className:"h-6 w-6 mr-2"}),"Add or confirm by voice"]})})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% {
            opacity: 0;
            transform: translateY(20px);
          }
          100% {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
        @keyframes ring {
          0%, 100% { transform: rotate(0); }
          10%, 30%, 50%, 70%, 90% { transform: rotate(-10deg); }
          20%, 40%, 60%, 80% { transform: rotate(10deg); }
        }
        .animate-ring {
            animation: ring 1s ease-in-out infinite;
        }
        @keyframes ping-slow { 75%, 100% { transform: scale(1.8); opacity: 0; } }
        .animate-ping-slow { animation: ping-slow 1.5s cubic-bezier(0, 0, 0.2, 1) infinite; }
      `})]})},Nh={"en-US":"English","hi-IN":"हिन्दी","ta-IN":"தமிழ்"},Ot={"en-US":{navigate:l=>[`Sure, going to ${l} now.`,`Okay, opening the ${l} page.`,`Here is the ${l} section.`],call_sos:()=>["Activating SOS now.","Emergency alert triggered. Help is on the way.","Contacting emergency services for you."],read_reminders:l=>[`You have a few reminders coming up: ${l}.`,`Here are your next reminders: ${l}.`,`Okay, your upcoming reminders are: ${l}.`],no_reminders:()=>["You have no upcoming reminders."],sos_unavailable:()=>["The SOS feature is only available for patients."],reminders_unavailable:()=>["You can view patient reminders from the schedule or patient records page."],mic_permission:()=>["Microphone access is disabled. Please enable it in your browser settings to use voice commands."],no_speech:()=>["I didn't hear anything. Please try again.","Sorry, I couldn't hear you. Can you speak up?","I missed that. Could you say it again?"],network_error:()=>["I can't seem to connect. Please check your internet connection."],recognition_error:()=>["I had trouble understanding. Please try speaking again.","Sorry, I couldn't catch that. Could you repeat it?"],synthesis_error:()=>["Sorry, my voice isn't working right now. Please try again in a bit."],synthesis_network:()=>["I couldn't speak due to a network issue. Please check your connection."],language_unavailable:()=>["Sorry, I can't speak that language on this device."],synthesis_failed:()=>["Sorry, I couldn't speak that for some reason. Please try again."],audio_busy:()=>["It seems my voice is busy. Please wait a moment and try again."],unsupported:()=>["Sorry, voice commands are not supported on this browser."]},"hi-IN":{navigate:l=>[`ज़रूर, ${l} पर जा रहे हैं।`,`ठीक है, ${l} पेज खोल रहे हैं।`,`यह रहा ${l} सेक्शन।`],call_sos:()=>["अभी एसओएस सक्रिय किया जा रहा है।","आपातकालीन चेतावनी चालू हो गई है। मदद रास्ते में है।","आपके लिए आपातकालीन सेवाओं से संपर्क किया जा रहा है।"],read_reminders:l=>[`आपके कुछ रिमाइंडर आने वाले हैं: ${l}।`,`यहां आपके अगले रिमाइंडर हैं: ${l}।`,`ठीक है, आपके आने वाले रिमाइंडर हैं: ${l}।`],no_reminders:()=>["आपके पास कोई आगामी रिमाइंडर नहीं है।"],sos_unavailable:()=>["एसओएस सुविधा केवल रोगियों के लिए उपलब्ध है।"],reminders_unavailable:()=>["आप शेड्यूल या रोगी रिकॉर्ड पेज से रोगी रिमाइंडर देख सकते हैं।"],mic_permission:()=>["माइक्रोफ़ोन एक्सेस अक्षम है। कृपया वॉयस कमांड का उपयोग करने के लिए इसे अपनी ब्राउज़र सेटिंग्स में सक्षम करें।"],no_speech:()=>["मैंने कुछ नहीं सुना। कृपया दोबारा प्रयास करें।","माफ़ कीजिए, मैं आपको सुन नहीं सकी। क्या आप ज़ोर से बोल सकते हैं?","मैंने वह नहीं सुना। क्या आप उसे दोबारा कह सकते हैं?"],network_error:()=>["मैं कनेक्ट नहीं कर पा रही हूँ। कृपया अपना इंटरनेट कनेक्शन जांचें।"],recognition_error:()=>["मुझे समझने में कठिनाई हुई। कृपया दोबारा बोलने का प्रयास करें।","माफ़ कीजिए, मैं सुन नहीं सकी। क्या आप दोहरा सकते हैं?"],synthesis_error:()=>["क्षमा करें, मेरी आवाज़ अभी काम नहीं कर रही है। कृपया थोड़ी देर में पुनः प्रयास करें।"],synthesis_network:()=>["नेटवर्क समस्या के कारण मैं बोल नहीं सकी। कृपया अपना कनेक्शन जांचें।"],language_unavailable:()=>["क्षमा करें, मैं इस डिवाइस पर वह भाषा नहीं बोल सकती।"],synthesis_failed:()=>["क्षमा करें, मैं किसी कारण से वह नहीं बोल सकी। कृपया पुनः प्रयास करें।"],audio_busy:()=>["ऐसा लगता है कि मेरी आवाज़ व्यस्त है। कृपया एक क्षण प्रतीक्षा करें और पुनः प्रयास करें।"],unsupported:()=>["क्षमा करें, इस ब्राउज़र पर वॉयस कमांड समर्थित नहीं हैं।"]},"ta-IN":{navigate:l=>[`நிச்சயமாக, இப்போது ${l}க்குச் செல்கிறேன்.`,`சரி, ${l} பக்கத்தைத் திறக்கிறேன்.`,`இதோ ${l} பிரிவு.`],call_sos:()=>["SOS இப்போது செயல்படுத்தப்படுகிறது.","அவசர எச்சரிக்கை இயக்கப்பட்டது। உதவி வரும் வழியில் உள்ளது.","உங்களுக்காக அவசர சேவைகளைத் தொடர்புகொள்கிறோம்."],read_reminders:l=>[`உங்களுக்கு சில நினைவூட்டல்கள் வரவுள்ளன: ${l}.`,`உங்கள் அடுத்த நினைவூட்டல்கள் இங்கே: ${l}.`,`சரி, உங்கள் வரவிருக்கும் நினைவூட்டல்கள்: ${l}.`],no_reminders:()=>["உங்களுக்கு வரவிருக்கும் நினைவூட்டல்கள் எதுவும் இல்லை."],sos_unavailable:()=>["SOS அம்சம் நோயாளிகளுக்கு மட்டுமே கிடைக்கும்."],reminders_unavailable:()=>["நீங்கள் நோயாளியின் நினைவூட்டல்களை அட்டவணை அல்லது நோயாளி பதிவுகள் பக்கத்திலிருந்து பார்க்கலாம்."],mic_permission:()=>["மைக்ரோஃபோன் அணுகல் முடக்கப்பட்டுள்ளது. குரல் கட்டளைகளைப் பயன்படுத்த உங்கள் உலாவி அமைப்புகளில் அதை இயக்கவும்."],no_speech:()=>["நான் எதுவும் கேட்கவில்லை. தயவுசெய்து மீண்டும் முயற்சிக்கவும்.","மன்னிக்கவும், உங்கள் குரல் கேட்கவில்லை. சத்தமாக பேச முடியுமா?","நான் அதை தவறவிட்டேன். மீண்டும் சொல்ல முடியுமா?"],network_error:()=>["என்னால் இணைக்க முடியவில்லை. உங்கள் இணைய இணைப்பைச் சரிபார்க்கவும்."],recognition_error:()=>["எனக்கு புரிந்து கொள்வதில் சிக்கல் ஏற்பட்டது. தயவுசெய்து மீண்டும் பேச முயற்சிக்கவும்.","மன்னிக்கவும், என்னால் அதைப் பிடிக்க முடியவில்லை. நீங்கள் அதை மீண்டும் சொல்ல முடியுமா?"],synthesis_error:()=>["மன்னிக்கவும், எனது குரல் இப்போது வேலை செய்யவில்லை. சிறிது நேரத்தில் மீண்டும் முயற்சிக்கவும்."],synthesis_network:()=>["நெட்வொர்க் சிக்கல் காரணமாக என்னால் பேச முடியவில்லை. உங்கள் இணைப்பைச் சரிபார்க்கவும்."],language_unavailable:()=>["மன்னிக்கவும், இந்தச் சாதனத்தில் என்னால் அந்த மொழியைப் பேச முடியாது."],synthesis_failed:()=>["மன்னிக்கவும், சில காரணங்களால் என்னால் அதைப் பேச முடியவில்லை. தயவுசெய்து மீண்டும் முயற்சிக்கவும்."],audio_busy:()=>["என் குரல் பிஸியாக இருப்பதாகத் தெரிகிறது. தயவுசெய்து ஒரு கணம் காத்திருந்து மீண்டும் முயற்சிக்கவும்."],unsupported:()=>["மன்னிக்கவும், இந்த உலாவியில் குரல் கட்டளைகள் ஆதரிக்கப்படவில்லை."]}},$e=l=>l[Math.floor(Math.random()*l.length)],MC=(l,n)=>{const a={medication:`${l.title} at ${l.time}`,appointment:`an appointment for ${l.title} at ${l.time}`};if(n==="hi-IN"){const h=`${l.time.replace(/Tomorrow/i,"कल").replace(/Today/i,"आज").replace(/AM/i,"सुबह").replace(/PM/i,"शाम")}`;return l.type==="Medication"?`${l.title} ${h}`:`${h} ${l.title} के लिए अपॉइंटमेंट`}const u={"ta-IN":{medication:`${l.title} ${l.time} மணிக்கு`,appointment:`${l.title}க்கான அப்பாயிண்ட்மெண்ட் ${l.time} மணிக்கு`}}[n]||a;return l.type==="Medication"?u.medication:u.appointment},RC=(l,n)=>{if(l.length===0)return"";if(l.length===1)return l[0];const a={"en-US":", and ","hi-IN":" और ","ta-IN":" மற்றும் "},s=l.pop();return l.join(", ")+(a[n]||a["en-US"])+s},bh=window.SpeechRecognition||window.webkitSpeechRecognition;let et=null;bh&&(et=new bh,et.continuous=!1,et.interimResults=!1,et.maxAlternatives=1);const Eh=({setActiveView:l,onSosClick:n,reminders:a,userName:s,availableViews:u,currentUserId:m,role:h,onAddReminder:x})=>{const[y,g]=M.useState(!1),[v,T]=M.useState(!1),[C,b]=M.useState(!!et),[E,D]=M.useState(""),[L,Y]=M.useState("en-US"),[U,P]=M.useState([]),[V,z]=M.useState(!1);M.useEffect(()=>{const X=()=>{const ae=window.speechSynthesis.getVoices();ae.length>0&&P(ae)};return window.speechSynthesis.onvoiceschanged=X,X(),()=>{window.speechSynthesis.onvoiceschanged=null}},[]),M.useEffect(()=>{const X=setInterval(()=>{window.speechSynthesis&&window.speechSynthesis.resume()},5e3);return()=>{clearInterval(X)}},[]),M.useEffect(()=>{if(E){const X=setTimeout(()=>{D("")},5e3);return()=>clearTimeout(X)}},[E]);const W=(X,ae,re)=>{window.speechSynthesis.cancel(),D(X);let ee=X;if(ae==="en-US"||(["hi-IN"].includes(ae)?ee=ee.replace(/[.?!]/g,"।"):ee=ee.replace(/[?!]/g,".")),ee=ee.trim(),!ee||ee==="।"||ee==="."){re?re():T(!1);return}const te=new SpeechSynthesisUtterance(ee);te.lang=ae;const I=U.find($=>$.lang===ae)||U.find($=>$.lang.startsWith(ae.split("-")[0]));I&&(te.voice=I),te.onend=()=>{re?re():T(!1)},te.onerror=$=>{if($.error==="canceled"||$.error==="interrupted"){re?re():T(!1);return}console.error("SpeechSynthesisUtterance.onerror:",$.error,$);const J=Ot[L]||Ot["en-US"];let F;switch($.error){case"network":F=$e(J.synthesis_network());break;case"language-unavailable":F=$e(J.language_unavailable());break;case"synthesis-failed":F=$e(J.synthesis_failed());break;case"audio-busy":F=$e(J.audio_busy());break;default:F=$e(J.synthesis_error());break}D(F),re?re():T(!1)};try{window.speechSynthesis.speak(te)}catch($){console.error("Error calling window.speechSynthesis.speak:",$);const J=Ot[L]||Ot["en-US"];D($e(J.synthesis_error())),re?re():T(!1)}},Z=X=>{let ae=X.response;const re=Ot[L]||Ot["en-US"];switch(X.action){case"navigate":X.payload&&typeof X.payload=="string"&&u.includes(X.payload)&&(ae=$e(re.navigate(X.payload)),l(X.payload));break;case"call_sos":h==="patient"?(ae=$e(re.call_sos()),n()):ae=$e(re.sos_unavailable());break;case"read_reminders":if(h!=="patient"){ae=$e(re.reminders_unavailable());break}const ee=a.filter(te=>te.patientId===m&&!te.taken).slice(0,2);if(ee.length===0)ae=$e(re.no_reminders());else{const te=ee.map($=>MC($,L)),I=RC(te,L);ae=$e(re.read_reminders(I))}break;case"add_reminder":if(h==="patient"&&x&&X.payload&&typeof X.payload=="object"&&"title"in X.payload&&"time"in X.payload&&"date"in X.payload){const{title:te,time:I,date:$,mealContext:J,patientId:F}=X.payload;x({title:te,time:I,date:$,mealContext:J,patientId:F})}else ae||(ae="I've added that reminder for you.");break}W(ae,L)},se=async X=>{T(!0);const ae=Nh[L]||"English";try{const re=await EC(X,u,L,ae,h,m);Z(re)}catch(re){console.error("Failed to process voice command:",re);const ee=Ot[L]||Ot["en-US"];let te=$e(ee.recognition_error());re.message.includes("API")&&(te=$e(ee.network_error())),W(te,L)}};M.useEffect(()=>{if(et)return et.onstart=()=>{g(!0),T(!1)},et.onresult=X=>{const ae=X.results[0][0].transcript;ae&&se(ae)},et.onend=()=>{g(!1)},et.onerror=X=>{console.error("Speech recognition error:",X.error),g(!1),T(!1);const ae=Ot[L]||Ot["en-US"];let re=$e(ae.recognition_error());switch(X.error){case"not-allowed":re=$e(ae.mic_permission()),b(!1);break;case"no-speech":re=$e(ae.no_speech());break;case"network":re=$e(ae.network_error());break}W(re,L)},()=>{et&&et.stop(),window.speechSynthesis.cancel()}},[L,m,a,x]);const ie={"en-US":`Hi ${s}, how can I help?`,"hi-IN":`नमस्ते ${s}, मैं आपकी कैसे मदद कर सकती हूँ?`,"ta-IN":`வணக்கம் ${s}, நான் உங்களுக்கு எப்படி உதவ முடியும்?`},ce=()=>{if(!C){W($e(Ot[L].unsupported()),L);return}if(y)et==null||et.stop();else if(!v&&!y){T(!0);const X=ie[L]||ie["en-US"];W(X,L,()=>{try{et&&(et.lang=L,et.start())}catch(re){console.error("Could not start recognition:",re),g(!1),T(!1)}})}};return!C&&!E?r.jsx("div",{className:"fixed bottom-8 right-8 z-50",children:r.jsx("button",{onClick:ce,className:"h-20 w-20 rounded-full bg-gray-300 text-white shadow-2xl flex items-center justify-center cursor-not-allowed","aria-label":"Voice assistant not available",title:"Voice assistant not supported on this browser or permissions denied",children:r.jsx(rl,{})})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col items-center gap-3",children:[E&&r.jsxs("div",{className:"relative mb-2",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-4 min-w-[200px] max-w-xs animate-fade-in-up-fast",children:r.jsx("p",{className:"text-gray-700 text-center text-lg",children:E})}),r.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0 transform translate-y-[calc(50%-1px)] rotate-45 w-4 h-4 bg-white"})]}),V&&r.jsx("div",{className:"bg-white rounded-lg shadow-xl p-2 flex flex-col gap-1 animate-fade-in-up-fast",children:Object.entries(Nh).map(([X,ae])=>r.jsx("button",{onClick:()=>{Y(X),z(!1)},className:`px-4 py-2 text-md w-full text-left rounded font-semibold transition-colors ${L===X?"bg-teal-100 text-teal-700":"text-gray-600 hover:bg-gray-100"}`,children:ae},X))}),r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsx("button",{onClick:()=>z(!V),className:"h-14 w-14 rounded-full bg-white shadow-lg text-teal-600 font-bold text-lg flex items-center justify-center transition-transform hover:scale-110","aria-label":"Change language",children:L.split("-")[0].toUpperCase()}),r.jsxs("button",{onClick:ce,disabled:v||!C,className:`h-20 w-20 rounded-full text-white shadow-2xl flex items-center justify-center transition-all duration-300 transform hover:scale-110 disabled:scale-100 disabled:cursor-wait ${y?"bg-red-500":"bg-teal-600"} ${v?"bg-blue-500":""} ${C?"":"bg-gray-300"}`,"aria-label":"Activate voice assistant",children:[v?r.jsx(ni,{}):r.jsx(rl,{}),y&&r.jsx("span",{className:"absolute h-full w-full rounded-full bg-red-500 animate-ping-slow opacity-75"})]})]})]}),r.jsx("style",{children:`
                @keyframes ping-slow { 75%, 100% { transform: scale(2); opacity: 0; } }
                .animate-ping-slow { animation: ping-slow 2s cubic-bezier(0, 0, 0.2, 1) infinite; }
                @keyframes fade-in-up-fast { 0% { opacity: 0; transform: translateY(10px); } 100% { opacity: 1; transform: translateY(0); } }
                .animate-fade-in-up-fast { animation: fade-in-up-fast 0.2s ease-out forwards; }
            `})]})},hn=({title:l,icon:n,children:a,onClick:s,className:u=""})=>{const m=`bg-white p-6 rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 ${s?"cursor-pointer":""} ${u}`;return r.jsxs("div",{className:m,onClick:s,children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"bg-teal-100 p-3 rounded-full text-teal-600",children:n}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 ml-4",children:l})]}),r.jsx("div",{children:a})]})},wh=({setActiveView:l,userName:n})=>r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10",children:[r.jsxs("h2",{className:"text-5xl font-bold text-gray-800",children:["Welcome back, ",n,"!"]}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Here's your health summary for today."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs(hn,{title:"Next Appointment",icon:r.jsx(Ru,{}),onClick:()=>l(we.Consultation),className:"bg-teal-50",children:[r.jsx("p",{className:"text-lg text-gray-700",children:"Dr. Marcus Chen (Geriatrician)"}),r.jsx("p",{className:"text-2xl font-bold text-teal-700 mt-2",children:"Tomorrow, 11:00 AM"}),r.jsx("button",{className:"mt-4 w-full bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-teal-700",children:"View Details"})]}),r.jsxs(hn,{title:"Medication Reminder",icon:r.jsx(Oh,{}),onClick:()=>l(we.Reminders),children:[r.jsx("p",{className:"text-lg text-gray-700",children:"Next dose:"}),r.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:"Metformin (500mg) at 8:00 AM"}),r.jsx("p",{className:"text-md text-gray-500 mt-1",children:"You have 3 other medications today."})]}),r.jsxs(hn,{title:"How are you feeling?",icon:r.jsx(ni,{}),onClick:()=>l(we.Wellness),children:[r.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Log your mood in your journal."}),r.jsxs("div",{className:"flex justify-around",children:[r.jsx("button",{className:"text-5xl hover:scale-110 transition-transform",children:"😊"}),r.jsx("button",{className:"text-5xl hover:scale-110 transition-transform",children:"😐"}),r.jsx("button",{className:"text-5xl hover:scale-110 transition-transform",children:"😔"})]})]}),r.jsxs(hn,{title:"AI Symptom Checker",icon:r.jsx(Du,{}),onClick:()=>l(we.SymptomChecker),className:"md:col-span-2 lg:col-span-1",children:[r.jsx("p",{className:"text-lg text-gray-700",children:"Feeling unwell? Describe your symptoms to get instant, AI-powered health information."}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Note: This is not a substitute for professional medical advice."})]}),r.jsxs(hn,{title:"Health Records",icon:r.jsx(Wl,{}),onClick:()=>l(we.HealthRecords),className:"lg:col-span-1",children:[r.jsx("p",{className:"text-lg text-gray-700 mb-3",children:"Quickly access your medical history, prescriptions, and lab reports."}),r.jsx("div",{className:"flex space-x-4",children:r.jsx("button",{className:"flex-1 bg-gray-200 text-gray-800 font-semibold py-3 px-4 rounded-lg hover:bg-gray-300",children:"View"})})]}),r.jsx(hn,{title:"Relaxing Music",icon:r.jsx(Fh,{}),onClick:()=>window.open("https://www.youtube.com/watch?v=eTucXMU8ctw&list=RDeTucXMU8ctw&index=1","_blank"),className:"lg:col-span-1",children:r.jsx("p",{className:"text-lg text-gray-700",children:"Unwind and relax with a curated playlist of calming songs."})})]})]}),DC=({doctor:l,onEndCall:n})=>{const[a,s]=M.useState(!1),[u,m]=M.useState(!1),[h,x]=M.useState(0),[y,g]=M.useState("connecting"),v=M.useRef(null),T=M.useRef(null);M.useEffect(()=>{(async()=>{try{const U=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});v.current&&(v.current.srcObject=U),T.current=U}catch(U){console.error("Error accessing media devices.",U),n()}})();const L=setTimeout(()=>g("connected"),3e3),Y=setInterval(()=>x(U=>U+1),1e3);return()=>{T.current&&T.current.getTracks().forEach(U=>U.stop()),clearTimeout(L),clearInterval(Y)}},[n]);const C=()=>{T.current&&(T.current.getAudioTracks().forEach(D=>{D.enabled=!D.enabled}),s(D=>!D))},b=()=>{T.current&&(T.current.getVideoTracks().forEach(D=>{D.enabled=!D.enabled}),m(D=>!D))},E=D=>{const L=Math.floor(D/60).toString().padStart(2,"0"),Y=(D%60).toString().padStart(2,"0");return`${L}:${Y}`};return r.jsxs("div",{className:"fixed inset-0 bg-gray-900 z-50 flex flex-col animate-fade-in",children:[r.jsxs("div",{className:"flex-1 w-full h-full flex items-center justify-center relative bg-black",children:[r.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-48 h-48 rounded-full border-4 border-gray-600 opacity-50"}),r.jsxs("div",{className:"absolute top-6 left-6 text-white bg-black bg-opacity-50 px-4 py-2 rounded-lg",children:[r.jsx("h2",{className:"text-2xl font-bold",children:l.name}),r.jsx("p",{className:"text-lg",children:l.specialty}),r.jsx("p",{className:"text-lg font-mono tracking-wider mt-2",children:E(h)})]}),y==="connecting"&&r.jsx("p",{className:"absolute bottom-1/2 translate-y-32 text-2xl text-white",children:"Connecting..."})]}),r.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,muted:!0,className:`absolute bottom-28 right-6 w-48 h-36 rounded-lg object-cover shadow-2xl border-2 border-gray-500 transition-opacity duration-300 ${u?"opacity-0":"opacity-100"}`,style:{transform:"scaleX(-1)"}}),u&&r.jsx("div",{className:"absolute bottom-28 right-6 w-48 h-36 rounded-lg bg-gray-800 flex items-center justify-center border-2 border-gray-500",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"})})}),r.jsxs("div",{className:"bg-gray-800 bg-opacity-70 py-4 flex justify-center items-center space-x-6",children:[r.jsx("button",{onClick:C,className:`p-4 rounded-full transition-colors ${a?"bg-white text-gray-800":"bg-gray-600 text-white hover:bg-gray-500"}`,"aria-label":a?"Unmute":"Mute",children:a?r.jsx(wx,{}):r.jsx(rl,{})}),r.jsx("button",{onClick:b,className:`p-4 rounded-full transition-colors ${u?"bg-white text-gray-800":"bg-gray-600 text-white hover:bg-gray-500"}`,"aria-label":u?"Turn camera on":"Turn camera off",children:u?r.jsx(_x,{}):r.jsx(ku,{})}),r.jsx("button",{onClick:n,className:"p-4 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors","aria-label":"End call",children:r.jsx(Ax,{})})]}),r.jsx("style",{children:`
        @keyframes fade-in {
          0% { opacity: 0; }
          100% { opacity: 1; }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out forwards;
        }
      `})]})},IC=({doctor:l,onStartCall:n})=>{const a=()=>{const s=encodeURIComponent("Home Visit Request"),u=encodeURIComponent(`Dear ${l.name},

I would like to request a home visit.

Please contact me to schedule a convenient time.

Thank you,
John Doe`);window.location.href=`mailto:${l.email}?subject=${s}&body=${u}`};return r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg flex flex-col items-center text-center transition-transform transform hover:-translate-y-2",children:[r.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-28 h-28 rounded-full mb-4 border-4 border-gray-200"}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:l.name}),r.jsx("p",{className:"text-lg text-teal-600 font-semibold",children:l.specialty}),r.jsx("div",{className:`mt-4 px-4 py-1 rounded-full text-sm font-semibold ${l.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.available?"Available Now":"Unavailable"}),r.jsxs("div",{className:"mt-6 w-full space-y-3",children:[r.jsx("button",{disabled:!l.available,onClick:()=>n(l),className:"w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Start Video Call"}),r.jsx("button",{onClick:()=>window.location.href=`tel:${l.phone}`,className:"w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Start Phone Call"}),r.jsx("button",{onClick:a,className:"w-full bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Request Home Visit"})]})]})},UC=()=>{const[l,n]=M.useState(null),a=u=>{n({doctor:u})},s=()=>{n(null)};return r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10",children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"Doctor Consultation"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Connect with professional healthcare providers from home."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:Gh.map(u=>r.jsx(IC,{doctor:u,onStartCall:a},u.name))}),l&&r.jsx(DC,{doctor:l.doctor,onEndCall:s})]})},Mg=({isOpen:l,onClose:n,onUpload:a,patientId:s})=>{const[u,m]=M.useState(""),[h,x]=M.useState("Consultation Note"),[y,g]=M.useState(new Date().toISOString().split("T")[0]),[v,T]=M.useState(null),[C,b]=M.useState(null),[E,D]=M.useState("upload"),[L,Y]=M.useState("camera"),[U,P]=M.useState(!1),[V,z]=M.useState(""),W=M.useRef(null),Z=M.useRef(null),se=M.useCallback(()=>{Z.current&&(Z.current.getTracks().forEach(F=>F.stop()),Z.current=null)},[]),ie=M.useCallback(async()=>{if(Y("camera"),b(null),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{const F=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});W.current&&(W.current.srcObject=F),Z.current=F}catch(F){console.error("Error accessing camera: ",F),z("Could not access camera. Please check permissions.")}else z("Camera not supported on this device.")},[]),ce=M.useCallback(()=>{m(""),x("Consultation Note"),g(new Date().toISOString().split("T")[0]),T(null),b(null),z(""),P(!1),D("upload"),Y("camera"),se()},[se]);M.useEffect(()=>(l?E==="capture"&&ie():ce(),()=>se()),[l,E,ie,se,ce]);const X=()=>{ce(),n()},ae=F=>{F&&(T(F),b(null))},re=()=>{if(W.current){const F=document.createElement("canvas");F.width=W.current.videoWidth,F.height=W.current.videoHeight;const B=F.getContext("2d");if(B){B.drawImage(W.current,0,0,F.width,F.height);const w=F.toDataURL("image/jpeg");b(w),T(null),Y("preview"),se()}}},ee=F=>{if(F.preventDefault(),!u.trim()||!y){z("Please fill in all required fields.");return}if(!v&&!C){z("Please upload a file or capture a photo.");return}if(z(""),v){const B=new FileReader;B.onload=w=>{var le;const q=((le=w.target)==null?void 0:le.result).split(",")[1],ne={title:u,type:h,eventDate:y,patientId:s,fileName:v.name,fileData:q};a(ne),X()},B.readAsDataURL(v)}else if(C){const B={title:u,type:h,eventDate:y,patientId:s,fileName:`capture-${Date.now()}.jpg`,fileData:C.split(",")[1]};a(B),X()}},te=F=>{F.preventDefault(),F.stopPropagation(),P(!0)},I=F=>{F.preventDefault(),F.stopPropagation(),P(!1)},$=F=>{F.preventDefault(),F.stopPropagation()},J=F=>{F.preventDefault(),F.stopPropagation(),P(!1),F.dataTransfer.files&&F.dataTransfer.files.length>0&&ae(F.dataTransfer.files[0])};return l?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:X,children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full m-4 p-8 transform transition-all animate-fade-in-up max-h-[90vh] flex flex-col",onClick:F=>F.stopPropagation(),children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Add Health Record"}),r.jsxs("form",{onSubmit:ee,className:"space-y-5 overflow-y-auto pr-4 flex-grow",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-lg font-medium text-gray-700",children:"Record Title"}),r.jsx("input",{type:"text",id:"title",value:u,onChange:F=>m(F.target.value),placeholder:"e.g., Annual Check-up Summary",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"type",className:"block text-lg font-medium text-gray-700",children:"Record Type"}),r.jsxs("select",{id:"type",value:h,onChange:F=>x(F.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",children:[r.jsx("option",{children:"Consultation Note"}),r.jsx("option",{children:"Lab Report"}),r.jsx("option",{children:"Prescription"})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"eventDate",className:"block text-lg font-medium text-gray-700",children:"Date of Event"}),r.jsx("input",{type:"date",id:"eventDate",value:y,onChange:F=>g(F.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[r.jsx("button",{type:"button",onClick:()=>D("upload"),className:`${E==="upload"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg`,children:"Upload File"}),r.jsx("button",{type:"button",onClick:()=>D("capture"),className:`${E==="capture"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg`,children:"Capture Photo"})]})}),E==="upload"&&r.jsxs("div",{onDragEnter:te,onDragLeave:I,onDragOver:$,onDrop:J,className:`rounded-lg border-2 border-dashed p-6 text-center transition-colors ${U?"border-teal-500 bg-teal-50":"border-gray-300"}`,children:[r.jsx(aa,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsxs("div",{className:"mt-4 text-lg text-gray-600",children:[r.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-semibold text-teal-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-teal-600 focus-within:ring-offset-2 hover:text-teal-500",children:[r.jsx("span",{children:v?"Change file":"Upload a file"}),r.jsx("input",{id:"file-upload",type:"file",className:"sr-only",onChange:F=>ae(F.target.files?F.target.files[0]:null)})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"PDF, PNG, JPG up to 10MB"}),v&&r.jsxs("p",{className:"mt-2 text-md font-semibold text-green-700",children:["Selected: ",v.name]})]}),E==="capture"&&r.jsxs("div",{children:[L==="camera"&&r.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:r.jsx("video",{ref:W,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),L==="preview"&&C&&r.jsx("img",{src:C,alt:"Captured record",className:"rounded-lg aspect-video object-cover"}),V&&r.jsx("p",{className:"text-red-500 mt-2",children:V}),r.jsx("div",{className:"mt-4 flex space-x-4",children:L==="preview"?r.jsx("button",{type:"button",onClick:ie,className:"flex-1 bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300",children:"Retake Photo"}):r.jsxs("button",{type:"button",onClick:re,className:"flex-1 flex items-center justify-center bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:[r.jsx(sa,{className:"h-6 w-6 mr-2"})," Capture"]})})]}),V&&r.jsx("p",{className:"text-red-500 text-sm mt-2",children:V}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 mt-auto border-t",children:[r.jsx("button",{type:"button",onClick:X,className:"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700",children:"Upload Record"})]})]})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          100% {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]}):null},Rg=({isOpen:l,onClose:n,record:a})=>{if(!l||!a||!a.fileData||!a.fileName)return null;const u=(y=>{var v;switch((v=y.split(".").pop())==null?void 0:v.toLowerCase()){case"pdf":return"application/pdf";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"webp":return"image/webp";default:return"unsupported"}})(a.fileName),m=u.startsWith("image/"),h=u==="application/pdf",x=`data:${u};base64,${a.fileData}`;return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:n,children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full m-4 transform transition-all animate-fade-in-up flex flex-col",style:{height:"calc(100vh - 4rem)"},onClick:y=>y.stopPropagation(),children:[r.jsxs("div",{className:"p-4 flex justify-between items-center border-b",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:a.title}),r.jsx("button",{onClick:n,className:"bg-gray-100 rounded-full p-2 text-gray-800 hover:bg-gray-200","aria-label":"Close modal",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1 p-4 overflow-auto bg-gray-50",children:[m&&r.jsx("img",{src:x,alt:a.title,className:"max-w-full max-h-full mx-auto"}),h&&r.jsx("embed",{src:x,type:"application/pdf",className:"w-full h-full"}),!m&&!h&&r.jsxs("div",{className:"text-center p-10 flex flex-col items-center justify-center h-full",children:[r.jsx("p",{className:"text-2xl font-semibold text-gray-600",children:"Preview not available"}),r.jsxs("p",{className:"text-lg text-gray-500 mt-2",children:["This file type (",a.fileName.split(".").pop(),") cannot be displayed in the browser."]}),r.jsx("p",{className:"text-lg text-gray-500 mt-1",children:"Please download the file to view it."})]})]})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          100% {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]})},kC=l=>{switch(l){case"Prescription":return r.jsx("div",{className:"bg-blue-100 text-blue-600 p-4 rounded-full",children:r.jsx(Kh,{})});case"Lab Report":return r.jsx("div",{className:"bg-green-100 text-green-600 p-4 rounded-full",children:r.jsx(Wl,{})});case"Consultation Note":return r.jsx("div",{className:"bg-purple-100 text-purple-600 p-4 rounded-full",children:r.jsx(tg,{})});default:return r.jsx("div",{className:"bg-gray-100 text-gray-600 p-4 rounded-full",children:r.jsx(Wl,{})})}},LC=({healthRecords:l,onAddRecord:n,patientId:a})=>{const[s,u]=M.useState("All"),[m,h]=M.useState(!1),[x,y]=M.useState(null),v=(s==="All"?l:l.filter(C=>C.type===s)).sort((C,b)=>new Date(b.eventDate).getTime()-new Date(C.eventDate).getTime()),T=C=>{if(!C.fileData||!C.fileName)return;const b=E=>{var L;switch((L=E.split(".").pop())==null?void 0:L.toLowerCase()){case"pdf":return"application/pdf";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"doc":return"application/msword";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";default:return"application/octet-stream"}};try{const E=atob(C.fileData),D=new Array(E.length);for(let V=0;V<E.length;V++)D[V]=E.charCodeAt(V);const L=new Uint8Array(D),Y=new Blob([L],{type:b(C.fileName)}),U=window.URL.createObjectURL(Y),P=document.createElement("a");P.href=U,P.download=C.fileName,document.body.appendChild(P),P.click(),window.URL.revokeObjectURL(U),document.body.removeChild(P)}catch(E){console.error("Failed to download file:",E),alert("Could not download the file. It might be corrupted.")}};return r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"Health Records"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Your complete medical history in one place."})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center bg-teal-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-teal-700 transition-colors",children:[r.jsx(aa,{className:"h-6 w-6 mr-2"}),"Upload New Record"]})]}),r.jsx("div",{className:"mb-8 flex space-x-2 bg-gray-200 p-2 rounded-xl max-w-lg",children:["All","Prescription","Lab Report","Consultation Note"].map(C=>r.jsx("button",{onClick:()=>u(C),className:`w-full text-center font-semibold py-2 px-4 rounded-lg transition-colors ${s===C?"bg-white text-teal-700 shadow":"text-gray-600 hover:bg-white/50"}`,children:C},C))}),r.jsx("div",{className:"space-y-6",children:v.length>0?v.map(C=>r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg flex items-center justify-between transition-all hover:shadow-xl",children:[r.jsxs("div",{className:"flex items-center",children:[kC(C.type),r.jsxs("div",{className:"ml-6",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:C.title}),r.jsxs("div",{className:"flex items-center text-lg text-gray-600 mt-1 space-x-4",children:[r.jsx("span",{children:C.type}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsx("span",{children:new Date(C.eventDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),C.fileName&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>y(C),className:"flex items-center bg-teal-100 text-teal-800 font-semibold py-3 px-5 rounded-lg hover:bg-teal-200",children:"View"}),r.jsxs("button",{onClick:()=>T(C),className:"flex items-center bg-gray-200 text-gray-800 font-semibold py-3 px-5 rounded-lg hover:bg-gray-300",children:[r.jsx(Xh,{className:"h-5 w-5 mr-2"}),"Download"]})]})]},C.id)):r.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-2xl",children:[r.jsx("p",{className:"text-2xl font-semibold text-gray-500",children:"No records found for this category."}),r.jsx("p",{className:"text-lg text-gray-400 mt-2",children:"Try selecting another category or uploading a new record."})]})}),r.jsx(Mg,{isOpen:m,onClose:()=>h(!1),onUpload:n,patientId:a}),r.jsx(Rg,{isOpen:!!x,onClose:()=>y(null),record:x})]})},jC=({isOpen:l,onClose:n,onAddReminder:a,patientId:s})=>{const[u,m]=M.useState(""),[h,x]=M.useState(new Date().toISOString().split("T")[0]),[y,g]=M.useState("08:00"),[v,T]=M.useState(""),[C,b]=M.useState("After Meal"),[E,D]=M.useState(""),L=Y=>{if(Y.preventDefault(),!u.trim()){D("Please enter a medication name.");return}D(""),a({title:u,date:h,time:y,duration:v,mealContext:C,patientId:s}),n(),m(""),x(new Date().toISOString().split("T")[0]),g("08:00"),T(""),b("After Meal")};return l?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:n,children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full m-4 p-8 transform transition-all animate-fade-in-up",onClick:Y=>Y.stopPropagation(),children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Add New Medication Reminder"}),r.jsxs("form",{onSubmit:L,className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-lg font-medium text-gray-700",children:"Medication Name"}),r.jsx("input",{type:"text",id:"title",value:u,onChange:Y=>m(Y.target.value),placeholder:"e.g., Metformin (500mg)",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0}),E&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:E})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"date",className:"block text-lg font-medium text-gray-700",children:"Date"}),r.jsx("input",{type:"date",id:"date",value:h,onChange:Y=>x(Y.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"time",className:"block text-lg font-medium text-gray-700",children:"Time"}),r.jsx("input",{type:"time",id:"time",value:y,onChange:Y=>g(Y.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"duration",className:"block text-lg font-medium text-gray-700",children:"Duration (Optional)"}),r.jsx("input",{type:"text",id:"duration",value:v,onChange:Y=>T(Y.target.value),placeholder:"e.g., For 14 days",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Instructions"}),r.jsxs("div",{className:"mt-2 flex space-x-4",children:[r.jsxs("label",{className:"flex-1",children:[r.jsx("input",{type:"radio",value:"Before Meal",checked:C==="Before Meal",onChange:()=>b("Before Meal"),className:"sr-only peer"}),r.jsx("div",{className:"w-full p-3 text-center text-lg rounded-lg border-2 peer-checked:border-teal-600 peer-checked:bg-teal-50 peer-checked:font-bold peer-checked:text-teal-700 cursor-pointer",children:"Before Meal"})]}),r.jsxs("label",{className:"flex-1",children:[r.jsx("input",{type:"radio",value:"After Meal",checked:C==="After Meal",onChange:()=>b("After Meal"),className:"sr-only peer"}),r.jsx("div",{className:"w-full p-3 text-center text-lg rounded-lg border-2 peer-checked:border-teal-600 peer-checked:bg-teal-50 peer-checked:font-bold peer-checked:text-teal-700 cursor-pointer",children:"After Meal"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700",children:"Add Reminder"})]})]})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          100% {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]}):null},PC=({reminders:l,onAddReminder:n,onDeleteReminder:a,onMarkAsTaken:s,patientId:u})=>{const[m,h]=M.useState(!1),x=new Date().toISOString().split("T")[0],y=[...l].sort((g,v)=>{const T=new Date(`${g.date}T${g.time||"00:00"}`).getTime(),C=new Date(`${v.date}T${v.time||"00:00"}`).getTime();return T-C});return r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"Reminders & Alerts"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Stay on top of your medications and appointments."})]}),r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center bg-teal-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-teal-700 transition-colors",children:[r.jsx(Qh,{className:"h-6 w-6 mr-2"}),"Add New Reminder"]})]}),r.jsx("div",{className:"space-y-6",children:y.length>0?y.map(g=>r.jsxs("div",{className:`bg-white p-6 rounded-2xl shadow-lg flex items-center justify-between transition-all hover:shadow-xl ${g.taken?"opacity-60 bg-gray-50":""}`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`p-4 rounded-full ${g.type==="Medication"?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}`,children:g.type==="Medication"?r.jsx(yx,{}):r.jsx(Ds,{})}),r.jsxs("div",{className:"ml-6",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-800",children:g.title}),r.jsxs("div",{className:"flex items-center text-lg text-gray-600 mt-1 space-x-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ds,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:g.date===x?"Today":new Date(g.date).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),r.jsx("span",{className:"text-gray-400",children:"|"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(js,{className:"h-5 w-5 mr-2"}),r.jsx("span",{children:g.type==="Medication"?new Date(`1970-01-01T${g.time}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):g.time})]}),g.duration&&r.jsx("span",{className:"text-gray-400",children:"|"}),g.duration&&r.jsx("p",{children:g.duration}),g.mealContext&&r.jsx("span",{className:"text-gray-400",children:"|"}),g.mealContext&&r.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${g.mealContext==="Before Meal"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:g.mealContext})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[g.type==="Medication"&&r.jsx("button",{onClick:()=>s(g.id),disabled:g.taken,className:"py-3 px-6 bg-green-100 text-green-800 font-semibold rounded-lg hover:bg-green-200 text-lg disabled:bg-gray-200 disabled:text-gray-500 disabled:cursor-not-allowed",children:g.taken?"Taken ✓":"Mark as Taken"}),r.jsx("button",{onClick:()=>a(g.id),className:"p-3 bg-red-100 text-red-700 rounded-full hover:bg-red-200",title:"Delete Reminder",children:r.jsx(Uu,{})})]})]},g.id)):r.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-2xl",children:[r.jsx("p",{className:"text-2xl font-semibold text-gray-500",children:"No reminders yet."}),r.jsx("p",{className:"text-lg text-gray-400 mt-2",children:'Click "Add New Reminder" to get started!'})]})}),r.jsx(jC,{isOpen:m,onClose:()=>h(!1),onAddReminder:n,patientId:u})]})},_h={"en-US":"English","hi-IN":"हिन्दी"},Ah={"en-US":"Hello, this is your private diary, Echo. You can share anything on your mind by typing or by tapping the microphone to speak. Your thoughts are safe here.","hi-IN":"नमस्ते, यह आपकी निजी डायरी, 'इको' है। आप अपने मन की कोई भी बात टाइप करके या माइक्रोफ़ोन पर बोलकर साझा कर सकते हैं। आपके विचार यहाँ सुरक्षित हैं।"},Mh=window.SpeechRecognition||window.webkitSpeechRecognition;let rt=null;Mh&&(rt=new Mh,rt.continuous=!0,rt.lang="en-US",rt.interimResults=!0);const Rh=[{name:"Happy",emoji:"😊",defaultRating:5},{name:"Calm",emoji:"😌",defaultRating:4},{name:"Neutral",emoji:"😐",defaultRating:3},{name:"Sad",emoji:"😔",defaultRating:2},{name:"Stressed",emoji:"😩",defaultRating:1}],Dh=({rating:l,setRating:n,className:a="h-8 w-8"})=>r.jsx("div",{className:"flex justify-center space-x-1",children:[...Array(5)].map((s,u)=>r.jsx("button",{type:"button",onClick:()=>n&&n(u+1),disabled:!n,className:n?"cursor-pointer":"",children:r.jsx($h,{className:`${a} transition-colors ${u<l?"text-yellow-400":"text-gray-300 hover:text-yellow-200"}`})},u))}),HC=({userId:l})=>{const n=`elderlyease_journal_${l}`,[a,s]=M.useState([]),[u,m]=M.useState(""),[h,x]=M.useState(null),[y,g]=M.useState(0),[v,T]=M.useState("idle"),[C,b]=M.useState(!!rt),[E,D]=M.useState("en-US"),[L,Y]=M.useState(!1),[U,P]=M.useState(null),V=M.useRef(null),z=M.useRef("");M.useEffect(()=>{try{const ee=localStorage.getItem(n);s(ee?JSON.parse(ee):[{id:"init-1",sender:"ai",text:Ah[E],timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])}catch(ee){console.error("Failed to load journal from local storage",ee)}},[E,n]),M.useEffect(()=>{try{localStorage.setItem(n,JSON.stringify(a))}catch(ee){console.error("Failed to save journal to local storage",ee)}},[a,n]);const W=()=>{var ee;(ee=V.current)==null||ee.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{W()},[a,v]);const Z=M.useCallback((ee,te)=>{window.speechSynthesis.cancel(),T("speaking"),P(null);const I=new SpeechSynthesisUtterance(ee);I.lang=E,I.onend=()=>{T("idle"),te&&te()},I.onerror=$=>{if($.error==="canceled"||$.error==="interrupted"){T("idle"),te&&te();return}console.error("SpeechSynthesisUtterance.onerror:",$.error,$);let J;const F=_h[E]||"the selected language";switch($.error){case"network":J="I couldn't speak due to a network issue. Please check your connection.";break;case"language-unavailable":J=`Sorry, I can't speak ${F} on this device.`;break;case"synthesis-failed":J="Sorry, my voice failed to start. Please try again in a moment.";break;case"audio-busy":J="My voice is busy at the moment. Please wait and try again.";break;case"audio-hardware":case"synthesis-unavailable":case"voice-unavailable":case"text-too-long":case"invalid-argument":default:J="An unexpected voice error occurred. Please try again.";break}P(J),T("idle"),te&&te()};try{window.speechSynthesis.speak(I)}catch($){console.error("Error calling window.speechSynthesis.speak:",$),P("An unexpected error occurred with the voice feature."),T("idle"),te&&te()}},[E]),se=M.useCallback(async(ee,te,I)=>{if(!ee.trim()||v==="processing")return;const $={id:`msg-${Date.now()}`,sender:"user",text:ee,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),mood:te||void 0,rating:I||void 0},J=[...a,$];s(J),T("processing");try{const F=await TC(J,E),B={id:`msg-${Date.now()+1}`,sender:"ai",text:F,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};s(w=>[...w,B]),Z(F)}catch(F){console.error("Error getting diary response:",F);const B={id:`msg-err-${Date.now()}`,sender:"ai",text:"I'm sorry, I'm having a little trouble thinking right now.",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};s(w=>[...w,B]),T("idle")}},[v,a,Z,E]);M.useEffect(()=>{rt&&(rt.onstart=()=>T("listening"),rt.onend=()=>{if(v==="listening"){T("idle");const ee=z.current.trim();ee&&(se(ee,h||void 0,y||void 0),m(""),x(null),g(0))}},rt.onerror=ee=>{console.error("Speech recognition error:",ee.error),ee.error==="not-allowed"&&(alert("Voice input is disabled. Please enable microphone permissions in your browser settings to use this feature."),b(!1)),T("idle")},rt.onresult=ee=>{let te="";z.current="";for(let I=ee.resultIndex;I<ee.results.length;++I)ee.results[I].isFinal?z.current+=ee.results[I][0].transcript:te+=ee.results[I][0].transcript;m(z.current+te)})},[v,se,y,h]);const ie=()=>{if(C)switch(v){case"idle":z.current="",m(""),rt&&(rt.lang=E,rt.start());break;case"listening":rt==null||rt.stop();break;case"speaking":window.speechSynthesis.cancel(),T("idle");break}},ce=ee=>{ee.preventDefault(),se(u,h||void 0,y||void 0),m(""),x(null),g(0)},X=()=>{window.confirm("Are you sure you want to permanently delete all diary entries? This action cannot be undone.")&&s([{id:"init-1",sender:"ai",text:Ah[E],timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},ae=(ee,te)=>{h===ee?(x(null),g(0)):(x(ee),g(te))},re=()=>{switch(v){case"listening":return r.jsxs("div",{className:"relative h-10 w-10",children:[r.jsx(rl,{}),r.jsx("span",{className:"absolute inset-0 h-full w-full rounded-full bg-red-500 animate-ping opacity-75"})]});case"processing":return r.jsx(ni,{className:"h-10 w-10 animate-pulse"});case"speaking":return r.jsx(Rx,{className:"h-10 w-10"});case"idle":default:return r.jsx(rl,{className:"h-10 w-10"})}};return r.jsxs("div",{className:"flex flex-col h-full max-h-[calc(100vh-64px)]",children:[r.jsxs("header",{className:"mb-8 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"Echo Journal"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Your private, voice-powered diary."})]}),r.jsxs("button",{onClick:X,className:"flex items-center bg-red-100 text-red-700 font-bold py-2 px-4 rounded-lg text-md hover:bg-red-200 transition-colors",title:"Clear all entries",children:[r.jsx(Uu,{className:"h-5 w-5 mr-2"}),"Clear Diary"]})]}),r.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-2xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"flex-1 p-6 overflow-y-auto bg-gray-50",children:r.jsxs("div",{className:"flex flex-col space-y-4",children:[a.map(ee=>{var te;return r.jsxs("div",{className:`flex items-end space-x-3 ${ee.sender==="user"?"justify-end":"justify-start"}`,children:[ee.sender==="ai"&&r.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"E"}),r.jsxs("div",{className:`max-w-xl p-4 rounded-2xl ${ee.sender==="user"?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[ee.mood&&ee.rating!==void 0&&r.jsx("div",{className:"mb-3 pb-3 border-b border-white/20",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-3xl mr-2",children:(te=Rh.find(I=>I.name===ee.mood))==null?void 0:te.emoji}),r.jsx("span",{className:"font-bold text-lg",children:ee.mood})]}),r.jsx(Dh,{rating:ee.rating,className:"h-5 w-5"})]})}),ee.text&&r.jsx("p",{className:"whitespace-pre-wrap",children:ee.text}),r.jsx("p",{className:`text-xs mt-2 ${ee.sender==="user"?"text-blue-100":"text-gray-500"} text-right`,children:ee.timestamp})]})]},ee.id)}),v==="processing"&&r.jsxs("div",{className:"flex items-end space-x-3 justify-start",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-600 flex items-center justify-center text-white font-bold text-xl flex-shrink-0",children:"E"}),r.jsx("div",{className:"max-w-xl p-4 rounded-2xl bg-gray-200 text-gray-800 rounded-bl-none",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"h-2 w-2 bg-gray-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),r.jsx("span",{className:"h-2 w-2 bg-gray-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),r.jsx("span",{className:"h-2 w-2 bg-gray-500 rounded-full animate-bounce"})]})})]}),r.jsx("div",{ref:V})]})}),r.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500 mb-2",children:[r.jsx(Wh,{className:"h-3 w-3 mr-1"}),r.jsx("span",{children:"Your entries are saved on this device and are not shared."})]}),U&&r.jsx("div",{className:"mb-3 p-3 bg-red-100 text-red-700 rounded-lg text-center font-semibold animate-fade-in-up-fast",children:U}),r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"flex justify-center p-2 bg-gray-50 rounded-lg",children:Rh.map(ee=>r.jsxs("button",{type:"button",onClick:()=>ae(ee.name,ee.defaultRating),className:`flex-1 flex flex-col items-center group p-2 rounded-lg transition-all ${h===ee.name?"bg-teal-100":""}`,children:[r.jsx("span",{className:`text-3xl group-hover:scale-110 transition-transform ${h===ee.name?"scale-110":""}`,children:ee.emoji}),r.jsx("span",{className:"mt-1 text-xs font-semibold text-gray-600",children:ee.name})]},ee.name))}),h&&r.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-lg",children:r.jsx(Dh,{rating:y,setRating:g,className:"h-6 w-6"})})]}),r.jsxs("form",{onSubmit:ce,className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("input",{type:"text",value:u,onChange:ee=>m(ee.target.value),placeholder:E==="hi-IN"?"बोलने के लिए टाइप करें या माइक का उपयोग करें...":"Type or use the mic to talk...",className:"w-full bg-gray-100 border-2 border-transparent focus:border-teal-500 rounded-full px-5 py-3 text-lg focus:outline-none",disabled:v!=="idle"}),r.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:[r.jsx("button",{type:"button",onClick:()=>Y(!L),className:"h-10 w-10 rounded-full bg-gray-200 hover:bg-gray-300 text-teal-600 font-bold text-sm flex items-center justify-center transition-transform","aria-label":"Change language",children:E.split("-")[0].toUpperCase()}),L&&r.jsx("div",{className:"absolute bottom-full right-0 mb-2 bg-white rounded-lg shadow-xl p-1 flex flex-col gap-1 w-32",children:Object.entries(_h).map(([ee,te])=>r.jsx("button",{type:"button",onClick:()=>{D(ee),Y(!1)},className:`px-3 py-2 text-md w-full text-left rounded font-semibold transition-colors ${E===ee?"bg-teal-100 text-teal-700":"text-gray-600 hover:bg-gray-100"}`,children:te},ee))})]})]}),r.jsx("button",{type:"button",onClick:ie,disabled:!C,className:`p-3 rounded-full text-white transition-colors duration-200 flex items-center justify-center w-16 h-16 ${v==="listening"?"bg-red-500":"bg-teal-600"} ${v==="processing"?"bg-blue-500 animate-pulse":""} ${v==="speaking"?"bg-purple-500":""} disabled:bg-gray-300 disabled:cursor-not-allowed`,title:C?"Talk to Echo":"Voice input not supported on this browser",children:re()}),r.jsx("button",{type:"submit",disabled:v!=="idle"||!u.trim(),className:"p-3 bg-teal-600 text-white rounded-full hover:bg-teal-700 transition-colors disabled:bg-gray-300",children:r.jsx(Mx,{className:"h-7 w-7"})})]})]})]}),r.jsx("style",{children:`
                 @keyframes fade-in-up-fast {
                  0% {
                    opacity: 0;
                    transform: translateY(10px);
                  }
                  100% {
                    opacity: 1;
                    transform: translateY(0);
                  }
                }
                .animate-fade-in-up-fast {
                  animation: fade-in-up-fast 0.2s ease-out forwards;
                }
            `})]})},qC=({isOpen:l,onClose:n,article:a})=>!l||!a?null:r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:n,children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full m-4 transform transition-all animate-fade-in-up overflow-hidden",onClick:s=>s.stopPropagation(),children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:a.imageUrl,alt:a.title,className:"h-64 w-full object-cover"}),r.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-white bg-opacity-70 rounded-full p-2 text-gray-800 hover:bg-opacity-100 transition-colors","aria-label":"Close modal",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"p-8",children:[r.jsx("p",{className:"text-md font-semibold text-teal-600",children:a.category}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-2",children:a.title}),a.contentType==="religious"&&a.religiousBooks?r.jsx("div",{className:"my-6 space-y-5 max-h-[40vh] overflow-y-auto pr-4",children:a.religiousBooks.map((s,u)=>r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[r.jsx("h4",{className:"text-xl font-bold text-gray-800",children:s.title}),r.jsx("p",{className:"text-md font-semibold text-gray-600 italic mt-1",children:s.author}),r.jsx("p",{className:"text-lg text-gray-700 mt-2",children:s.summary}),s.youtubeUrl&&r.jsxs("a",{href:s.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-flex items-center bg-red-100 text-red-800 font-bold py-2 px-4 rounded-lg hover:bg-red-200 transition-colors",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Listen on YouTube"]})]},u))}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-lg text-gray-600 my-6",children:a.fullDescription}),a.youtubeUrl&&r.jsxs("a",{href:a.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-6 rounded-lg text-xl transition-colors duration-200",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 mr-3",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),"Watch on YouTube"]})]})]})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% {
            opacity: 0;
            transform: translateY(20px) scale(0.95);
          }
          100% {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.3s ease-out forwards;
        }
      `})]}),GC=({isOpen:l,onClose:n,article:a})=>{const[s,u]=M.useState("camera"),[m,h]=M.useState(null),[x,y]=M.useState(null),[g,v]=M.useState(null),T=M.useRef(null),C=M.useRef(null),b=M.useCallback(()=>{C.current&&(C.current.getTracks().forEach(P=>P.stop()),C.current=null)},[]),E=M.useCallback(async()=>{if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{const P=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});T.current&&(T.current.srcObject=P),C.current=P}catch(P){console.error("Error accessing camera: ",P),v("Could not access camera. Please check permissions.")}else v("Camera not supported on this device.")},[]),D=M.useCallback(()=>{u("camera"),h(null),y(null),v(null),E()},[E]);M.useEffect(()=>(l?D():b(),()=>{b()}),[l,D,b]);const L=()=>{if(T.current){const P=document.createElement("canvas");P.width=T.current.videoWidth,P.height=T.current.videoHeight;const V=P.getContext("2d");if(V){V.drawImage(T.current,0,0,P.width,P.height);const z=P.toDataURL("image/jpeg");h(z),u("preview"),b()}}},Y=async()=>{if(m){u("loading"),v(null);try{const P=m.split(",")[1],V=await SC(P);y(V),u("result")}catch(P){v(P.message||"An error occurred during analysis."),u("preview")}}},U=P=>r.jsx("div",{className:"flex justify-center text-yellow-400",children:[...Array(5)].map((V,z)=>r.jsx($h,{className:`h-10 w-10 ${z<P?"text-yellow-400":"text-gray-300"}`},z))});return!l||!a||a.contentType!=="interactiveNutrition"?null:r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:n,children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full m-4 transform transition-all animate-fade-in-up max-h-[90vh] overflow-y-auto",onClick:P=>P.stopPropagation(),children:r.jsxs("div",{className:"p-6 relative",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-md font-semibold text-teal-600",children:a.category}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-1",children:"AI Meal Analyzer"})]}),r.jsx("button",{onClick:n,className:"bg-gray-100 rounded-full p-2 text-gray-800 hover:bg-gray-200 transition-colors z-10","aria-label":"Close modal",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"text-center",children:[s==="camera"&&r.jsxs("div",{children:[r.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:r.jsx("video",{ref:T,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),g&&r.jsx("p",{className:"text-red-500 mt-4",children:g}),r.jsxs("button",{onClick:L,className:"mt-6 w-full flex items-center justify-center bg-teal-600 hover:bg-teal-700 text-white font-bold py-4 px-6 rounded-lg text-xl transition-colors",children:[r.jsx(sa,{className:"h-7 w-7 mr-3"})," Capture Photo"]})]}),s==="preview"&&m&&r.jsxs("div",{children:[r.jsx("img",{src:m,alt:"Captured meal",className:"rounded-lg aspect-video object-cover"}),g&&r.jsx("p",{className:"text-red-500 mt-4",children:g}),r.jsxs("div",{className:"mt-6 flex space-x-4",children:[r.jsx("button",{onClick:D,className:"flex-1 bg-gray-200 text-gray-800 font-bold py-3 px-4 rounded-lg hover:bg-gray-300",children:"Retake Photo"}),r.jsx("button",{onClick:Y,className:"flex-1 bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700",children:"Analyze Meal"})]})]}),s==="loading"&&r.jsxs("div",{className:"h-80 flex flex-col justify-center items-center",children:[r.jsxs("svg",{className:"animate-spin h-12 w-12 text-teal-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("p",{className:"mt-4 text-xl font-semibold text-gray-700",children:"Analyzing your meal..."})]}),s==="result"&&x&&r.jsxs("div",{children:[r.jsx("img",{src:m,alt:"Analyzed meal",className:"rounded-lg aspect-video object-cover mb-6"}),r.jsx("span",{className:"text-8xl",children:x.isHealthy?"😊":"🤔"}),r.jsx("div",{className:"my-4",children:U(x.rating)}),r.jsx("p",{className:"text-xl text-gray-700 bg-gray-50 p-4 rounded-lg",children:x.feedback}),a.mealPlan&&r.jsxs("div",{className:"mt-8 pt-6 border-t text-left",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4 text-center",children:"Sample Healthy Meal Plan"}),r.jsxs("div",{className:"space-y-4 text-lg",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-teal-700 flex items-center",children:[r.jsx("span",{className:"text-2xl mr-2",children:"🍳"}),r.jsx("span",{children:"Breakfast"})]}),r.jsx("p",{className:"text-gray-600 mt-1 pl-8",children:a.mealPlan.breakfast})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-teal-700 flex items-center",children:[r.jsx("span",{className:"text-2xl mr-2",children:"🥗"}),r.jsx("span",{children:"Lunch"})]}),r.jsx("p",{className:"text-gray-600 mt-1 pl-8",children:a.mealPlan.lunch})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-teal-700 flex items-center",children:[r.jsx("span",{className:"text-2xl mr-2",children:"🍲"}),r.jsx("span",{children:"Dinner"})]}),r.jsx("p",{className:"text-gray-600 mt-1 pl-8",children:a.mealPlan.dinner})]})]})]}),r.jsx("button",{onClick:D,className:"mt-8 w-full bg-teal-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-teal-700",children:"Analyze Another Meal"})]})]})]})}),r.jsx("style",{children:"@keyframes fade-in-up{0%{opacity:0;transform:translateY(20px) scale(.95)}100%{opacity:1;transform:translateY(0) scale(1)}}.animate-fade-in-up{animation:fade-in-up .3s ease-out forwards}"})]})},zC=({setActiveView:l})=>{const[n,a]=M.useState(null),[s,u]=M.useState("All"),m=v=>{v.navigateToView?l(v.navigateToView):a(v)},h=()=>{a(null)},x=["Nurturing Your Mental Wellness","Spiritual Wellness"],y=["All",...Array.from(new Set(tp.map(v=>v.category)))],g=tp.filter(v=>s==="All"||v.category===s);return r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("header",{className:"mb-10 text-center",children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"Health Education Library"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Knowledge to help you live a healthier, happier life."})]}),r.jsx("div",{className:"mb-10 flex flex-wrap justify-center gap-3",children:y.map(v=>r.jsx("button",{onClick:()=>u(v),className:`px-6 py-2 rounded-full font-semibold text-lg transition-all duration-300 transform hover:scale-105 ${s===v?"bg-teal-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-100 shadow-md"}`,children:v},v))}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[g.map(v=>{const T=x.includes(v.title);return r.jsxs("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden group transition-all duration-300 hover:shadow-2xl hover:-translate-y-2 flex flex-col ${T?"border-2 border-teal-400":""}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:v.imageUrl,alt:v.title,className:"h-56 w-full object-cover transition-transform duration-300 group-hover:scale-110"}),T&&r.jsx("div",{className:"absolute top-4 right-4 bg-white/80 backdrop-blur-sm p-2 rounded-full text-teal-500 shadow-md",children:r.jsx(ni,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[r.jsx("p",{className:"text-md font-semibold text-teal-600 tracking-wider uppercase",children:v.category}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mt-2 flex-grow",children:v.title}),v.contentType==="interactiveNutrition"&&v.quickTips?r.jsx("div",{className:"mt-3 space-y-2 text-md text-gray-600",children:v.quickTips.slice(0,2).map((C,b)=>r.jsxs("p",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2 pt-1",children:"💡"}),r.jsx("span",{children:C})]},b))}):r.jsx("p",{className:"text-md text-gray-600 mt-3",children:v.summary}),r.jsx("button",{onClick:()=>m(v),className:"mt-6 w-full bg-teal-50 text-teal-700 font-bold py-3 px-4 rounded-lg hover:bg-teal-100 transition-colors duration-300 self-end",children:v.contentType==="interactiveNutrition"?"Analyze Meal":"Learn More"})]})]},v.id)}),g.length===0&&r.jsxs("div",{className:"text-center py-20 col-span-full",children:[r.jsx("p",{className:"text-2xl font-semibold text-gray-500",children:"No articles found."}),r.jsx("p",{className:"text-lg text-gray-400 mt-2",children:"Try selecting another category."})]})]}),r.jsx(qC,{isOpen:!!n&&(n.contentType==="standard"||n.contentType==="religious"||!n.contentType),onClose:h,article:n}),r.jsx(GC,{isOpen:!!n&&n.contentType==="interactiveNutrition",onClose:h,article:n}),r.jsx("style",{children:`
          @keyframes fade-in {
            0% { opacity: 0; }
            100% { opacity: 1; }
          }
          .animate-fade-in {
            animation: fade-in 0.5s ease-out forwards;
          }
      `})]})},VC=()=>{const[l,n]=M.useState(""),[a,s]=M.useState(""),[u,m]=M.useState(!1),[h,x]=M.useState(""),y=async g=>{if(g.preventDefault(),!l.trim()){x("Please describe your symptoms before submitting.");return}x(""),m(!0),s("");try{const v=await vC(l);s(v)}catch{x("An unexpected error occurred. Please try again.")}finally{m(!1)}};return r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10",children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"AI Symptom Checker"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Get AI-powered health information instantly."})]}),r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[r.jsxs("form",{onSubmit:y,children:[r.jsx("label",{htmlFor:"symptoms",className:"text-2xl font-semibold text-gray-800",children:"Describe your symptoms"}),r.jsx("p",{className:"text-lg text-gray-500 mt-1 mb-4",children:'For example: "I have a headache and a slight fever for the past two days."'}),r.jsx("textarea",{id:"symptoms",value:l,onChange:g=>n(g.target.value),className:"w-full h-40 p-4 border-2 border-gray-200 rounded-lg text-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-shadow",placeholder:"Type here..."}),h&&r.jsx("p",{className:"text-red-600 mt-2",children:h}),r.jsx("button",{type:"submit",disabled:u,className:"mt-6 w-full flex items-center justify-center bg-teal-600 text-white font-bold py-4 px-6 rounded-lg text-xl hover:bg-teal-700 disabled:bg-gray-400 transition-colors",children:u?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Du,{}),r.jsx("span",{className:"ml-3",children:"Get AI Advice"})]})})]}),a&&r.jsxs("div",{className:"mt-8 pt-6 border-t-2 border-gray-100",children:[r.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"AI Health Information"}),r.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 bg-gray-50 p-6 rounded-lg whitespace-pre-wrap",children:a.split("**Disclaimer:**").map((g,v)=>v===1?r.jsxs("p",{children:[r.jsx("strong",{className:"text-red-700",children:"Disclaimer:"}),g]},v):r.jsx("p",{children:g},v))})]})]})]})},BC=({isOpen:l,onClose:n,onAddEvent:a})=>{const[s,u]=M.useState(""),[m,h]=M.useState(""),[x,y]=M.useState(""),[g,v]=M.useState(""),[T,C]=M.useState(""),b=E=>{E.preventDefault(),!(!s||!m||!x||!g)&&(a({title:s,date:m,time:x,location:g,description:T}),n(),u(""),h(""),y(""),v(""),C(""))};return l?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:n,children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full m-4 p-8 transform transition-all animate-fade-in-up",onClick:E=>E.stopPropagation(),children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Create a New Event"}),r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-lg font-medium text-gray-700",children:"Event Title"}),r.jsx("input",{type:"text",id:"title",value:s,onChange:E=>u(E.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"date",className:"block text-lg font-medium text-gray-700",children:"Date"}),r.jsx("input",{type:"text",id:"date",value:m,onChange:E=>h(E.target.value),placeholder:"e.g., Sunday, Aug 4",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"time",className:"block text-lg font-medium text-gray-700",children:"Time"}),r.jsx("input",{type:"text",id:"time",value:x,onChange:E=>y(E.target.value),placeholder:"e.g., 10:00 AM",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"location",className:"block text-lg font-medium text-gray-700",children:"Location"}),r.jsx("input",{type:"text",id:"location",value:g,onChange:E=>v(E.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-lg font-medium text-gray-700",children:"Description"}),r.jsx("textarea",{id:"description",value:T,onChange:E=>C(E.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500"})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700",children:"Create Event"})]})]})]})}):null},OC=({isOpen:l,onClose:n,onAttachMedia:a,mode:s})=>{const[u,m]=M.useState("upload"),[h,x]=M.useState("camera"),[y,g]=M.useState(null),[v,T]=M.useState(!1),[C,b]=M.useState(""),E=M.useRef(null),D=M.useRef(null),L=M.useCallback(()=>{D.current&&(D.current.getTracks().forEach(te=>te.stop()),D.current=null)},[]),Y=M.useCallback(async()=>{if(x("camera"),g(null),b(""),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{const te=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});E.current&&(E.current.srcObject=te),D.current=te}catch(te){console.error("Error accessing camera: ",te),b("Could not access camera. Please check permissions.")}else b("Camera not supported on this device.")},[]),U=M.useCallback(()=>{g(null),b(""),T(!1),m("upload"),x("camera"),L()},[L]);M.useEffect(()=>{l?U():L()},[l,U,L]),M.useEffect(()=>{l&&u==="capture"?Y():L()},[l,u,Y,L]);const P=()=>{U(),n()},V=te=>{if(!te)return;if(te.type.split("/")[0]!==s){b(`Please select an ${s} file.`);return}b("");const $=URL.createObjectURL(te);g($)},z=()=>{if(E.current){const te=document.createElement("canvas");te.width=E.current.videoWidth,te.height=E.current.videoHeight;const I=te.getContext("2d");if(I){I.drawImage(E.current,0,0,te.width,te.height);const $=te.toDataURL("image/jpeg");g($),x("preview"),L()}}},W=()=>{s==="image"?z():alert("Live video recording is not supported. Please upload a video file instead.")},Z=()=>{if(!y){b("Please select or capture media first.");return}a(y,s),P()},se=te=>{te.preventDefault(),te.stopPropagation(),T(!0)},ie=te=>{te.preventDefault(),te.stopPropagation(),T(!1)},ce=te=>{te.preventDefault(),te.stopPropagation()},X=te=>{te.preventDefault(),te.stopPropagation(),T(!1),te.dataTransfer.files&&te.dataTransfer.files.length>0&&V(te.dataTransfer.files[0])};if(!l)return null;const ae=()=>r.jsx("div",{onDragEnter:se,onDragLeave:ie,onDragOver:ce,onDrop:X,className:`flex justify-center rounded-lg border-2 border-dashed px-6 py-10 transition-colors ${v?"border-teal-500 bg-teal-50":"border-gray-300"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx(aa,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsxs("div",{className:"mt-4 flex text-lg text-gray-600",children:[r.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-semibold text-teal-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-teal-500 focus-within:ring-offset-2 hover:text-teal-500",children:[r.jsx("span",{children:"Upload a file"}),r.jsx("input",{id:"file-upload",name:"file-upload",type:"file",accept:`${s}/*`,className:"sr-only",onChange:te=>V(te.target.files?te.target.files[0]:null)})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Supports ",s==="image"?"PNG, JPG, GIF":"MP4, MOV"]})]})}),re=()=>r.jsxs("div",{children:[r.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:r.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}})}),r.jsxs("button",{type:"button",onClick:W,disabled:s==="video",className:"mt-4 w-full flex items-center justify-center bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:[r.jsx(sa,{className:"h-6 w-6 mr-2"})," Capture Photo"]})]}),ee=()=>r.jsxs("div",{className:"text-center",children:[s==="image"?r.jsx("img",{src:y,alt:"Preview",className:"max-h-80 w-auto rounded-lg mx-auto mb-4 object-contain"}):r.jsx("video",{src:y,controls:!0,className:"max-h-80 w-auto rounded-lg mx-auto mb-4"}),r.jsx("button",{type:"button",onClick:()=>u==="upload"?g(null):Y(),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:u==="upload"?"Choose Another":"Retake"})]});return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:P,children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-xl w-full m-4 p-8 transform transition-all animate-fade-in-up max-h-[90vh] flex flex-col",onClick:te=>te.stopPropagation(),children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:["Add ",s==="image"?"Photo":"Video"]}),r.jsx("div",{className:"border-b border-gray-200 mb-5",children:r.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[r.jsx("button",{type:"button",onClick:()=>{m("upload"),g(null)},className:`${u==="upload"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg`,children:"Upload"}),r.jsx("button",{type:"button",onClick:()=>{m("capture"),g(null)},className:`${u==="capture"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg`,children:"Capture"})]})}),r.jsx("div",{className:"flex-grow min-h-[250px] flex items-center justify-center",children:y?ee():u==="upload"?ae():re()}),C&&r.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:C}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 mt-4 border-t",children:[r.jsx("button",{type:"button",onClick:P,className:"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{type:"button",onClick:Z,disabled:!y,className:"bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Attach"})]})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: translateY(20px) scale(0.95); }
          100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.3s ease-out forwards; }
      `})]})},Dg=({comment:l,onLike:n,onReply:a})=>{const[s,u]=M.useState(!1),[m,h]=M.useState(""),x=y=>{y.preventDefault(),m.trim()&&(a(l.id,m),h(""),u(!1))};return r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("img",{src:l.authorImageUrl,alt:l.author,className:"w-9 h-9 rounded-full mt-1 object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"bg-gray-100 rounded-xl p-3",children:[r.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:l.author}),r.jsx("p",{className:"text-gray-700",children:l.content})]}),r.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500 mt-1 pl-2",children:[r.jsx("span",{className:"font-semibold",children:l.timestamp}),r.jsx("button",{onClick:()=>n(l.id),className:"font-semibold hover:underline",children:"Like"}),r.jsx("button",{onClick:()=>u(!s),className:"font-semibold hover:underline",children:"Reply"}),l.likes>0&&r.jsxs("div",{className:"flex items-center text-red-500",children:[r.jsx(Cx,{}),r.jsx("span",{className:"ml-1",children:l.likes})]})]}),s&&r.jsxs("form",{onSubmit:x,className:"mt-2 flex space-x-2",children:[r.jsx("input",{type:"text",value:m,onChange:y=>h(y.target.value),placeholder:`Reply to ${l.author}...`,className:"w-full border border-gray-300 rounded-full px-3 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-teal-500",autoFocus:!0}),r.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold px-4 rounded-full text-sm hover:bg-teal-700",children:"Send"})]}),r.jsx("div",{className:"mt-2 space-y-2",children:l.replies.map(y=>r.jsx(Dg,{comment:y,onLike:n,onReply:a},y.id))})]})]})},YC=({onSubmit:l,userProfilePicUrl:n})=>{const[a,s]=M.useState(""),u=m=>{m.preventDefault(),a.trim()&&(l(a),s(""))};return r.jsxs("form",{onSubmit:u,className:"flex items-start space-x-3 pt-4",children:[r.jsx("img",{src:n,alt:"Your avatar",className:"w-9 h-9 rounded-full mt-1 object-cover"}),r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"text",value:a,onChange:m=>s(m.target.value),placeholder:"Add a comment...",className:"w-full border border-gray-300 bg-gray-50 rounded-full px-4 py-2 text-md focus:outline-none focus:ring-2 focus:ring-teal-500"})})]})},JC=({userDetails:l})=>{const{name:n,profilePicUrl:a}=l,[s,u]=M.useState(px),[m,h]=M.useState(hx),[x,y]=M.useState(""),[g,v]=M.useState(!1),[T,C]=M.useState(!1),[b,E]=M.useState(null),[D,L]=M.useState("image"),[Y,U]=M.useState(null),[P,V]=M.useState(""),[z,W]=M.useState(null),Z=B=>B.reduce((w,q)=>w+1+Z(q.replies),0),se=B=>{L(B),C(!0)},ie=(B,w)=>{E({url:B,type:w}),C(!1)},ce=B=>{if(B.preventDefault(),!x.trim()&&!b)return;const w={id:`post${Date.now()}`,author:n,authorImageUrl:a,timestamp:"Just now",content:x,likes:0,comments:[],...b&&{mediaUrl:b.url,mediaType:b.type}};u(q=>[w,...q]),y(""),E(null)},X=B=>{const w={...B,id:`event${m.length+1}`,attendees:1,author:n};h([w,...m])},ae=B=>{u(w=>w.map(q=>q.id===B?{...q,likes:q.likes+1}:q))},re=(B,w)=>{u(q=>q.map(ne=>ne.id===B?{...ne,comments:w(ne.comments)}:ne))},ee=(B,w)=>{const q={id:`c${Date.now()}`,author:n,authorImageUrl:a,timestamp:"Just now",content:w,likes:0,replies:[]};u(ne=>ne.map(le=>le.id===B?{...le,comments:[...le.comments,q]}:le))},te=(B,w)=>{const q=ne=>ne.map(le=>le.id===w?{...le,likes:le.likes+1}:le.replies&&le.replies.length>0?{...le,replies:q(le.replies)}:le);re(B,q)},I=(B,w,q)=>{const ne={id:`c${Date.now()}`,author:n,authorImageUrl:a,timestamp:"Just now",content:q,likes:0,replies:[]},le=he=>he.map(pe=>pe.id===w?{...pe,replies:[...pe.replies,ne]}:pe.replies&&pe.replies.length>0?{...pe,replies:le(pe.replies)}:pe);re(B,le)},$=B=>{U(B.id),V(B.content),W(null)},J=()=>{U(null),V("")},F=B=>{P.trim()&&(u(w=>w.map(q=>q.id===B?{...q,content:P,edited:!0,timestamp:"Just now"}:q)),J())};return r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10",children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"Community Hub"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Connect, share, and engage with your peers."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:r.jsxs("form",{onSubmit:ce,children:[r.jsx("textarea",{value:x,onChange:B=>y(B.target.value),className:"w-full h-24 p-3 border-2 border-gray-200 rounded-lg text-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",placeholder:`What's on your mind, ${n}?`}),b&&r.jsxs("div",{className:"mt-4 relative group",children:[b.type==="image"?r.jsx("img",{src:b.url,alt:"Upload preview",className:"rounded-lg max-h-60 w-auto"}):r.jsx("video",{src:b.url,controls:!0,className:"rounded-lg max-h-60 w-auto"}),r.jsx("button",{type:"button",onClick:()=>E(null),className:"absolute top-2 right-2 p-1 bg-black bg-opacity-50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove media",children:r.jsx(Zh,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{type:"button",onClick:()=>se("image"),className:"flex items-center text-gray-600 hover:text-teal-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx(Nx,{className:"h-6 w-6"})," ",r.jsx("span",{className:"ml-2 hidden sm:inline",children:"Add Photo"})]}),r.jsxs("button",{type:"button",onClick:()=>se("video"),className:"flex items-center text-gray-600 hover:text-teal-600 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx(ku,{className:"h-6 w-6"})," ",r.jsx("span",{className:"ml-2 hidden sm:inline",children:"Add Video"})]})]}),r.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-6 rounded-full text-lg hover:bg-teal-700 disabled:bg-gray-300",disabled:!x.trim()&&!b,children:"Post"})]})]})}),s.map(B=>r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("img",{src:B.authorImageUrl,alt:B.author,className:"w-12 h-12 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-bold text-lg text-gray-800",children:B.author}),r.jsxs("p",{className:"text-sm text-gray-500",children:[B.timestamp," ",B.edited&&r.jsx("span",{className:"italic",children:"(edited)"})]})]}),B.author===n&&Y!==B.id&&r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>W(z===B.id?null:B.id),className:"p-2 rounded-full hover:bg-gray-100 text-gray-500",children:r.jsx(bx,{className:"h-6 w-6"})}),z===B.id&&r.jsx("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-md shadow-lg z-10",children:r.jsx("button",{onClick:()=>$(B),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Edit"})})]})]}),Y===B.id?r.jsxs("form",{onSubmit:w=>{w.preventDefault(),F(B.id)},className:"mt-4",children:[r.jsx("textarea",{value:P,onChange:w=>V(w.target.value),className:"w-full h-24 p-3 border-2 border-gray-200 rounded-lg text-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",autoFocus:!0}),r.jsxs("div",{className:"flex justify-end items-center mt-2 space-x-2",children:[r.jsx("button",{type:"button",onClick:J,className:"bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700",children:"Save"})]})]}):r.jsxs(r.Fragment,{children:[B.content&&r.jsx("p",{className:"mt-4 text-lg text-gray-700 whitespace-pre-wrap",children:B.content}),B.mediaUrl&&r.jsx("div",{className:"mt-4 rounded-lg overflow-hidden border",children:B.mediaType==="image"?r.jsx("img",{src:B.mediaUrl,alt:"Post content",className:"w-full object-cover"}):r.jsx("video",{src:B.mediaUrl,controls:!0,className:"w-full bg-black"})}),r.jsxs("div",{className:"mt-4 pt-3 border-t flex items-center space-x-6 text-gray-600",children:[r.jsxs("button",{onClick:()=>ae(B.id),className:"flex items-center font-semibold hover:text-red-500",children:[r.jsx(xx,{})," ",r.jsxs("span",{className:"ml-2",children:[B.likes," Likes"]})]}),r.jsxs("div",{className:"flex items-center font-semibold",children:[r.jsx(Is,{})," ",r.jsxs("span",{className:"ml-2",children:[Z(B.comments)," Comments"]})]})]}),r.jsx("div",{className:"mt-4 space-y-3",children:B.comments.map(w=>r.jsx(Dg,{comment:w,onLike:q=>te(B.id,q),onReply:(q,ne)=>I(B.id,q,ne)},w.id))}),r.jsx(YC,{onSubmit:w=>ee(B.id,w),userProfilePicUrl:a})]})]},B.id))]}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Upcoming Events"}),r.jsx("button",{onClick:()=>v(!0),className:"bg-teal-100 text-teal-700 font-bold px-4 py-2 rounded-lg text-sm hover:bg-teal-200",children:"Create Event"})]}),r.jsx("div",{className:"space-y-4",children:m.map(B=>r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[r.jsx("p",{className:"font-bold text-lg text-teal-700",children:B.title}),r.jsxs("div",{className:"text-sm text-gray-600 mt-2 space-y-1",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsx(Ds,{})," ",r.jsxs("span",{className:"ml-2",children:[B.date," at ",B.time]})]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx(Sx,{})," ",r.jsx("span",{className:"ml-2",children:B.location})]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx(Tx,{})," ",r.jsxs("span",{className:"ml-2",children:[B.attendees," going"]})]})]})]},B.id))})]})})]}),r.jsx(BC,{isOpen:g,onClose:()=>v(!1),onAddEvent:X}),r.jsx(OC,{isOpen:T,onClose:()=>C(!1),onAttachMedia:ie,mode:D})]})},Ih=({conversations:l,setConversations:n,currentUserId:a})=>{const[s,u]=M.useState(l[0]||null),[m,h]=M.useState(""),x=M.useRef(null),y=()=>{var C;(C=x.current)==null||C.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{y()},[s==null?void 0:s.messages]),M.useEffect(()=>{if(s){const C=l.find(b=>b.id===s.id);C&&u(C)}},[l,s]);const g=C=>{if(C.preventDefault(),!m.trim()||!s)return;const b={id:`msg-${Date.now()}`,text:m,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isMe:!0},E={...s,messages:[...s.messages,b],lastMessage:`You: ${m}`,lastMessageTimestamp:"Just now"},D=l.map(L=>L.id===s.id?E:L);n(D),u(E),h("")},v=C=>{(s==null?void 0:s.id)===C&&u(null),n(b=>b.filter(E=>E.id!==C))},T=C=>{C&&(window.location.href=`tel:${C}`)};return r.jsxs("div",{className:"flex h-full max-h-[calc(100vh-80px)]",children:[r.jsxs("div",{className:"w-1/3 min-w-[300px] bg-white rounded-l-2xl shadow-lg flex flex-col",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Chats"})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:l.map(C=>r.jsxs("div",{className:"relative group border-b",children:[r.jsxs("button",{onClick:()=>u(C),className:`w-full text-left p-4 flex items-center space-x-4 hover:bg-gray-50 ${(s==null?void 0:s.id)===C.id?"bg-teal-50":""}`,children:[r.jsx("img",{src:C.participantImageUrl,alt:C.participantName,className:"w-14 h-14 rounded-full"}),r.jsxs("div",{className:"flex-1 overflow-hidden",children:[r.jsxs("div",{className:"flex justify-between items-baseline",children:[r.jsx("p",{className:"font-bold text-lg text-gray-800 truncate",children:C.participantName}),r.jsx("p",{className:"text-xs text-gray-500 whitespace-nowrap",children:C.lastMessageTimestamp})]}),r.jsx("p",{className:"text-md text-gray-600 truncate",children:C.lastMessage})]})]}),r.jsx("button",{onClick:b=>{b.stopPropagation(),v(C.id)},className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-gray-100 text-gray-600 opacity-0 group-hover:opacity-100 hover:bg-red-100 hover:text-red-600 transition-all duration-200","aria-label":`Delete conversation with ${C.participantName}`,title:`Delete conversation with ${C.participantName}`,children:r.jsx(Uu,{})})]},C.id))})]}),r.jsx("div",{className:"w-2/3 flex flex-col bg-gray-100 rounded-r-2xl shadow-inner",children:s?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 bg-white border-b border-gray-200 rounded-tr-2xl flex justify-between items-center shadow-sm",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:s.participantImageUrl,alt:s.participantName,className:"w-12 h-12 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-xl text-gray-800",children:s.participantName}),r.jsx("p",{className:"text-sm text-green-600",children:"Online"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>T(s.participantPhone),disabled:!s.participantPhone,title:s.participantPhone?`Call ${s.participantName}`:"Phone number not available",className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full disabled:text-gray-300 disabled:cursor-not-allowed",children:r.jsx(Lu,{className:"h-6 w-6"})}),r.jsx("button",{onClick:()=>T(s.participantPhone),disabled:!s.participantPhone,title:s.participantPhone?`Video call ${s.participantName}`:"Phone number not available",className:"p-2 text-gray-600 hover:bg-gray-100 rounded-full disabled:text-gray-300 disabled:cursor-not-allowed",children:r.jsx(ku,{className:"h-6 w-6"})})]})]}),r.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:r.jsxs("div",{className:"flex flex-col space-y-4",children:[s.messages.map(C=>r.jsx("div",{className:`flex items-end space-x-2 ${C.isMe?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-md p-3 rounded-2xl ${C.isMe?"bg-teal-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none"}`,children:[r.jsx("p",{children:C.text}),r.jsx("p",{className:`text-xs mt-1 ${C.isMe?"text-teal-100":"text-gray-400"} text-right`,children:C.timestamp})]})},C.id)),r.jsx("div",{ref:x})]})}),r.jsxs("div",{className:"p-4 bg-white border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500 mb-2",children:[r.jsx(Wh,{className:"h-3 w-3 mr-1"}),r.jsx("span",{children:"End-to-end encrypted"})]}),r.jsxs("form",{onSubmit:g,className:"flex items-center space-x-4",children:[r.jsx("input",{type:"text",value:m,onChange:C=>h(C.target.value),placeholder:"Type a message...",className:"flex-1 bg-gray-100 border-2 border-transparent focus:border-teal-500 rounded-full px-5 py-3 text-lg focus:outline-none"}),r.jsx("button",{type:"submit",className:"bg-teal-600 text-white rounded-full p-3 hover:bg-teal-700 transition-colors",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 transform rotate-90",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})]}):r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center text-gray-500",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),r.jsx("h3",{className:"mt-4 text-2xl font-semibold",children:"Select a conversation"}),r.jsx("p",{className:"mt-1 text-lg",children:"Start chatting with your friends and doctors."})]})})]})},FC=({isOpen:l,onClose:n,onSave:a})=>{const[s,u]=M.useState(null),[m,h]=M.useState("upload"),[x,y]=M.useState("camera"),[g,v]=M.useState(!1),[T,C]=M.useState(""),b=M.useRef(null),E=M.useRef(null),D=M.useCallback(()=>{E.current&&(E.current.getTracks().forEach(X=>X.stop()),E.current=null)},[]),L=M.useCallback(async()=>{if(y("camera"),u(null),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)try{const X=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});b.current&&(b.current.srcObject=X),E.current=X}catch(X){console.error("Error accessing camera: ",X),C("Could not access camera. Please check permissions.")}else C("Camera not supported on this device.")},[]),Y=M.useCallback(()=>{u(null),C(""),v(!1),h("upload"),y("camera"),D()},[D]);M.useEffect(()=>(l?m==="capture"&&L():Y(),()=>D()),[l,m,L,D,Y]);const U=()=>{Y(),n()},P=X=>{if(!X||!X.type.startsWith("image/")){C("Please select an image file.");return}C("");const ae=new FileReader;ae.onload=re=>{var ee;u((ee=re.target)==null?void 0:ee.result)},ae.readAsDataURL(X)},V=()=>{if(b.current){const X=document.createElement("canvas");X.width=b.current.videoWidth,X.height=b.current.videoHeight;const ae=X.getContext("2d");if(ae){ae.drawImage(b.current,0,0,X.width,X.height);const re=X.toDataURL("image/jpeg");u(re),y("preview"),D()}}},z=()=>{if(!s){C("Please select or capture an image first.");return}a(s),U()},W=X=>{X.preventDefault(),X.stopPropagation(),v(!0)},Z=X=>{X.preventDefault(),X.stopPropagation(),v(!1)},se=X=>{X.preventDefault(),X.stopPropagation()},ie=X=>{X.preventDefault(),X.stopPropagation(),v(!1),X.dataTransfer.files&&X.dataTransfer.files.length>0&&(P(X.dataTransfer.files[0]),X.dataTransfer.clearData())};if(!l)return null;const ce=()=>{if(s)return r.jsxs("div",{className:"text-center",children:[r.jsx("img",{src:s,alt:"Preview",className:"max-h-80 w-auto rounded-lg mx-auto mb-4 object-contain"}),r.jsx("button",{type:"button",onClick:()=>m==="upload"?u(null):L(),className:"bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:m==="upload"?"Choose Another":"Retake Photo"})]});if(m==="upload")return r.jsx("div",{onDragEnter:W,onDragLeave:Z,onDragOver:se,onDrop:ie,className:`flex justify-center rounded-lg border-2 border-dashed px-6 py-10 ${g?"border-teal-500 bg-teal-50":"border-gray-300"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx(aa,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsxs("div",{className:"mt-4 flex text-lg text-gray-600",children:[r.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-semibold text-teal-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-teal-500 focus-within:ring-offset-2 hover:text-teal-500",children:[r.jsx("span",{children:"Upload a file"}),r.jsx("input",{id:"file-upload",name:"file-upload",type:"file",accept:"image/*",className:"sr-only",onChange:X=>P(X.target.files?X.target.files[0]:null)})]}),r.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})});if(m==="capture")return r.jsxs("div",{children:[r.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video",children:r.jsx("video",{ref:b,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}})}),r.jsxs("button",{type:"button",onClick:V,className:"mt-4 w-full flex items-center justify-center bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors",children:[r.jsx(sa,{className:"h-6 w-6 mr-2"})," Capture"]})]})};return r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:U,children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-xl w-full m-4 p-8 transform transition-all animate-fade-in-up max-h-[90vh] flex flex-col",onClick:X=>X.stopPropagation(),children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Update Profile Picture"}),r.jsx("div",{className:"border-b border-gray-200 mb-5",children:r.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[r.jsx("button",{type:"button",onClick:()=>h("upload"),className:`${m==="upload"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg`,children:"Upload Photo"}),r.jsx("button",{type:"button",onClick:()=>h("capture"),className:`${m==="capture"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg`,children:"Capture Image"})]})}),r.jsx("div",{className:"flex-grow min-h-[200px] flex items-center justify-center",children:ce()}),T&&r.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:T}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 mt-4 border-t",children:[r.jsx("button",{type:"button",onClick:U,className:"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{type:"button",onClick:z,disabled:!s,className:"bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Save"})]})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: translateY(20px) scale(0.95); }
          100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.3s ease-out forwards; }
      `})]})},_s=({icon:l,label:n,value:a})=>r.jsxs("div",{className:"flex items-center border-b py-4",children:[r.jsx("div",{className:"text-gray-500 mr-4",children:l}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-500",children:n}),r.jsx("p",{className:"text-lg font-semibold text-gray-800",children:a})]})]}),XC=({user:l,onUpdateProfilePic:n})=>{const[a,s]=M.useState(!1),u=m=>{n(m),s(!1)};return r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10",children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"Your Profile"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Manage your personal information and preferences."})]}),r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[r.jsxs("div",{className:"flex flex-col items-center mb-8",children:[r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:l.profilePicUrl,alt:"Profile",className:"w-32 h-32 rounded-full border-4 border-teal-500 object-cover"}),r.jsx("button",{onClick:()=>s(!0),className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 flex items-center justify-center rounded-full transition-all duration-300 cursor-pointer","aria-label":"Change profile picture",children:r.jsx(sa,{className:"h-10 w-10 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),r.jsx("h3",{className:"text-3xl font-bold text-gray-800 mt-4",children:l.name})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(_s,{icon:r.jsx(Ps,{className:"h-6 w-6"}),label:"Full Name",value:l.name}),r.jsx(_s,{icon:r.jsx(oa,{className:"h-6 w-6"}),label:"Email Address",value:l.email}),r.jsx(_s,{icon:r.jsx(eg,{className:"h-6 w-6"}),label:"Phone Number",value:l.phone}),r.jsx(_s,{icon:r.jsx(Ds,{}),label:"Age",value:l.age})]}),r.jsx("div",{className:"mt-8",children:r.jsx("button",{className:"w-full bg-teal-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-teal-700 transition-colors",children:"Save Changes"})})]})}),r.jsx(FC,{isOpen:a,onClose:()=>s(!1),onSave:u})]})},Uh=()=>r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10",children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"Relaxing Music"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"A space to unwind and listen to calming tunes."})]}),r.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-lg",children:r.jsx("div",{className:"aspect-w-16 aspect-h-9",children:r.jsx("iframe",{className:"w-full h-full rounded-xl",style:{height:"70vh"},src:"https://www.youtube.com/embed/eTucXMU8ctw?list=RDeTucXMU8ctw",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})]}),kh=({title:l,description:n,icon:a,onClick:s})=>r.jsxs("button",{onClick:s,className:"w-full bg-white/90 backdrop-blur-sm p-8 rounded-2xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 flex flex-col items-center text-center border border-white/20",children:[r.jsx("div",{className:"bg-teal-100 p-5 rounded-full text-teal-600 mb-6",children:qh.cloneElement(a,{className:"h-16 w-16"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:l}),r.jsx("p",{className:"text-lg text-gray-600 mt-2",children:n})]}),KC=({onSelectRole:l})=>r.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center p-4 font-sans bg-cover bg-center",style:{backgroundImage:"url(https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?q=80&w=2070&auto=format&fit=crop)"},children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 z-0"}),r.jsxs("div",{className:"relative z-10 w-full max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(ia,{}),r.jsx("h1",{className:"text-5xl font-bold text-white ml-4 drop-shadow-lg",children:"ElderlyEase"})]}),r.jsx("p",{className:"text-2xl text-gray-200 mt-4 drop-shadow-md",children:"Your trusted partner in senior healthcare."})]}),r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-8 drop-shadow-md",children:"Who are you?"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx(kh,{title:"I'm a Patient",description:"Access your health records, reminders, and connect with your care team.",icon:r.jsx(Ps,{}),onClick:()=>l("patient")}),r.jsx(kh,{title:"I'm a Doctor",description:"Manage your patients, view appointments, and provide consultations.",icon:r.jsx(Ru,{}),onClick:()=>l("doctor")})]})]})]}),QC=({userName:l,onComplete:n,onBack:a})=>{const[s,u]=M.useState(30);return r.jsxs("div",{className:"animate-fade-in flex flex-col h-full",children:[r.jsxs("h2",{className:"text-3xl font-bold text-gray-800 text-center mb-2",children:["Welcome, ",l.split(" ")[0],"!"]}),r.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Please select your age."}),r.jsxs("div",{className:"flex-grow flex flex-col justify-center items-center",children:[r.jsx("div",{className:"text-8xl font-bold text-teal-600 mb-8 transition-all duration-300 transform scale-100 hover:scale-110",children:s}),r.jsx("input",{type:"range",min:"1",max:"100",value:s,onChange:m=>u(parseInt(m.target.value)),className:"w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg accent-teal-600"}),r.jsxs("div",{className:"w-full flex justify-between text-sm text-gray-500 px-1 mt-2",children:[r.jsx("span",{children:"1"}),r.jsx("span",{children:"100"})]})]}),r.jsxs("div",{className:"mt-8 flex flex-col space-y-3",children:[r.jsx("button",{onClick:()=>n(s),className:"w-full bg-teal-600 text-white font-bold py-4 rounded-lg text-xl hover:bg-teal-700 transition-transform transform hover:scale-105",children:"Complete Registration"}),r.jsx("button",{onClick:a,className:"w-full text-center text-gray-600 font-semibold py-2 rounded-lg hover:bg-gray-100",children:"← Go Back"})]})]})},$C=({onLogin:l})=>{const[n,a]=M.useState(1),[s,u]=M.useState({name:"",email:"",phone:""}),[m,h]=M.useState({}),x=()=>{const T={};return s.name.trim()||(T.name="Full name is required."),s.email.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)||(T.email="Please enter a valid email address."),s.phone.match(/^\d{10}$/)||(T.phone="Please enter a valid 10-digit phone number."),h(T),Object.keys(T).length===0},y=T=>{T.preventDefault(),x()&&a(2)},g=T=>{const C={...s,age:T};console.log("Registration complete:",C),l(C)},v=T=>{const{name:C,value:b}=T.target;u(E=>({...E,[C]:b})),m[C]&&h(E=>({...E,[C]:void 0}))};return r.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4 font-sans",children:[r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-center mb-8",children:[r.jsx(ia,{}),r.jsx("h1",{className:"text-4xl font-bold text-teal-600 ml-4",children:"ElderlyEase"})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 transform transition-all duration-500",style:{minHeight:"450px"},children:[n===1&&r.jsxs("div",{className:"animate-fade-in",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 text-center mb-2",children:"Create Your Account"}),r.jsx("p",{className:"text-center text-gray-500 mb-8",children:"Join our community to take better care of yourself."}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:r.jsx(Ps,{className:"h-6 w-6"})}),r.jsx("input",{type:"text",name:"name",value:s.name,onChange:v,placeholder:"Full Name",className:`w-full pl-12 pr-4 py-3 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 transition ${m.name?"border-red-500 focus:ring-red-400":"border-gray-200 focus:ring-teal-400"}`}),m.name&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.name})]}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:r.jsx(oa,{className:"h-6 w-6"})}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:v,placeholder:"Email Address",className:`w-full pl-12 pr-4 py-3 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 transition ${m.email?"border-red-500 focus:ring-red-400":"border-gray-200 focus:ring-teal-400"}`}),m.email&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:r.jsx(eg,{className:"h-6 w-6"})}),r.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:v,placeholder:"Phone Number",className:`w-full pl-12 pr-4 py-3 border-2 rounded-lg text-lg focus:outline-none focus:ring-2 transition ${m.phone?"border-red-500 focus:ring-red-400":"border-gray-200 focus:ring-teal-400"}`}),m.phone&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone})]}),r.jsx("button",{type:"submit",className:"w-full bg-teal-600 text-white font-bold py-4 rounded-lg text-xl hover:bg-teal-700 transition-transform transform hover:scale-105",children:"Continue →"})]})]}),n===2&&r.jsx(QC,{userName:s.name,onComplete:g,onBack:()=>a(1)})]})]}),r.jsx("style",{children:`
        @keyframes fade-in {
          0% { opacity: 0; transform: translateY(10px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out forwards;
        }
      `})]})},ZC=({onLogin:l})=>r.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4 font-sans",children:r.jsxs("div",{className:"w-full max-w-4xl mx-auto text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-8",children:[r.jsx(ia,{}),r.jsx("h1",{className:"text-4xl font-bold text-teal-600 ml-4",children:"Doctor Portal"})]}),r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back, Doctor"}),r.jsx("p",{className:"text-xl text-gray-500 mb-10",children:"Please select your profile to continue."}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:Gh.map(n=>r.jsxs("button",{onClick:()=>l(n),className:"bg-white p-6 rounded-2xl shadow-lg flex flex-col items-center text-center transition-transform transform hover:-translate-y-2 hover:shadow-xl group",children:[r.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-28 h-28 rounded-full mb-4 border-4 border-gray-200 group-hover:border-teal-400 transition-colors"}),r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:n.name}),r.jsx("p",{className:"text-md text-teal-600 font-semibold",children:n.specialty})]},n.id))})]})}),WC=({isOpen:l,onClose:n,patient:a,onSchedule:s,onSendMessage:u})=>{const[m,h]=M.useState(new Date().toISOString().split("T")[0]),[x,y]=M.useState("10:00"),[g,v]=M.useState(""),[T,C]=M.useState(!0),[b,E]=M.useState(!1),D=L=>{if(L.preventDefault(),!m||!x){v("Please select a valid date and time.");return}v("");const Y=new Date(m).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),U=new Date(`1970-01-01T${x}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),P=`This is a friendly reminder of your upcoming appointment for a Routine Check-up on ${Y} at ${U}.`;if(T){const z=encodeURIComponent("Appointment Reminder: Routine Check-up"),W=encodeURIComponent(`Dear ${a.name},

${P}

Best regards,
ElderlyEase Clinic`);window.open(`mailto:${a.email}?subject=${z}&body=${W}`)}b&&u(a.id,P);const V={title:"Routine Check-up",time:`${Y}, ${U}`,patientId:a.id,date:m};s(V),n()};return l?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:n,children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full m-4 p-8 transform transition-all animate-fade-in-up",onClick:L=>L.stopPropagation(),children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Schedule Appointment"}),r.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["For: ",r.jsx("span",{className:"font-semibold text-teal-700",children:a.name})]}),r.jsxs("form",{onSubmit:D,className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-lg font-medium text-gray-700",children:"Appointment Type"}),r.jsx("input",{type:"text",id:"title",value:"Routine Check-up",disabled:!0,className:"mt-1 block w-full bg-gray-100 border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg text-gray-500"})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"date",className:"block text-lg font-medium text-gray-700",children:"Date"}),r.jsx("input",{type:"date",id:"date",value:m,onChange:L=>h(L.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"time",className:"block text-lg font-medium text-gray-700",children:"Time"}),r.jsx("input",{type:"time",id:"time",value:x,onChange:L=>y(L.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Notification Options"}),r.jsxs("div",{className:"mt-2 space-y-3 rounded-md bg-gray-50 p-4 border",children:[r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:T,onChange:()=>C(!T),className:"h-5 w-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"ml-3 text-md text-gray-700",children:"Send Email Reminder"}),r.jsx(oa,{className:"h-5 w-5 ml-auto text-gray-400"})]}),r.jsxs("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:()=>E(!b),className:"h-5 w-5 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),r.jsx("span",{className:"ml-3 text-md text-gray-700",children:"Send SMS (In-App Chat) Reminder"}),r.jsx(Is,{})]})]})]}),g&&r.jsx("p",{className:"text-red-500 text-sm",children:g}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700",children:"Schedule"})]})]})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: translateY(20px) scale(0.95); }
          100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.3s ease-out forwards; }
      `})]}):null},Lh=({doctor:l,reminders:n,onScheduleAppointment:a,onSendMessage:s})=>{const[u,m]=M.useState(!1),[h,x]=M.useState(null),y=M.useMemo(()=>{const b=new Date().toLocaleDateString("en-US",{weekday:"long"});return n.filter(E=>E.type==="Appointment"&&(E.time.toLowerCase().includes("today")||E.time.toLowerCase().includes(b.toLowerCase())||E.time.toLowerCase().includes("tomorrow")))},[n]),g=b=>la.find(E=>E.id===b),v=b=>{x(b),m(!0)},T=b=>{const E=encodeURIComponent("Follow-up from your recent visit"),D=encodeURIComponent(`Dear ${b.name},

I hope you are doing well.

Please let me know if you have any questions.

Best regards,
${l.name}`);window.location.href=`mailto:${b.email}?subject=${E}&body=${D}`},C=b=>{const E=prompt(`Enter message for ${b.name}:`,`Hi ${b.name}, this is a reminder about our upcoming appointment.`);E&&E.trim()&&(s(b.id,E.trim()),alert("Message sent!"))};return r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10",children:[r.jsxs("h2",{className:"text-5xl font-bold text-gray-800",children:["Welcome back, ",l.name]}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Here's your summary for today."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(hn,{title:"Upcoming Appointments",icon:r.jsx(js,{className:"h-8 w-8"}),className:"h-full",children:r.jsx("div",{className:"space-y-4",children:y.length>0?y.map(b=>{const E=b.patientId?g(b.patientId):null;return r.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-lg text-gray-800",children:E?E.name:b.title}),r.jsx("p",{className:"text-md text-gray-600",children:E?b.title:"General Appointment"}),r.jsx("p",{className:"text-md font-semibold text-teal-600",children:b.time})]}),E&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>window.location.href=`tel:${E.phone}`,className:"p-2 bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200",title:`Call ${E.name}`,children:r.jsx(Lu,{className:"h-5 w-5"})}),r.jsx("button",{type:"button",onClick:()=>C(E),className:"p-2 bg-green-100 text-green-700 rounded-full hover:bg-green-200",title:`Send message to ${E.name}`,children:r.jsx(Is,{})})]})]},b.id)}):r.jsx("p",{className:"text-center text-gray-500 py-8",children:"No appointments scheduled for today or tomorrow."})})})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(hn,{title:"My Patients",icon:r.jsx(Iu,{}),className:"h-full",children:r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:la.map(b=>r.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded-lg border",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("img",{src:b.profilePicUrl,alt:b.name,className:"w-10 h-10 rounded-full mr-3"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-md text-gray-800",children:b.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Age: ",b.age]})]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{type:"button",onClick:()=>v(b),className:"p-2 bg-teal-100 text-teal-700 rounded-lg hover:bg-teal-200 text-sm font-semibold",title:`Schedule for ${b.name}`,children:"Schedule"}),r.jsx("button",{type:"button",onClick:()=>C(b),className:"p-2 bg-green-100 text-green-700 rounded-full hover:bg-green-200",title:`Send message to ${b.name}`,children:r.jsx(Is,{})}),r.jsx("button",{type:"button",onClick:()=>T(b),className:"p-2 bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200",title:`Send email to ${b.name}`,children:r.jsx(oa,{className:"h-5 w-5"})})]})]},b.id))})})})]}),r.jsx("div",{className:"mt-8",children:r.jsx(hn,{title:"Relaxing Music",icon:r.jsx(Fh,{className:"h-8 w-8"}),onClick:()=>window.open("https://www.youtube.com/watch?v=eTucXMU8ctw&list=RDeTucXMU8ctw&index=1","_blank"),children:r.jsx("p",{className:"text-lg text-gray-700",children:"Take a break and unwind with a curated playlist of calming songs."})})}),h&&r.jsx(WC,{isOpen:u,onClose:()=>m(!1),patient:h,onSchedule:a,onSendMessage:s})]})},eN=l=>{switch(l){case"Prescription":return r.jsx("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-full",children:r.jsx(Kh,{className:"h-5 w-5"})});case"Lab Report":return r.jsx("div",{className:"bg-green-100 text-green-600 p-3 rounded-full",children:r.jsx(Wl,{className:"h-5 w-5"})});case"Consultation Note":return r.jsx("div",{className:"bg-purple-100 text-purple-600 p-3 rounded-full",children:r.jsx(tg,{className:"h-5 w-5"})});default:return r.jsx("div",{className:"bg-gray-100 text-gray-600 p-3 rounded-full",children:r.jsx(Wl,{className:"h-5 w-5"})})}},tN=({healthRecords:l,patients:n,reminders:a,conversations:s,onAddHealthRecord:u})=>{const[m,h]=M.useState(n.length>0?n[0].id:null),[x,y]=M.useState(!1),[g,v]=M.useState(null),[T,C]=M.useState("All"),b=M.useMemo(()=>n.find(U=>U.id===m),[n,m]),E=M.useMemo(()=>m?a.filter(U=>U.patientId===m&&U.type==="Appointment"):[],[a,m]),D=M.useMemo(()=>m?s.find(U=>U.patientId===m):null,[s,m]),L=M.useMemo(()=>{if(!m)return[];const U=l.filter(V=>V.patientId===m);return(T==="All"?U:U.filter(V=>V.type===T)).sort((V,z)=>new Date(z.eventDate).getTime()-new Date(V.eventDate).getTime())},[l,m,T]),Y=U=>{if(!U.fileData||!U.fileName)return;const P=V=>{var W;switch((W=V.split(".").pop())==null?void 0:W.toLowerCase()){case"pdf":return"application/pdf";case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"doc":return"application/msword";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";default:return"application/octet-stream"}};try{const V=atob(U.fileData),z=new Array(V.length);for(let ce=0;ce<V.length;ce++)z[ce]=V.charCodeAt(ce);const W=new Uint8Array(z),Z=new Blob([W],{type:P(U.fileName)}),se=window.URL.createObjectURL(Z),ie=document.createElement("a");ie.href=se,ie.download=U.fileName,document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(se),document.body.removeChild(ie)}catch(V){console.error("Failed to download file:",V),alert("Could not download the file. It might be corrupted.")}};return r.jsxs("div",{className:"flex h-full max-h-[calc(100vh-64px)] gap-8",children:[r.jsxs("div",{className:"w-1/3 min-w-[350px] bg-white rounded-2xl shadow-lg flex flex-col",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Patients"})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:n.map(U=>r.jsxs("button",{onClick:()=>h(U.id),className:`w-full text-left p-4 flex items-center space-x-4 border-b hover:bg-gray-50 ${m===U.id?"bg-teal-50 border-l-4 border-teal-500":""}`,children:[r.jsx("img",{src:U.profilePicUrl,alt:U.name,className:"w-14 h-14 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1 overflow-hidden",children:[r.jsx("p",{className:"font-bold text-lg text-gray-800 truncate",children:U.name}),r.jsxs("p",{className:"text-md text-gray-600",children:["Age: ",U.age]})]})]},U.id))})]}),r.jsx("div",{className:"w-2/3 flex-1 flex flex-col bg-gray-50 rounded-2xl shadow-inner overflow-y-auto",children:b?r.jsxs("div",{className:"p-8 space-y-8",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("img",{src:b.profilePicUrl,alt:b.name,className:"w-24 h-24 rounded-full border-4 border-white shadow-md"}),r.jsxs("div",{className:"ml-6 flex-1",children:[r.jsx("h3",{className:"text-4xl font-bold text-gray-800",children:b.name}),r.jsxs("div",{className:"flex items-center space-x-6 text-gray-600 mt-2 text-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(oa,{className:"h-5 w-5 mr-2"})," ",r.jsx("span",{children:b.email})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Lu,{className:"h-5 w-5 mr-2"})," ",r.jsx("span",{children:b.phone})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-4 rounded-xl shadow",children:[r.jsx("h4",{className:"font-semibold text-gray-500",children:"Upcoming Appointments"}),r.jsx("p",{className:"text-2xl font-bold text-teal-700",children:E.length}),E[0]&&r.jsxs("p",{className:"text-sm text-gray-500 truncate",children:["Next: ",E[0].time]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-xl shadow",children:[r.jsx("h4",{className:"font-semibold text-gray-500",children:"Last Communication"}),D?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-xl font-bold text-gray-700 truncate",children:D.lastMessage}),r.jsx("p",{className:"text-sm text-gray-500",children:D.lastMessageTimestamp})]}):r.jsx("p",{className:"text-xl font-bold text-gray-700",children:"None"})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:"Health Record Timeline"}),r.jsxs("button",{onClick:()=>y(!0),className:"flex items-center bg-teal-600 text-white font-bold py-2 px-4 rounded-lg text-md hover:bg-teal-700 transition-colors",children:[r.jsx(aa,{className:"h-5 w-5 mr-2"}),"Add Record"]})]}),r.jsx("div",{className:"mb-4 flex space-x-2 bg-white p-1 rounded-lg shadow-sm max-w-md",children:["All","Prescription","Lab Report","Consultation Note"].map(U=>r.jsx("button",{onClick:()=>C(U),className:`w-full text-center font-semibold py-1 px-3 text-sm rounded-md transition-colors ${T===U?"bg-teal-600 text-white shadow":"text-gray-600 hover:bg-gray-100"}`,children:U},U))}),r.jsx("div",{className:"space-y-4",children:L.length>0?L.map(U=>r.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[eN(U.type),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-lg font-bold text-gray-800",children:U.title}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1 space-x-3",children:[r.jsx("span",{children:U.type}),r.jsx("span",{className:"text-gray-300",children:"•"}),r.jsx("span",{children:new Date(U.eventDate).toLocaleDateString()})]})]})]}),U.fileName&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>v(U),className:"flex items-center bg-teal-100 text-teal-800 font-semibold py-2 px-3 rounded-lg hover:bg-teal-200 text-sm",children:"View"}),r.jsxs("button",{onClick:()=>Y(U),className:"flex items-center bg-gray-100 text-gray-700 font-semibold py-2 px-3 rounded-lg hover:bg-gray-200 text-sm",children:[r.jsx(Xh,{className:"h-4 w-4 mr-2"}),"Download"]})]})]},U.id)):r.jsx("div",{className:"text-center py-10 bg-white rounded-xl shadow-sm",children:r.jsxs("p",{className:"text-lg font-semibold text-gray-500",children:["No ",T!=="All"?T.toLowerCase():""," records found for ",b.name,"."]})})})]})]}):r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center text-gray-500 p-8",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),r.jsx("h3",{className:"mt-4 text-2xl font-semibold",children:"Select a patient"}),r.jsx("p",{className:"mt-1 text-lg",children:"Choose a patient from the list to view their complete health dossier."})]})}),b&&r.jsx(Mg,{isOpen:x,onClose:()=>y(!1),onUpload:u,patientId:b.id}),r.jsx(Rg,{isOpen:!!g,onClose:()=>v(null),record:g})]})},nN=()=>{const l=[];for(let n=9;n<=17;n++)for(let a=0;a<60;a+=30){const s=n.toString().padStart(2,"0"),u=a.toString().padStart(2,"0");l.push(`${s}:${u}`)}return l},jh=l=>{if(!l.includes(":"))return"Invalid Time";const[n,a]=l.split(":"),s=parseInt(n,10),u=s>=12?"PM":"AM";return`${s%12===0?12:s%12}:${a} ${u}`},lN=({value:l,onChange:n})=>{const[a,s]=M.useState(!1),u=nN(),m=M.useRef(null),h=M.useRef(null);M.useEffect(()=>{const y=g=>{m.current&&!m.current.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),M.useEffect(()=>{if(a&&h.current){const y=h.current.querySelector(`[data-time-value="${l}"]`);y&&y.scrollIntoView({block:"nearest"})}},[a,l]);const x=y=>{n(y),s(!1)};return r.jsxs("div",{className:"relative",ref:m,children:[r.jsxs("button",{type:"button",onClick:()=>s(!a),className:"mt-1 flex items-center justify-between w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white",children:[r.jsx("span",{children:jh(l)}),r.jsx(js,{className:"h-5 w-5 text-gray-400"})]}),a&&r.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-y-auto",children:r.jsx("ul",{ref:h,className:"py-1",children:u.map(y=>r.jsx("li",{children:r.jsx("button",{type:"button","data-time-value":y,onClick:()=>x(y),className:`w-full text-left px-4 py-2 text-lg transition-colors duration-150 ${l===y?"bg-teal-100 text-teal-700 font-semibold":"text-gray-800 hover:bg-gray-50"}`,children:jh(y)})},y))})})]})},iN=({isOpen:l,onClose:n,selectedDate:a,patients:s,onSchedule:u})=>{const[m,h]=M.useState(s.length>0?s[0].id:""),[x,y]=M.useState("10:00"),[g,v]=M.useState("Consultation"),[T,C]=M.useState(""),b=E=>{if(E.preventDefault(),!m||!x||!g.trim()){C("Please fill in all fields.");return}C("");const D=new Date(a),[L,Y]=x.split(":").map(Number);D.setHours(L,Y);const U=D.toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),P={title:g,time:U,patientId:m,date:a.toISOString().split("T")[0]};u(P),n()};return l?r.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:n,children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full m-4 p-8 transform transition-all animate-fade-in-up",onClick:E=>E.stopPropagation(),children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Add Appointment"}),r.jsxs("p",{className:"text-xl text-gray-600 mb-6",children:["For: ",r.jsx("span",{className:"font-semibold text-teal-700",children:a.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),r.jsxs("form",{onSubmit:b,className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"patient",className:"block text-lg font-medium text-gray-700",children:"Patient"}),r.jsx("select",{id:"patient",value:m,onChange:E=>h(E.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500",required:!0,children:s.map(E=>r.jsx("option",{value:E.id,children:E.name},E.id))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-lg font-medium text-gray-700",children:"Appointment Type"}),r.jsx("input",{type:"text",id:"title",value:g,onChange:E=>v(E.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-lg focus:outline-none focus:ring-teal-500 focus:border-teal-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Time"}),r.jsx(lN,{value:x,onChange:y})]}),T&&r.jsx("p",{className:"text-red-500 text-sm",children:T}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300",children:"Cancel"}),r.jsx("button",{type:"submit",className:"bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700",children:"Add Appointment"})]})]})]}),r.jsx("style",{children:`
        @keyframes fade-in-up {
          0% { opacity: 0; transform: translateY(20px) scale(0.95); }
          100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.3s ease-out forwards; }
      `})]}):null},aN=l=>{const n=new Date(l);n.setHours(0,0,0,0);const a=n.getDay(),s=n.getDate()-a+(a===0?-6:1);return new Date(n.setDate(s))},As=(l,n)=>{const a=new Date(l);return a.setDate(a.getDate()+n),a},Ph=(l,n)=>l.getFullYear()===n.getFullYear()&&l.getMonth()===n.getMonth()&&l.getDate()===n.getDate(),sN=l=>{let n=new Date;n.setHours(0,0,0,0);let a=l;if(l.toLowerCase().startsWith("tomorrow")?(n.setDate(n.getDate()+1),a=l.split(", ")[1]):l.toLowerCase().startsWith("today")&&(a=l.split(", ")[1]),l.toLowerCase().startsWith("tomorrow")||l.toLowerCase().startsWith("today"))try{const[u,m]=a.split(" ");let[h,x]=u.split(":"),y=parseInt(h,10);const g=parseInt(x,10);return m.toLowerCase()==="pm"&&y<12&&(y+=12),m.toLowerCase()==="am"&&y===12&&(y=0),n.setHours(y,g,0,0),n}catch{return n}const s=new Date(l);return isNaN(s.getTime())?null:s},oN=({reminders:l,patients:n,onScheduleAppointment:a,onDeleteAppointment:s})=>{const[u,m]=M.useState(new Date),[h,x]=M.useState(!1),[y,g]=M.useState(null),v=aN(u),T=M.useMemo(()=>{const U=l.filter(V=>V.type==="Appointment").map(V=>({...V,date:sN(V.time),patient:la.find(z=>z.id===V.patientId)})).filter(V=>V.date!==null).sort((V,z)=>V.date.getTime()-z.date.getTime()),P={};for(let V=0;V<7;V++){const z=As(v,V),W=z.toISOString().split("T")[0];P[W]=U.filter(Z=>Ph(Z.date,z))}return P},[l,v]),C=U=>{const P=As(u,U==="prev"?-7:7);m(P)},b=U=>{g(U),x(!0)},E=(U,P)=>{window.confirm(`Are you sure you want to delete the appointment for ${P||"this patient"}?`)&&s(U)},D=Array.from({length:7},(U,P)=>As(v,P)),L=new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric"}),Y=new Intl.DateTimeFormat("en-US",{year:"numeric"});return r.jsxs("div",{children:[r.jsxs("header",{className:"mb-10",children:[r.jsx("h2",{className:"text-5xl font-bold text-gray-800",children:"Your Schedule"}),r.jsx("p",{className:"text-2xl text-gray-500 mt-2",children:"Manage your upcoming appointments for the week."})]}),r.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("button",{onClick:()=>C("prev"),className:"bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:"← Prev Week"}),r.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-gray-800 text-center",children:[L.format(v)," - ",L.format(As(v,6)),", ",Y.format(v)]}),r.jsx("button",{onClick:()=>C("next"),className:"bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg hover:bg-gray-300",children:"Next Week →"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-2",children:D.map(U=>{const P=U.toISOString().split("T")[0],V=T[P]||[],z=Ph(U,new Date);return r.jsxs("div",{className:`rounded-lg p-3 flex flex-col ${z?"bg-teal-50 border-2 border-teal-200":"bg-gray-50"}`,children:[r.jsxs("div",{className:"text-left mb-3",children:[r.jsx("p",{className:`font-bold ${z?"text-teal-700":"text-gray-700"}`,children:U.toLocaleDateString("en-US",{weekday:"short"})}),r.jsx("p",{className:`text-2xl font-bold ${z?"text-teal-700":"text-gray-700"}`,children:U.getDate()})]}),r.jsx("div",{className:"space-y-2 flex-grow",children:V.length>0?V.map(W=>{var Z,se;return r.jsxs("div",{className:"bg-white p-3 rounded-md shadow transition-shadow hover:shadow-md relative group",children:[r.jsx("button",{onClick:()=>{var ie;return E(W.id,(ie=W.patient)==null?void 0:ie.name)},className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-red-600 hover:bg-red-100 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200",title:"Delete Appointment",children:r.jsx(Zh,{className:"h-5 w-5"})}),r.jsxs("p",{className:"font-semibold text-gray-800 text-sm flex items-center pr-4",children:[r.jsx(js,{className:"h-4 w-4 mr-2 text-gray-500 flex-shrink-0"}),(Z=W.date)==null?void 0:Z.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})]}),r.jsxs("p",{className:"font-medium text-teal-700 text-sm mt-1 flex items-center pr-4",children:[r.jsx(Ps,{className:"h-4 w-4 mr-2 text-gray-500 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:((se=W.patient)==null?void 0:se.name)||"N/A"})]})]},W.id)}):r.jsx("div",{className:"text-center text-gray-400 text-sm pt-4 h-full flex items-center justify-center",children:"No appointments"})}),r.jsxs("button",{onClick:()=>b(U),className:"mt-2 w-full flex items-center justify-center text-sm font-semibold text-gray-500 hover:text-teal-700 hover:bg-teal-100 py-2 rounded-md transition-colors",title:"Add Appointment",children:[r.jsx(Qh,{className:"h-4 w-4 mr-1"}),"Add"]})]},P)})})]}),y&&r.jsx(iN,{isOpen:h,onClose:()=>x(!1),selectedDate:y,patients:n,onSchedule:a})]})},vu="elderlyease_app_state",rN=()=>{const n=(()=>{try{const J=localStorage.getItem(vu);if(J){const F=JSON.parse(J);return{role:F.role||null,currentUser:F.currentUser||null,currentDoctor:F.currentDoctor||null,reminders:Array.isArray(F.reminders)?F.reminders:hu,healthRecords:Array.isArray(F.healthRecords)?F.healthRecords:mu,conversations:Array.isArray(F.conversations)?F.conversations:gu}}}catch(J){console.error("Failed to load state from localStorage",J)}return{role:null,currentUser:null,currentDoctor:null,reminders:hu,healthRecords:mu,conversations:gu}})(),[a,s]=M.useState(n.role),[u,m]=M.useState(n.currentUser),[h,x]=M.useState(n.currentDoctor),[y,g]=M.useState(we.Dashboard),[v,T]=M.useState(!1),[C,b]=M.useState(null),[E,D]=M.useState(ut.Dashboard),[L,Y]=M.useState(n.reminders),[U,P]=M.useState(n.healthRecords),[V,z]=M.useState(n.conversations);M.useEffect(()=>{try{const J={role:a,currentUser:u,currentDoctor:h,reminders:L,healthRecords:U,conversations:V};localStorage.setItem(vu,JSON.stringify(J))}catch(J){console.error("Failed to save state to localStorage",J)}},[a,u,h,L,U,V]),M.useEffect(()=>{const F=setInterval(()=>{if(C)return;const B=new Date,w=B.toISOString().split("T")[0],q=`${B.getHours().toString().padStart(2,"0")}:${B.getMinutes().toString().padStart(2,"0")}`,ne=L.find(le=>le.date===w&&le.time===q&&!le.taken&&le.type==="Medication");ne&&b(ne)},1e3);return()=>clearInterval(F)},[L,C]);const W=()=>{u&&localStorage.removeItem(`elderlyease_journal_${u.id}`),localStorage.removeItem(vu),s(null),m(null),x(null),g(we.Dashboard),D(ut.Dashboard),Y(hu),P(mu),z(gu)},Z=J=>{m({...J,id:"user-123",profilePicUrl:"https://randomuser.me/api/portraits/men/32.jpg"})},se=J=>{x(J)},ie=J=>{u&&m({...u,profilePicUrl:J})},ce=J=>{const F={...J,id:`rem-${Date.now()}`,type:"Medication"};Y(B=>[F,...B])},X=J=>{Y(F=>F.filter(B=>B.id!==J))},ae=J=>{Y(F=>F.map(B=>B.id===J?{...B,taken:!0}:B)),(C==null?void 0:C.id)===J&&b(null)},re=J=>{const F={...J,id:`hr-${Date.now()}`,uploadedAt:new Date().toISOString()};P(B=>[F,...B])},ee=J=>{const F={...J,id:`rem-${Date.now()}`,type:"Appointment"};Y(B=>[F,...B])},te=(J,F)=>{const B=V.findIndex(le=>le.patientId===J);if(B===-1||!h)return;const w={id:`msg-${Date.now()}`,text:F,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isMe:!1},q=[...V],ne=q[B];ne.messages=[...ne.messages,w],ne.lastMessage=F,ne.lastMessageTimestamp="Just now",z(q)},I=()=>{if(!u)return r.jsx($C,{onLogin:Z});let J;switch(y){case we.Dashboard:J=r.jsx(wh,{setActiveView:g,userName:u.name.split(" ")[0]});break;case we.Consultation:J=r.jsx(UC,{});break;case we.HealthRecords:J=r.jsx(LC,{healthRecords:U.filter(B=>B.patientId===u.id),onAddRecord:re,patientId:u.id});break;case we.Reminders:J=r.jsx(PC,{reminders:L.filter(B=>B.patientId===u.id),onAddReminder:ce,onDeleteReminder:X,onMarkAsTaken:ae,patientId:u.id});break;case we.Wellness:J=r.jsx(HC,{userId:u.id});break;case we.Education:J=r.jsx(zC,{setActiveView:g});break;case we.SymptomChecker:J=r.jsx(VC,{});break;case we.CommunityHub:J=r.jsx(JC,{userDetails:u});break;case we.Chats:J=r.jsx(Ih,{conversations:V.filter(B=>B.patientId===u.id),setConversations:z,currentUserId:u.id});break;case we.Profile:J=r.jsx(XC,{user:u,onUpdateProfilePic:ie});break;case we.Music:J=r.jsx(Uh,{});break;default:J=r.jsx(wh,{setActiveView:g,userName:u.name.split(" ")[0]})}const F=Object.values(we);return r.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[r.jsx(Dx,{activeView:y,setActiveView:g,onSosClick:()=>T(!0),userDetails:u,onLogout:W}),r.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:J}),r.jsx(Eh,{role:"patient",setActiveView:g,onSosClick:()=>T(!0),reminders:L,userName:u.name.split(" ")[0],availableViews:F,currentUserId:u.id,onAddReminder:ce}),r.jsx(Ux,{isOpen:v,onClose:()=>T(!1),title:"SOS Alert Triggered",description:"Your emergency contacts and nearest medical services have been notified. Help is on the way."}),r.jsx(AC,{reminder:C,onMarkAsTaken:ae,onAddReminder:ce})]})},$=()=>{if(!h)return r.jsx(ZC,{onLogin:se});let J;switch(E){case ut.Dashboard:J=r.jsx(Lh,{doctor:h,reminders:L,onScheduleAppointment:ee,onSendMessage:te});break;case ut.Patients:J=r.jsx(tN,{healthRecords:U,patients:la,reminders:L,conversations:V,doctor:h,onAddHealthRecord:re});break;case ut.Schedule:J=r.jsx(oN,{doctor:h,reminders:L,patients:la,onScheduleAppointment:ee,onDeleteAppointment:X});break;case ut.Chats:J=r.jsx(Ih,{conversations:V,setConversations:z,currentUserId:h.id});break;case ut.Music:J=r.jsx(Uh,{});break;case ut.Profile:J=r.jsx("div",{className:"text-3xl font-bold",children:"Doctor Profile Page (Not Implemented)"});break;default:J=r.jsx(Lh,{doctor:h,reminders:L,onScheduleAppointment:ee,onSendMessage:te})}const F=Object.values(ut);return r.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[r.jsx(Ix,{activeView:E,setActiveView:D,doctorDetails:h,onLogout:W}),r.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:J}),r.jsx(Eh,{role:"doctor",setActiveView:D,onSosClick:()=>{},reminders:L,userName:h.name.split(" ")[0],availableViews:F,currentUserId:h.id})]})};return a?a==="patient"?I():a==="doctor"?$():null:r.jsx(KC,{onSelectRole:s})},Ig=document.getElementById("root");if(!Ig)throw new Error("Could not find root element to mount to");const uN=fx.createRoot(Ig);uN.render(r.jsx(qh.StrictMode,{children:r.jsx(rN,{})}));
